(this["webpackJsonptapis-ui-cra"]=this["webpackJsonptapis-ui-cra"]||[]).push([[0],{100:function(e,t,n){e.exports={root:"Paginator_root__1z-Ua",endcap:"Paginator_endcap__2RO8F","page-root":"Paginator_page-root__3Gjsi",page:"Paginator_page__PkH6m",current:"Paginator_current__82eHE"}},101:function(e,t,n){e.exports={cards:"Dashboard_cards__2FNuR",card:"Dashboard_card__1MOwv","card-header":"Dashboard_card-header__1gMPI","card-footer":"Dashboard_card-footer__ByrWr",header:"Dashboard_header__2o3jP"}},102:function(e,t,n){e.exports={"col-header":"MoveCopyModal_col-header__BpJPI","file-list":"MoveCopyModal_file-list__3ssMt","file-list-origin":"MoveCopyModal_file-list-origin__95st0","nav-list":"MoveCopyModal_nav-list__2tObI","remove-file":"MoveCopyModal_remove-file__3o70F"}},103:function(e,t,n){e.exports={"notification-toast-container":"NotificationToast_notification-toast-container__3v4Cz","MuiSnackbar-anchorOriginBottomLeft":"NotificationToast_MuiSnackbar-anchorOriginBottomLeft__gSrzM","notification-toast":"NotificationToast_notification-toast__3Usjp","MuiSnackbarContent-root":"NotificationToast_MuiSnackbarContent-root__3IttC","toast-is-error":"NotificationToast_toast-is-error__1BIGF","notification-toast-body":"NotificationToast_notification-toast-body__wL5Kk","MuiSnackbarContent-message":"NotificationToast_MuiSnackbarContent-message__2I5ZD","notification-toast-icon-wrapper":"NotificationToast_notification-toast-icon-wrapper__2KxSt","notification-toast-content":"NotificationToast_notification-toast-content__YS-pU"}},104:function(e,t){},111:function(e,t,n){e.exports={box:"Breadcrumbs_box__3k9X9",fragment:"Breadcrumbs_fragment__1MgSp",link:"Breadcrumbs_link__17cDm"}},112:function(e,t,n){e.exports={input:"TextCopyField_input__1fztk bootstrap_form_form-control__3JyGg","copy-button":"TextCopyField_copy-button__IUKh4 c-button_c-button--secondary__22Cay","is-copied":"TextCopyField_is-copied__18hMg",button__icon:"TextCopyField_button__icon__aIDYM c-button_c-button__icon--before__2PDTf"}},113:function(e,t,n){e.exports={"file-list":"FileListing_file-list__3wKB2","file-list-select":"FileListing_file-list-select__13QfA",link:"FileListing_link__2fi8N",selected:"FileListing_selected__3F9id","select-all":"FileListing_select-all__1TgE2"}},114:function(e,t,n){e.exports={body:"LayoutSections_body__MIAF2",constrain:"LayoutSections_constrain__O1u_3",nav:"LayoutSections_nav__1qrzp",detail:"LayoutSections_detail__35AJZ","sub-header":"LayoutSections_sub-header__NJoO1"}},115:function(e,t,n){e.exports={"nav-list":"Navbar_nav-list__3MPLr","nav-link":"Navbar_nav-link__3WfXQ",active:"Navbar_active__1wiRk","nav-text":"Navbar_nav-text__2CNK9","nav-content":"Navbar_nav-content__1z1nH"}},116:function(e,t,n){e.exports={container:"UIPatternsMessage_container__2KK1-","is-row-end":"UIPatternsMessage_is-row-end__3M7kw",secondary:"UIPatternsMessage_secondary__L-0th"}},117:function(e,t,n){e.exports={"item-narrow":"UIPatternsDescriptionList_item-narrow__-Sesu","item-x-narrow":"UIPatternsDescriptionList_item-x-narrow__2FhXS","list-cols":"UIPatternsDescriptionList_list-cols__3bTVt","list-rows":"UIPatternsDescriptionList_list-rows__1LLfu"}},125:function(e,t,n){e.exports={root:"Section_root__oT5mq",messages:"Section_messages__1MPS4",header:"Section_header__2Nj4s",content:"Section_content__23BLV"}},126:function(e,t,n){e.exports={root:"SectionHeader_root__2kXRe",heading:"SectionHeader_heading__UPEP-","for-form":"SectionHeader_for-form__2aqji","for-table":"SectionHeader_for-table__3uH99"}},127:function(e,t,n){e.exports={input:"CopyButton_input__3oXnS bootstrap_form_form-control__3JyGg","copy-button":"CopyButton_copy-button__3EjZN c-button_c-button--secondary__22Cay","is-copied":"CopyButton_is-copied__718oW",button__icon:"CopyButton_button__icon__1g2Y0 c-button_c-button__icon--before__2PDTf"}},129:function(e,t,n){e.exports={"layout-root":"PageLayout_layout-root__FslDW","layout-row":"PageLayout_layout-row__3jGem",constrain:"PageLayout_constrain__ykrk3"}},130:function(e,t,n){e.exports={header:"Collapse_header__1_MCS",controls:"Collapse_controls__2yEk7",expand:"Collapse_expand__30LD1"}},156:function(e,t,n){e.exports={wrapper:"SubmitWrapper_wrapper__3HLGZ","loading-spinner":"SubmitWrapper_loading-spinner__24zAp",reverse:"SubmitWrapper_reverse__rt176"}},157:function(e,t,n){e.exports={container:"Expand_container__3sl_d",summary:"Expand_summary__34ijc",header:"Expand_header__25VB9"}},160:function(e,t,n){e.exports={"transfer-list":"TransferListing_transfer-list__3dWTu",selected:"TransferListing_selected__39zTf",link:"TransferListing_link__1d1go",selectable:"TransferListing_selectable__IQrXG"}},161:function(e,t,n){e.exports={"system-list":"SystemListing_system-list__1AbHy",selected:"SystemListing_selected__2R8HQ",link:"SystemListing_link__1IJy2"}},162:function(e,t,n){e.exports={tab:"Tabs_tab__3sagy",active:"Tabs_active__DkH7u",pane:"Tabs_pane__1GuLn"}},163:function(e,t,n){e.exports={"progress-bar":"Progress_progress-bar__tPWYD","inner-bar":"Progress_inner-bar__30Z1h",overlay:"Progress_overlay__1YNMo"}},164:function(e,t,n){e.exports={"file-list-table":"DeleteModal_file-list-table__3q9fY","remove-file":"DeleteModal_remove-file__Q1Yuu"}},184:function(e,t,n){e.exports={root:"SectionContent_root__1FxyJ","should-scroll":"SectionContent_should-scroll__3dKfI","should-debug-layout":"SectionContent_should-debug-layout__LG4ti"}},185:function(e,t,n){e.exports={clamped:"ReadMore_clamped__1L0vp",expanded:"ReadMore_expanded__3Wo7t"}},186:function(e,t,n){e.exports={nospace:"FormikCheck_nospace__18S9a"}},190:function(e,t,n){e.exports={"file-list":"FileExplorer_file-list__2qwEM","nav-list":"FileExplorer_nav-list__18Pqu"}},191:function(e,t,n){e.exports={json:"JSONDisplay_json__30aIw",controls:"JSONDisplay_controls__28heq"}},192:function(e,t,n){e.exports={"scheduler-option":"SchedulerOptions_scheduler-option__26ljV","scheduler-option-list":"SchedulerOptions_scheduler-option-list__3lnS1"}},193:function(e,t,n){e.exports={"toolbar-wrapper":"JobsToolbar_toolbar-wrapper__1tSpw","toolbar-btn":"JobsToolbar_toolbar-btn__1P9OB"}},194:function(e,t,n){e.exports={"toolbar-wrapper":"SystemToolbar_toolbar-wrapper__31xGQ","toolbar-btn":"SystemToolbar_toolbar-btn__38bbn"}},195:function(e,t,n){e.exports={"modal-settings":"DeleteSystemModal_modal-settings__3Q8kr",item:"DeleteSystemModal_item__4v1tk",array:"DeleteSystemModal_array__18IZ7"}},196:function(e,t,n){e.exports={"modal-settings":"UndeleteSystemModal_modal-settings__tL1bS",item:"UndeleteSystemModal_item__weLyQ",array:"UndeleteSystemModal_array__5wlQ9"}},197:function(e,t,n){e.exports={"toolbar-wrapper":"SystemLayoutToolbar_toolbar-wrapper__2rq3V","toolbar-btn":"SystemLayoutToolbar_toolbar-btn__pBjUr"}},198:function(e,t,n){e.exports={"modal-settings":"ShareSystemPublicModal_modal-settings__1Mh6a",item:"ShareSystemPublicModal_item__2YbFh",array:"ShareSystemPublicModal_array__37XW2"}},199:function(e,t,n){e.exports={"modal-settings":"UnShareSystemPublicModal_modal-settings__1M5e_",item:"UnShareSystemPublicModal_item__IbWhh",array:"UnShareSystemPublicModal_array__jB_Q0"}},200:function(e,t,n){e.exports={body:"Layout_body__1gtCR",container:"Layout_container__3wytJ"}},201:function(e,t,n){e.exports={"toolbar-wrapper":"Toolbar_toolbar-wrapper__2L4Vw","toolbar-btn":"Toolbar_toolbar-btn__1UQBN"}},22:function(e,t,n){e.exports={array:"FieldArray_array__1FdXA",item:"FieldArray_item__3igsS","array-group":"FieldArray_array-group__TnXNf",description:"FieldArray_description__3gmsr"}},248:function(e,t,n){e.exports={root:"Sidebar_root__XkIbE"}},253:function(e,t,n){e.exports={root:"SectionMessages_root__31Az9"}},254:function(e,t,n){e.exports={"one-row":"SectionContent_layouts_one-row__2bgYF","one-column":"SectionContent_layouts_one-column__1WdLz","two-column":"SectionContent_layouts_two-column__3n1EU"}},256:function(e,t,n){e.exports={container:"DropdownSelector_container___L3s8 bootstrap_form_form-control__3JyGg"}},257:function(e,t,n){e.exports={root:"Pill_root__20jYh","should-truncate":"Pill_should-truncate__3G_4O","is-danger":"Pill_is-danger__RWDLI","is-success":"Pill_is-success__3i8Z2","is-warning":"Pill_is-warning__2ghgs","is-normal":"Pill_is-normal__3e2Uh"}},266:function(e,t,n){e.exports={sourceUrls:"FileInputArrays_sourceUrls__21S5-"}},268:function(e,t,n){e.exports={tab:"PermissionsModal_tab__1MAcr",active:"PermissionsModal_active__H58iE","tab-content":"PermissionsModal_tab-content__2QObh","list-content":"PermissionsModal_list-content__KtOVc"}},269:function(e,t,n){e.exports={breadcrumbs:"Layout_breadcrumbs__C5-FT"}},270:function(e,t,n){e.exports={root:"UIPatternsReadMore_root__1rUhg"}},298:function(e,t,n){},299:function(e,t,n){},301:function(e,t,n){},302:function(e,t,n){},303:function(e,t,n){},39:function(e,t,n){e.exports={"modal-settings":"CreateSystemModal_modal-settings__P6why",item:"CreateSystemModal_item__1CtON",array:"CreateSystemModal_array__1Dkce"}},58:function(e,t,n){e.exports={"col-header":"TransferModal_col-header__2R25o","file-list":"TransferModal_file-list__2symZ","file-list-origin":"TransferModal_file-list-origin__yo8K4","nav-list":"TransferModal_nav-list__35PBl","transfer-list":"TransferModal_transfer-list__m1564",body:"TransferModal_body__3u0Rq",pane:"TransferModal_pane__1Hlc7","transfer-detail":"TransferModal_transfer-detail__3L68M","transfer-cancel":"TransferModal_transfer-cancel__3kWDP"}},70:function(e,t,n){e.exports={container:"Wizard_container__3nypl","step-summary":"Wizard_step-summary__3jbjG",name:"Wizard_name__3gSp9",content:"Wizard_content__2MstC",edit:"Wizard_edit__afhEW",step:"Wizard_step__22G1J",controls:"Wizard_controls__3LG1r",submit:"Wizard_submit__2MBIS"}},71:function(e,t,n){e.exports={container:"UIPatterns_container__1wOgY",header:"UIPatterns_header__2GSY0","grid-item":"UIPatterns_grid-item__1IjYy",items:"UIPatterns_items__1Szqz"}},82:function(e,t,n){e.exports={"form-field__label":"FieldWrapperFormik_form-field__label__12sZb","form-field__help":"FieldWrapperFormik_form-field__help__1XKbr","form-field__validation-error":"FieldWrapperFormik_form-field__validation-error__n8UUS",hidden:"FieldWrapperFormik_hidden__2lmNK"}},87:function(e,t,n){e.exports={container:"Message_container__PHGJX","is-scope-inline":"Message_is-scope-inline__2uX3B","is-scope-section":"Message_is-scope-section__2DGew",text:"Message_text__11RO7","type-icon":"Message_type-icon__26GVH","close-button":"Message_close-button__22u4_","is-info":"Message_is-info__3EBl2",icon:"Message_icon__1I81B","is-warn":"Message_is-warn__2B5bs","is-error":"Message_is-error__ILOSU","is-success":"Message_is-success__xT7pL"}},88:function(e,t,n){e.exports={"array-entry":"DescriptionList_array-entry__2R02r",container:"DescriptionList_container__3IZeA","is-horz":"DescriptionList_is-horz__2TeOi",key:"DescriptionList_key__2XuAI",value:"DescriptionList_value__1nG0K","is-narrow":"DescriptionList_is-narrow__ikNw_","is-wide":"DescriptionList_is-wide__FobkI","is-vert":"DescriptionList_is-vert__2JNuC"}},89:function(e,t,n){e.exports={"file-dropzone":"UploadModal_file-dropzone__17S0q","files-list-header":"UploadModal_files-list-header__2ntgk","files-list-container":"UploadModal_files-list-container__1js2n","file-list-table":"UploadModal_file-list-table__1lOlU","upload-error":"UploadModal_upload-error__3V1VQ","remove-file":"UploadModal_remove-file__2Cq81","progress-bar-container":"UploadModal_progress-bar-container__24cyZ"}},979:function(e,t,n){},98:function(e,t,n){e.exports={remove:"FileInputs_remove__2VlJN",nospace:"FileInputs_nospace__wxRT1","job-input":"FileInputs_job-input__1kRk4"}},980:function(e,t,n){},981:function(e,t,n){},995:function(e,t,n){},996:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"DASHBOARD",(function(){return oe})),n.d(i,"DATA",(function(){return le})),n.d(i,"ALLOCATIONS",(function(){return ue})),n.d(i,"APPLICATIONS",(function(){return de})),n.d(i,"HISTORY",(function(){return je})),n.d(i,"ACCOUNT",(function(){return be})),n.d(i,"TICKETS",(function(){return me})),n.d(i,"UI",(function(){return pe}));var r=n(1),s=n.n(r),a=n(46),c=n.n(a),o=n(27),l=n(11),u={basePath:""},d=s.a.createContext(u),j=n(60),b=n.n(j),m=n(92),p=n(1019),h=n(155),f=n.n(h),v=n(247),O=function(){var e=Object(r.useContext)(d).basePath,t=function(){var e=f.a.get("tapis-token");if(e)return JSON.parse(e)},n=Object(p.a)("tapis-token",t,{initialData:function(){return t()}}),i=n.data,s=n.refetch;return{basePath:e,accessToken:i,setAccessToken:function(){var e=Object(m.a)(b.a.mark((function e(t){var n,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=5;break}return f.a.remove("tapis-token"),e.next=4,s();case 4:return e.abrupt("return");case 5:return i=new Date(null!==(n=t.expires_at)&&void 0!==n?n:0),f.a.set("tapis-token",JSON.stringify(t),{expires:i}),e.next=9,s();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),claims:(null===i||void 0===i?void 0:i.access_token)?Object(v.a)(null===i||void 0===i?void 0:i.access_token):{}}},x=n(1046),y=n(138),g=n(0),_=function(e){e.token;var t=e.basePath,n=e.children,i={basePath:t},r=new x.a;return Object(g.jsx)(d.Provider,{value:i,children:Object(g.jsx)(y.a,{client:r,children:n})})},S=n(248),N=n.n(S),C=n(20),I=n(1048),k=n(249),A=n(111),M=n.n(A),T=function(e){var t=e.to,n=e.onClick,i=e.text;return n?Object(g.jsxs)("span",{className:M.a.fragment,children:[" ",Object(g.jsx)(k.a,{color:"link",className:M.a.link,onClick:function(e){e.preventDefault(),t&&n(t)},children:i}),"\xa0/\xa0"]}):t?Object(g.jsxs)("span",{className:M.a.fragment,children:[Object(g.jsx)(o.c,{to:t,children:i}),"\xa0/\xa0"]}):Object(g.jsxs)("span",{className:M.a.fragment,children:[i,"\xa0","".concat("..."!==i?"/":""),"\xa0"]})},P=function(e){var t,n=e.breadcrumbs,i=e.truncate,r=n;i&&n.length>=5&&((r=Object(C.a)(n.slice(0,2))).push({text:"\u2026"}),(t=r).push.apply(t,Object(C.a)(n.slice(n.length-2,n.length))));return Object(g.jsx)("div",{className:M.a.box,children:r.map((function(e,t){var n=e.text,i=e.to,s=e.onClick;return t===r.length-1?Object(g.jsx)(T,{text:n},Object(I.a)()):Object(g.jsx)(T,{text:n,to:i,onClick:s},Object(I.a)())}))})},w=n(6),L=n(19),F=n(1051),E=n(1020),q=n(1021),D=n(1022),U=["toggle","title","body","footer"],R=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],i=t[1];return{modal:n,open:Object(r.useCallback)((function(){i(!0)}),[i]),close:Object(r.useCallback)((function(){i(!1)}),[i])}},z=function(e){var t=e.toggle,n=e.title,i=e.body,r=e.footer,s=Object(L.a)(e,U);return Object(g.jsxs)(F.a,Object(w.a)(Object(w.a)({isOpen:!0,toggle:t},s),{},{children:[Object(g.jsx)(E.a,{toggle:t,charCode:"\u2715",children:Object(g.jsx)("span",{children:n})}),Object(g.jsx)(q.a,{children:i}),r&&Object(g.jsx)(D.a,{children:r})]}))},V=function(e){var t,n=e.isLoading,i=e.error,r=e.children,s=e.className,a=void 0===s?"":s;return n?Object(g.jsx)("div",{className:a,children:Object(g.jsx)(ae,{})}):i?Object(g.jsx)("div",{className:a,children:Object(g.jsx)(it,{canDismiss:!1,type:"error",scope:"inline",children:null!==(t=i.message)&&void 0!==t?t:i})}):Object(g.jsx)("div",{className:a,children:r})},B=n(156),J=n.n(B),H=function(e){var t,n=e.isLoading,i=e.error,r=e.success,s=e.children,a=e.className,c=void 0===a?"":a,o=e.reverse,l=void 0!==o&&o;return Object(g.jsxs)("div",{className:"".concat(c," ").concat(J.a.wrapper," ").concat(l&&J.a.reverse),children:[s,n&&Object(g.jsx)(ae,{className:J.a["loading-spinner"],placement:"inline"}),i?Object(g.jsx)(it,{canDismiss:!1,type:"error",scope:"inline",children:null!==(t=null===i||void 0===i?void 0:i.message)&&void 0!==t?t:i}):r&&Object(g.jsx)(it,{canDismiss:!1,type:"success",scope:"inline",children:r})]})},Q=n(250),W=n.n(Q),K=n(12),Y=n(70),G=n.n(Y),X=["steps"],Z=s.a.createContext({}),$=function(){var e=Object(r.useContext)(Z),t=e.currentStep,n=e.previousStep,i=e.totalSteps,s=e.nextStep,a=e.goToStep,c=Object(K.j)(),o=c.validateForm,l=c.handleSubmit,u=Object(r.useCallback)(Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o();case 3:t=e.sent,Object.keys(t).length||(l&&l(),s&&s()),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[o,s,l]),d=Object(r.useCallback)(Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o();case 3:t=e.sent,!Object.keys(t).length&&a&&i&&(l(),a(i)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[o,l,a,i]);return Object(g.jsxs)("div",{className:G.a.controls,children:[!!t&&t>1&&Object(g.jsx)(k.a,{onClick:n,children:"Back"}),!!t&&!!i&&t<i&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(k.a,{type:"submit",color:"primary",onClick:u,children:"Continue"}),Object(g.jsx)(k.a,{type:"submit",color:"secondary",onClick:d,children:"Skip to End"})]})]})};function ee(e){var t=e.steps,n=Object(L.a)(e,X).goToNamedStep,i=Object(r.useCallback)((function(e){return n&&n(e)}),[n]);return Object(g.jsxs)("div",{className:G.a.summary,children:[Object(g.jsx)("h3",{children:"Summary"}),t.map((function(e){return Object(g.jsxs)("div",{className:G.a["step-summary"],children:[Object(g.jsxs)("div",{className:G.a.name,children:[Object(g.jsx)("b",{children:e.name}),Object(g.jsx)(k.a,{color:"link",onClick:function(){return i(e.id)},className:G.a.edit,children:"edit"})]}),Object(g.jsx)("div",{className:G.a.content,children:e.summary})]},"wizard-summary-".concat(e.id))}))]})}function te(e){var t=e.step,n=e.formSubmit,i=t.validationSchema,r=t.initialValues,s=t.validate;return Object(g.jsx)(K.e,{validationSchema:i,initialValues:r,validate:s,onSubmit:n,enableReinitialize:!0,children:Object(g.jsx)(K.d,{children:Object(g.jsxs)("div",{className:G.a.step,children:[t.render,Object(g.jsx)($,{})]})})})}var ne=function(e){var t=e.steps,n=e.memo,i=e.formSubmit,s=Object(r.useState)({}),a=Object(l.a)(s,2),c=a[0],o=a[1],u=Object(r.useCallback)((function(e){o(Object(w.a)({currentStep:1,totalSteps:t.length},e))}),[o,t]),d=Object(r.useCallback)((function(e){var t=e.activeStep;o(Object(w.a)(Object(w.a)({},c),{},{currentStep:t}))}),[o,c]),j=c.goToStep;return Object(r.useEffect)((function(){j&&j(1)}),[n]),Object(g.jsx)(Z.Provider,{value:c,children:Object(g.jsxs)("div",{className:G.a.container,children:[Object(g.jsx)(W.a,{instance:u,className:G.a.steps,onStepChange:d,transitions:{},children:t.map((function(e){return Object(g.jsx)(te,{step:e,stepName:e.id,formSubmit:i},"wizard-step-".concat(e.id))}))}),Object(g.jsx)(ee,Object(w.a)({steps:t},c))]})})},ie=function(e){var t=e.toggle,n=e.message,i=e.onConfirm,r=e.isLoading,s=e.isSuccess,a=(e.isError,e.error);return Object(g.jsx)(z,{toggle:t,title:"Confirm",body:n||"Are you sure you want to continue?",footer:Object(g.jsxs)(H,{className:"",isLoading:r,error:a,success:s?"Success":"",reverse:!0,children:[Object(g.jsx)(k.a,{form:"newsystem-form",color:"primary","aria-label":"Submit",type:"submit",onClick:t,children:"Cancel"}),Object(g.jsx)(k.a,{form:"newsystem-form",color:"primary","aria-label":"Submit",type:"submit",onClick:i,children:"Confirm"})]})})},re=n(1023),se=(n(298),function(e){var t=e.placement,n=e.className;return Object(g.jsx)("div",{className:"loading-icon ".concat(n),"data-testid":"loading-spinner",children:Object(g.jsx)(re.a,{className:t})})});se.defaultProps={placement:"section",className:""};var ae=se,ce=n(35),oe="This page allows you to monitor your job status, get help with tickets, and view the status of the High Performance Computing (HPC) systems.",le="This page allows you to upload and manage your files.",ue="This page allows you to monitor the status of allocations on the HPC systems and view a breakdown of team usage.",de="This page allows you to submit jobs to the HPC systems or access Cloud services using a variety of applications.",je="This page allows you to monitor a log of all previous job submissions.",be="This page allows you to manage your account profile, change your password and view software licenses.",me="This page allows you to submit a help request via an RT Ticket.",pe="This hidden page allows developers to review UI components in isolation.",he=n(253),fe=n.n(he);n(299);function ve(e){var t=e.children,n=e.className,s=e.routeName,a=e.welcomeText||i[s],c=s||a,o=a&&Object(g.jsx)(It,{messageName:c,children:a}),l=Nt(s)||t.length>0,u="has-message";return Object(r.useEffect)((function(){l?document.body.classList.add(u):document.body.classList.remove(u)}),[l]),Object(g.jsxs)("aside",{className:"".concat(fe.a.root," ").concat(n),children:[o,t]})}ve.defaultProps={children:"",className:"",routeName:"",welcomeText:""};var Oe=ve,xe=n(184),ye=n.n(xe),ge=n(254),_e=n.n(ge),Se={oneRow:"one-row",oneColumn:"one-column",twoColumn:"two-column"};Object(C.a)(Object.keys(Se));function Ne(e){var t,n=e.className,i=e.children,r=e.layoutName,s=e.shouldScroll,a=e.shouldDebugLayout,c=e.tagName,o=["styles.root"],l=Se[r],u=c;return s&&o.push(ye.a["should-scroll"]),a&&o.push(ye.a["should-debug-layout"]),l&&o.push(_e.a[l]),t=o.join(" "),Object(g.jsx)(u,{className:"".concat(n," ").concat(t),children:i})}Ne.defaultProps={className:"",shouldScroll:!1,shouldDebugLayout:!1,tagName:"div"};var Ce=Ne,Ie=n(125),ke=n.n(Ie);function Ae(e){var t,n=e.bodyClassName,i=e.children,s=e.className,a=e.content,c=e.contentClassName,o=e.contentLayoutName,l=e.contentShouldScroll,u=e.header,d=e.headerActions,j=e.headerClassName,b=e.manualContent,m=e.manualHeader,p=e.messages,h=e.messagesClassName,f=e.routeName,v=e.welcomeMessageText,O=u||j||d;if(b&&(a||c||o||l))throw new Error("When passing `manualContent`, the following props are ineffectual: `content`, `contentClassName`, `contentLayoutName`, `contentShouldScroll`");if(m&&(u||j||d))throw new Error("When passing `manualHeader`, the following props are ineffectual: `header`, `headerClassName`, `headerActions`");return Object(r.useEffect)((function(){return n&&document.body.classList.add(n),function(){n&&document.body.classList.remove(n)}}),[n]),Object(g.jsxs)("section",{className:"".concat(s," ").concat(ke.a.root),children:[Object(g.jsx)(Oe,(t={className:ke.a.messages,routeName:f},Object(ce.a)(t,"className",h),Object(ce.a)(t,"welcomeText",v),Object(ce.a)(t,"children",p),t)),m?Object(g.jsx)(g.Fragment,{children:m}):O&&Object(g.jsx)(we,{className:"".concat(j," ").concat(ke.a.header),actions:d,children:u}),b?Object(g.jsxs)(g.Fragment,{children:[b,i]}):Object(g.jsxs)(Ce,{tagName:"main",className:"".concat(c," ").concat(ke.a.content),layoutName:o||"oneRow",shouldScroll:l,children:[a,i]})]})}Ae.defaultProps={bodyClassName:"",children:"",className:"",content:"",contentClassName:"",contentLayoutName:"",contentShouldScroll:!1,header:"",headerActions:"",headerClassName:"",manualContent:void 0,manualHeader:void 0,messages:"",messagesClassName:"",routeName:"",welcomeMessageText:""};var Me=n(126),Te=n.n(Me);function Pe(e){var t,n=e.actions,i=e.children,r=e.className,s=e.isForForm,a=e.isForTable,c=[Te.a.root],o=s||a?"h3":"h2";return s&&c.push(Te.a["for-form"]),a&&c.push(Te.a["for-table"]),t=c.join(" "),Object(g.jsxs)("header",{className:"".concat(t," ").concat(r),children:[i&&Object(g.jsx)(o,{className:Te.a.heading,children:i}),n]})}Pe.defaultProps={actions:"",className:"",children:"",isForForm:!1,isForTable:!1};var we=Pe,Le=(n(104),n(255)),Fe=(n(301),function(e){return e.isLoading?Object(g.jsx)("tr",{className:"-status",children:Object(g.jsx)("td",{children:Object(g.jsx)(ae,{placement:"inline"})})}):null}),Ee=function(e){var t=e.display,n=e.noDataText;return t?Object(g.jsx)("tr",{className:"-status",children:Object(g.jsx)("td",{children:Object(g.jsx)("span",{className:"-status__message",children:n})})}):null},qe=function(e){var t=e.tableColumns,n=e.tableData,i=e.onInfiniteScroll,r=e.isLoading,a=e.className,c=e.noDataText,o=e.getRowProps,l=e.columnMemoProps,u=s.a.useMemo((function(){return t}),[l,t]),d=s.a.useMemo((function(){return n}),[n]),j=Object(Le.useTable)({columns:u,data:d}),b=j.getTableProps,m=j.getTableBodyProps,p=j.headerGroups,h=j.rows,f=j.prepareRow;return Object(g.jsxs)("table",Object(w.a)(Object(w.a)({},b()),{},{className:"".concat(a," InfiniteScrollTable"),children:[Object(g.jsx)("thead",{children:p.map((function(e){return Object(g.jsx)("tr",Object(w.a)(Object(w.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(g.jsx)("th",Object(w.a)(Object(w.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(g.jsxs)("tbody",Object(w.a)(Object(w.a)({},m()),{},{onScroll:function(e){var t=e.target;t.scrollHeight-t.scrollTop===t.clientHeight&&t.scrollTop>0&&i(n.length)},children:[h.map((function(e){return f(e),Object(g.jsx)("tr",Object(w.a)(Object(w.a)(Object(w.a)({},e.getRowProps()),o(e)),{},{children:e.cells.map((function(e){return Object(g.jsx)("td",Object(w.a)(Object(w.a)({},e.getCellProps({className:e.column.className})),{},{children:e.render("Cell")}))}))}))})),Object(g.jsx)(Fe,{isLoading:r}),Object(g.jsx)(Ee,{display:!r&&0===n.length,noDataText:c})]}))]}))};qe.defaultProps={onInfiniteScroll:function(e){},isLoading:!1,className:"",noDataText:"",getRowProps:function(e){},columnMemoProps:[]};var De=qe,Ue=n(1024),Re=n(1025),ze=n(1026),Ve=n(1027),Be=(n(302),function(e){var t=e.children,n=e.className,i=e.name,r="icon icon-".concat(i),s=n?[n,r].join(" "):r,a=t;return Object(g.jsx)("i",{className:s,role:"img","aria-label":a})});Be.defaultProps={children:"",className:""};var Je=Be,He=(n(303),n(157)),Qe=n.n(He),We=function(e){var t,n=e.className,i=e.detail,s=e.message,a=Object(r.useState)(!1),c=Object(l.a)(a,2),o=c[0],u=c[1],d=Object(r.useCallback)((function(){u(!o)}),[o,u]);return Object(g.jsxs)(Ue.a,(t={className:Qe.a.container},Object(ce.a)(t,"className",n),Object(ce.a)(t,"tag","div"),Object(ce.a)(t,"children",[Object(g.jsxs)(Re.a,{className:Qe.a.summary,onClick:d,tag:"div",children:[Object(g.jsx)("strong",{className:Qe.a.header,children:i}),Object(g.jsx)(Je,{name:o?"collapse":"expand"})]}),Object(g.jsx)(ze.a,{isOpen:o,children:Object(g.jsx)(Ve.a,{children:s})})]),t))};We.defaultProps={className:""};var Ke=n(66),Ye=n(87),Ge=n.n(Ye),Xe="For a <(Section)Message> to use `canDismiss`, `scope` must equal `section`.",Ze='In a <(Section|Inline)Message> `type="warn"` is deprecated. Use `type="warning"` instead.',$e='A <Message> without a `scope` should become an <InlineMessage>. (If <Message> must be used, then explicitely set `scope="inline"`.)',et={info:{iconName:"conversation",className:"is-info",iconText:"Notice"},success:{iconName:"approved-reverse",className:"is-success",iconText:"Notice"},warning:{iconName:"alert",className:"is-warn",iconText:"Warning"},error:{iconName:"alert",className:"is-error",iconText:"Error"}};et.warn=et.warning;Object.keys(et);var tt={inline:{className:"is-scope-inline",role:"status",tagName:"span"},section:{className:"is-scope-section",role:"status",tagName:"p"}},nt=([""].concat(Object(C.a)(Object.keys(tt))),function(e){var t=e.children,n=e.className,i=e.onDismiss,r=e.canDismiss,s=e.isVisible,a=e.scope,c=e.type,o=et[c],l=tt[a||"inline"],u=o.iconName,d=o.iconText,j=o.className,b=l.role,m=l.tagName,p=l.className,h="section"===a;r&&!h&&console.error(Xe),"warn"===c&&console.info(Ze),a||console.info($e);var f=[];f.push(j),f.push(p);var v=["container"].concat(f).map((function(e){return Ge.a[e]})).join(" "),O=Object(w.a)(Object(w.a)({},Ke.a.defaultProps),{},{unmountOnExit:!0,baseClass:"",timeout:0});return Object(g.jsxs)(Ke.a,Object(w.a)(Object(w.a)({},O),{},{tag:m,className:"".concat(n," ").concat(v),role:b,in:s,children:[Object(g.jsx)(Je,{className:"".concat(Ge.a.icon," ").concat(Ge.a["type-icon"]),name:u,children:d}),Object(g.jsx)("span",{className:Ge.a.text,"data-testid":"text",children:t}),r&&h?Object(g.jsx)("button",{type:"button",className:Ge.a["close-button"],"aria-label":"Close",onClick:i,children:Object(g.jsx)(Je,{className:"".concat(Ge.a.icon," ").concat(Ge.a["close-icon"]),name:"close"})}):null]}))});nt.defaultProps={className:"",canDismiss:!1,isVisible:!0,onDismiss:function(){},scope:""};var it=nt,rt=function(e){var t=Object(w.a)(Object(w.a)(Object(w.a)({},it.defaultProps),e),{},{canDismiss:!1,scope:"inline"});return Object(g.jsx)(it,Object(w.a)({},t))};rt.defaultProps=it.defaultProps;var st=rt,at=function(e){var t=Object(r.useState)(!0),n=Object(l.a)(t,2),i=n[0],s=n[1],a=Object(r.useCallback)((function(){s(!i)}),[i]),c=Object(w.a)(Object(w.a)(Object(w.a)({},it.defaultProps),e),{},{isVisible:i,onDismiss:a,scope:"section"});return Object(g.jsx)(it,Object(w.a)({},c))};at.defaultProps=it.defaultProps;var ct=at,ot=n(88),lt=n.n(ot),ut={vertical:"is-vert",horizontal:"is-horz"},dt="vertical",jt=([""].concat(Object(C.a)(Object.keys(ut))),{compact:"is-narrow",default:"is-wide"}),bt="default",mt=([""].concat(Object(C.a)(Object.keys(jt))),function(e){var t=e.value;return 0===t.length?Object(g.jsx)("dd",{className:lt.a.value,children:Object(g.jsx)("i",{children:"None"})}):Object(g.jsx)("dl",{children:t.map((function(e,t){return Object(g.jsxs)("div",{className:lt.a["array-entry"],children:[Object(g.jsx)("dt",{className:lt.a.key,children:Object(g.jsx)("i",{children:t})}),Object(g.jsx)("dd",{className:lt.a.value,"data-testid":"value",children:Object(g.jsx)(pt,{value:e})})]},Object(I.a)())}))})}),pt=function(e){var t=e.value;return void 0===t?Object(g.jsx)("i",{children:"Undefined"}):Array.isArray(t)?Object(g.jsx)(mt,{value:t}):t instanceof Set?Object(g.jsx)(mt,{value:Array.from(t)}):"object"===typeof t?Object(g.jsx)(ht,{data:t}):"string"===typeof t?Object(g.jsx)(g.Fragment,{children:t}):Object(g.jsx)(g.Fragment,{children:JSON.stringify(t)})},ht=function(e){var t=e.className,n=e.data,i=e.density,r=e.direction,a=[];a.push(jt[i||bt]),a.push(ut[r||dt]);var c=["container"].concat(a).map((function(e){return lt.a[e]})).join(" "),o=Object.entries(n);return 0===o.length?Object(g.jsx)("div",{children:Object(g.jsx)("i",{children:"Empty object"})}):Object(g.jsx)("dl",{className:"".concat(t," ").concat(c),"data-testid":"list",children:o.map((function(e){var t=Object(l.a)(e,2),n=t[0],i=t[1];return Object(g.jsxs)(s.a.Fragment,{children:[Object(g.jsx)("dt",{className:lt.a.key,"data-testid":"key",children:n}),Object(g.jsx)("dd",{className:lt.a.value,"data-testid":"value",children:Object(g.jsx)(pt,{value:i})})]},n)}))})};ht.defaultProps={className:"",density:bt,direction:dt};var ft=ht,vt=n(1028),Ot=n(256),xt=n.n(Ot),yt=["type","onChange"],gt=function(e){var t=e.type,n=e.onChange,i=Object(L.a)(e,yt),r="multiple"===t;return Object(g.jsx)(vt.a,Object(w.a)(Object(w.a)({},i),{},{onChange:n,type:"select",className:xt.a.container,multiple:r,"data-testid":"selector"}))};gt.defaultProps={type:"single",onChange:function(){}};var _t=gt,St=n(1029);function Nt(e){var t={};return t&&t[e]}function Ct(e){var t=e.children,n=e.className,i=e.messageName,r=Nt(i),s={};return Object(g.jsx)(St.a,{isOpen:r,toggle:function(){return e=i,Object(w.a)(Object(w.a)({},s),{},Object(ce.a)({},e,!1));var e},color:"secondary",className:n,children:t})}Ct.defaultProps={className:""};var It=Ct,kt=n(257),At=n.n(kt);function Mt(e){var t=e.children,n=e.type,i=e.className,r=e.shouldTruncate,s="root is-".concat(n);return r&&(s+=" should-truncate"),Object(g.jsx)("span",{className:"".concat(At.a[s]," ").concat(i),children:t})}Mt.defaultProps={type:"normal",className:"",shouldTruncate:!0};var Tt=Mt,Pt=n(142),wt=n(112),Lt=n.n(wt),Ft=function(e){var t=e.value,n=e.placeholder,i=Object(r.useState)(!1),s=Object(l.a)(i,2),a=s[0],c=s[1],o=Object(r.useCallback)((function(){c(!0);var e=setTimeout((function(){c(!1),clearTimeout(e)}),1150)}),[c,1.15]),u=!t||0===t.length;return Object(g.jsxs)("div",{className:"input-group",children:[Object(g.jsx)("div",{className:"input-group-prepend",children:Object(g.jsx)(Pt.CopyToClipboard,{text:t,children:Object(g.jsxs)(k.a,{className:"".concat(Lt.a["copy-button"]," ").concat(a?Lt.a["is-copied"]:""),style:{"--transition-duration":"".concat(.15,"s")},onClick:o,disabled:u,type:"button",children:[Object(g.jsx)(Je,{name:a?"approved-reverse":"link",className:Lt.a.button__icon}),Object(g.jsx)("span",{className:Lt.a.button__text,children:"Copy"})]})})}),Object(g.jsx)("input",{type:"text",onChange:function(e){e.preventDefault()},value:t,className:"form-control ".concat(Lt.a.input),placeholder:n,"data-testid":"input",readOnly:!0})]})};Ft.defaultProps={value:"",placeholder:""};var Et=n(258),qt=n(185),Dt=n.n(qt),Ut=function(e){var t=e.className,n=e.children,i=Object(r.useState)(!1),s=Object(l.a)(i,2),a=s[0],c=s[1],o=Object(r.useCallback)((function(){c(!a)}),[a,c]),u=Object(Et.a)(),d=u.height,j=u.ref,b=!(!j||!j.current)&&j.current.scrollHeight>d;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"".concat(a?Dt.a.expanded:Dt.a.clamped," ").concat(t),ref:j,children:n}),(b||a)&&Object(g.jsx)(k.a,{color:"link",onClick:o,children:a?"Read Less":"Read More"})]})};Ut.defaultProps={className:""};var Rt=Ut,zt=n(100),Vt=n.n(zt),Bt=function(e){var t=e.number,n=e.callback,i=e.current;return Object(g.jsx)("div",{className:Vt.a["page-root"],children:Object(g.jsx)(k.a,{className:"".concat(Vt.a.page," ").concat(t===i?Vt.a.current:""),onClick:function(){return n(t)},children:t})})},Jt=function(e){var t,n,i=e.pages,r=e.current,s=e.callback,a=e.spread;if(1===i)n=0,t=1;else if(i>2&&i<=a)t=2,n=i-1;else if(i>a&&r<=4)t=2,n=a-1;else if(i>a&&r>i-(a-2))t=i-(a-2),n=i-1;else{var c=Math.floor((a-2)/2);t=r-c,n=r+c}var o=n-t+1,l=o>0?Array(o).fill().map((function(e,n){return t+n})):[];return Object(g.jsxs)("div",{className:Vt.a.root,children:[Object(g.jsx)(k.a,{color:"link",className:Vt.a.root,onClick:function(){return s(r-1)},disabled:1===r,children:Object(g.jsx)("span",{children:"< Previous"})}),Object(g.jsx)(Bt,{number:1,callback:s,current:r}),l[0]>2&&Object(g.jsx)("span",{children:"..."}),l.map((function(e){return Object(g.jsx)(Bt,{number:e,current:r,callback:s},e)})),l[l.length-1]<i-1&&Object(g.jsx)("span",{children:"..."}),i>1&&Object(g.jsx)(Bt,{number:i,callback:s,current:r}),Object(g.jsx)(k.a,{color:"link",className:Vt.a.endcap,onClick:function(){return s(r+1)},disabled:r===i,children:Object(g.jsx)("span",{children:"Next >"})})]})};Jt.defaultProps={spread:11};var Ht=n(38),Qt=["children"];var Wt=function(e){var t=e.children,n=Object(L.a)(e,Qt),i=O().accessToken;return Object(g.jsx)(Ht.b,Object(w.a)(Object(w.a)({},n),{},{render:function(e){var n=e.location;return i?t:Object(g.jsx)(Ht.a,{to:{pathname:"/login",state:{from:n}}})}}))},Kt=n(127),Yt=n.n(Kt),Gt=function(e){var t=e.value,n=e.className,i=Object(r.useState)(!1),s=Object(l.a)(i,2),a=s[0],c=s[1],o=Object(r.useCallback)((function(){c(!0);var e=setTimeout((function(){c(!1),clearTimeout(e)}),1150)}),[c,1.15]),u=!t||0===t.length;return Object(g.jsx)(Pt.CopyToClipboard,{text:t,children:Object(g.jsxs)(k.a,{className:"".concat(Yt.a["copy-button"]," ").concat(a?Yt.a["is-copied"]:""," ").concat(n),style:{"--transition-duration":"".concat(.15,"s")},onClick:o,disabled:u,type:"button",size:"sm",children:[Object(g.jsx)(Je,{name:a?"approved-reverse":"copy",className:Yt.a.button__icon}),Object(g.jsx)("span",{className:Yt.a.button__text,children:"Copy"})]})})};Gt.defaultProps={value:"",className:""};var Xt=Gt,Zt=n(1030),$t=n(1031),en=n(1032),tn=n(1033),nn=n(82),rn=n.n(nn),sn=function(e){var t=e.name,n=e.label,i=e.required,r=e.description,s=e.isHidden,a=void 0!==s&&s,c=e.as,o=Object(K.i)(t),u=Object(l.a)(o,2)[1];return Object(g.jsx)(Zt.a,{children:Object(g.jsxs)("span",{className:a?rn.a.hidden:"",children:[Object(g.jsxs)($t.a,{className:"form-field__label",size:"sm",style:{display:"flex",alignItems:"center"},htmlFor:t,children:[n,i&&!a?Object(g.jsx)(en.a,{color:"danger",style:{marginLeft:"10px"},children:"Required"}):null]}),Object(g.jsx)(K.b,{name:t,as:c,id:t}),u.error&&Object(g.jsx)(tn.a,{className:rn.a["form-field__help"],color:"danger",children:u.error}),r&&!u.error&&Object(g.jsx)(tn.a,{className:rn.a["form-field__help"],color:"muted",children:r})]})})},an=["name","label","required","description"],cn=function(e){var t=e.name,n=e.label,i=e.required,r=e.description,s=Object(L.a)(e,an);return Object(g.jsx)(sn,{name:t,label:n,required:i,description:r,isHidden:s.type&&"hidden"===s.type,as:function(e){return Object(g.jsx)(vt.a,Object(w.a)(Object(w.a)({bsSize:"sm"},s),e))}})},on=s.a.memo(cn),ln=n(158),un=n.n(ln);function dn(e,t,n,i){var r=e.setValues,s=e.validateForm,a=e.validateOnChange,c=e.setFieldValue,o=e.values;if(void 0===n){var l=function(e,t,n){for(var i=un.a.clone(e),r=i,s=0,a=un.a.toPath(t);s<a.length-1;s++){var c=a[s],o=Object(K.f)(e,a.slice(0,s+1));if(o&&(Object(K.h)(o)||Array.isArray(o)))r=r[c]=un.a.clone(o);else{var l=a[s+1];r=r[c]=Object(K.g)(l)&&Number(l)>=0?[]:{}}}if((0===s?e:r)[a[s]]===n)return e;r[a[s]]=void 0===n?void 0:n;0===s&&void 0===n&&(i[a[s]]=void 0);return i}(o,t,void 0);r(l),(void 0===i?a:i)&&s(l)}else c(t,n,i)}var jn=["name","label","required","description","children"],bn=["onChange"],mn=function(e){var t=e.name,n=e.label,i=e.required,r=e.description,s=e.children,a=Object(L.a)(e,jn),c=Object(K.j)();return Object(g.jsx)(sn,{name:t,label:n,required:i,description:r,as:function(e){e.onChange;var n=Object(L.a)(e,bn);return Object(g.jsx)(vt.a,Object(w.a)(Object(w.a)(Object(w.a)({bsSize:"sm",type:"select",onChange:function(e){dn(c,t,""===e.target.value?void 0:e.target.value)}},a),n),{},{children:s}))}})},pn=n(186),hn=n.n(pn),fn=["name","label","required","description"],vn=function(e){var t=e.name,n=e.label,i=(e.required,e.description),r=Object(L.a)(e,fn);return Object(g.jsxs)(Zt.a,{check:!0,children:[Object(g.jsxs)($t.a,{check:!0,className:"form-field__label ".concat(hn.a.nospace),size:"sm",children:[Object(g.jsx)(K.b,{name:t,as:function(e){var t;return Object(g.jsx)(vt.a,Object(w.a)(Object(w.a)(Object(w.a)({bsSize:null!==(t=r.bsSize)&&void 0!==t?t:"sm",type:"checkbox"},r),e),{},{checked:e.value}))}}),n]}),Object(g.jsx)(tn.a,{className:"form-field__help ".concat(hn.a.nospace),color:"muted",children:i})]})},On=n(1034),xn=n(1054),yn=n(1052),gn=n(4),_n=function(e,t,n,i){var r={};return i&&(r["X-Tapis-Token"]=i),new t(new e.Configuration({basePath:n,headers:r}))},Sn=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),!e.t0.json){e.next=16;break}return e.next=12,e.t0.json();case 12:throw e.sent;case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Nn=function(e,t,n){var i=_n(gn.Files,gn.Files.FileOperationsApi,t,n);return Sn((function(){return i.listFiles(e)}))},Cn=function(e,t,n,i){var r=_n(gn.Files,gn.Files.FileOperationsApi,n,i);return Sn((function(){return r.mkdir({systemId:e,mkdirRequest:{path:t}})}))},In=function(e,t,n,i,r,s){var a=_n(gn.Files,gn.Files.FileOperationsApi,r,s);return Sn((function(){return a.moveCopy({systemId:e,path:t,moveCopyRequest:{operation:i,newPath:n}})}))},kn=n(261),An=n.n(kn),Mn=function(e,t,n,i,r,s){var a="".concat(i,"/v3/files/ops/").concat(e,"/").concat(t).concat(n.name),c=new FormData;c.append("file",n);var o={headers:{"content-type":"multipart/form-data","X-Tapis-Token":r},onUploadProgress:function(e){if(s){var t=Math.round(100*e.loaded/e.total);s(t,n)}}};return Sn((function(){return An.a.post(a,c,o)}))},Tn=function(e,t,n){var i=_n(gn.Files,gn.Files.FileOperationsApi,t,n);return Sn((function(){return i.getStatInfo(e)}))},Pn=function(e,t,n){var i=_n(gn.Files,gn.Files.PermissionsApi,t,n);return Sn((function(){return i.getPermissions(e)}))},wn=function(e,t,n,i,r,s,a){var c=_n(gn.Files,gn.Files.FileOperationsApi,s,a),o={systemId:e,path:t,recursive:n,nativeLinuxOpRequest:{operation:i,argument:r}};return Sn((function(){return c.runLinuxNativeOp(o)}))},Ln=function(e,t,n,i){var r=_n(gn.Files,gn.Files.FileOperationsApi,n,i);return Sn((function(){return r._delete({systemId:e,path:t})}))},Fn=n(262),En=n.n(Fn),qn=function(e,t,n,i,r,s,a){var c=En.a.createWriteStream(n),o="".concat(s,"/v3/files/content/").concat(e,"/").concat(t).concat(i?"?zip=true":""),l={headers:{"X-Tapis-Token":a}};return Sn((function(){return fetch(o,l).then((function(e){if(r&&r(e),!e.body)throw new Error("Download response had no body!");var t=e.body;if(window.WritableStream&&(null===t||void 0===t?void 0:t.pipeTo))return t.pipeTo(c);window.writer=c.getWriter();var n=e.body.getReader();return function e(){return n.read().then((function(t){return t.done?window.writer.close():window.writer.write(t.value).then(e)}))}()}))}))},Dn=function(e){return e.reduce((function(e,t){var n;return e.concat(null!==(n=t.result)&&void 0!==n?n:[])}),[])},Un=function(e,t,n){var i,r;if(!((null!==(i=null===(r=e.result)||void 0===r?void 0:r.length)&&void 0!==i?i:0)<n.limit))return Object(w.a)(Object(w.a)({},n),{},{offset:t.length*n.limit})},Rn={list:"files/list",mkdir:"files/mkdir",move:"files/move",copy:"files/copy",insert:"files/insert",insertAxios:"files/insertAxios",nativeOp:"files/nativeOp",permissions:"files/permissions",stat:"files/stat",delete:"files/delete",download:"files/download"},zn=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=O(),s=r.accessToken,a=r.basePath;e.limit=null!==(t=e.limit)&&void 0!==t?t:100;var c=Object(yn.a)([Rn.list,e.systemId,e.path,s],(function(t){var n,i=t.pageParam;return Nn(void 0===i?e:i,a,null!==(n=null===s||void 0===s?void 0:s.access_token)&&void 0!==n?n:"")}),Object(w.a)(Object(w.a)({},i),{},{getNextPageParam:function(t,n){return Un(t,n,e)},enabled:!!s})),o=(null===(n=c.data)||void 0===n?void 0:n.pages)?Dn(c.data.pages):null;return Object(w.a)(Object(w.a)({},c),{},{concatenatedResults:o})},Vn=n(1053),Bn=function(){var e=O(),t=e.basePath,n=e.accessToken,i=(null===n||void 0===n?void 0:n.access_token)||"",r=Object(Vn.a)([Rn.mkdir,t,i],(function(e){var n=e.systemId,r=e.path;return Cn(n,r,t,i)})),s=r.mutate;return{isLoading:r.isLoading,isError:r.isError,isSuccess:r.isSuccess,data:r.data,error:r.error,reset:r.reset,mkdir:function(e,t,n){return s({systemId:e,path:t},n)}}},Jn=function(){var e=O(),t=e.basePath,n=e.accessToken,i=(null===n||void 0===n?void 0:n.access_token)||"",r=Object(Vn.a)([Rn.move,t,i],(function(e){var n=e.systemId,r=e.path,s=e.newPath;return In(n,r,s,gn.Files.MoveCopyRequestOperationEnum.Move,t,i)})),s=r.mutate,a=r.mutateAsync;return{isLoading:r.isLoading,isError:r.isError,isSuccess:r.isSuccess,data:r.data,error:r.error,reset:r.reset,move:function(e,t){return s(e,t)},moveAsync:function(e,t){return a(e,t)}}},Hn=function(){var e=O(),t=e.basePath,n=e.accessToken,i=(null===n||void 0===n?void 0:n.access_token)||"",r=Object(Vn.a)([Rn.move,t,i],(function(e){var n=e.systemId,r=e.path,s=e.newPath;return In(n,r,s,gn.Files.MoveCopyRequestOperationEnum.Copy,t,i)})),s=r.mutate,a=r.mutateAsync;return{isLoading:r.isLoading,isError:r.isError,isSuccess:r.isSuccess,data:r.data,error:r.error,reset:r.reset,copy:function(e,t){return s(e,t)},copyAsync:function(e,t){return a(e,t)}}},Qn=function(){var e=O(),t=e.basePath,n=e.accessToken,i=(null===n||void 0===n?void 0:n.access_token)||"",r=Object(Vn.a)([Rn.insertAxios,t,i],(function(e){var n=e.systemId,r=e.path,s=e.file,a=e.progressCallback;return Mn(n,r,s,t,i,a)})),s=r.mutate,a=r.mutateAsync;return{isLoading:r.isLoading,isError:r.isError,isSuccess:r.isSuccess,data:r.data,error:r.error,reset:r.reset,uploadFile:function(e,t){return s(e,t)},uploadAsync:function(e,t){return a(e,t)}}},Wn=function(e){var t=O(),n=t.accessToken,i=t.basePath;return Object(p.a)([Rn.stat,e,n],(function(){var t;return Tn(e,i,null!==(t=null===n||void 0===n?void 0:n.access_token)&&void 0!==t?t:"")}),{enabled:!!n})},Kn=function(e){var t=O(),n=t.accessToken,i=t.basePath;return Object(p.a)([Rn.permissions,e,n],(function(){var t;return Pn(e,i,null!==(t=null===n||void 0===n?void 0:n.access_token)&&void 0!==t?t:"")}),{enabled:!!n})},Yn=function(){var e=O(),t=e.basePath,n=e.accessToken,i=(null===n||void 0===n?void 0:n.access_token)||"",r=Object(Vn.a)([Rn.nativeOp,t,i],(function(e){var n=e.systemId,r=e.path,s=e.recursive,a=e.operation,c=e.argument;return wn(n,r,!!s,a,null!==c&&void 0!==c?c:"",t,i)})),s=r.mutate,a=r.mutateAsync;return{isLoading:r.isLoading,isError:r.isError,isSuccess:r.isSuccess,data:r.data,error:r.error,reset:r.reset,nativeOp:function(e,t){return s(e,t)},nativeOpAsync:function(e,t){return a(e,t)}}},Gn=function(){var e=O(),t=e.basePath,n=e.accessToken,i=(null===n||void 0===n?void 0:n.access_token)||"",r=Object(Vn.a)([Rn.delete,t,i],(function(e){var n=e.systemId,r=e.path;return Ln(n,r,t,i)})),s=r.mutate,a=r.mutateAsync;return{isLoading:r.isLoading,isError:r.isError,isSuccess:r.isSuccess,data:r.data,error:r.error,reset:r.reset,deleteFile:function(e,t){return s(e,t)},deleteFileAsync:function(e,t){return a(e,t)}}},Xn=function(){var e=O(),t=e.basePath,n=e.accessToken,i=(null===n||void 0===n?void 0:n.access_token)||"",r=Object(Vn.a)([Rn.download,t,i],(function(e){var n=e.systemId,r=e.path,s=e.destination,a=e.zip,c=void 0!==a&&a,o=e.onStart;return qn(n,r,s,c,void 0===o?null:o,t,i)})),s=r.mutate,a=r.mutateAsync;return{isLoading:r.isLoading,isError:r.isError,isSuccess:r.isSuccess,data:r.data,error:r.error,reset:r.reset,download:function(e,t){return s(e,t)},downloadAsync:function(e,t){return a(e,t)}}};var Zn=function(e){var t=0===e?0:Math.floor(Math.log(e)/Math.log(1024)),n=(e/Math.pow(1024,Math.floor(t))).toFixed(1);return"".concat(n," ").concat(["bytes","kB","MB","GB","TB","PB"][t])};function $n(e){var t,n=new Date(e);return"".concat(function(e){return e.toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"})}(t=n)," ").concat(function(e){return e.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"})}(t))}var ei,ti=n(159),ni=n(188),ii=n(189),ri=n(113),si=n.n(ri),ai=function(e,t,n){var i=_n(gn.Systems,gn.Systems.SystemsApi,t,n);return Sn((function(){return i.getSystems(e)}))},ci=function(e,t,n){var i=_n(gn.Systems,gn.Systems.SystemsApi,t,n);return Sn((function(){return i.getSystem(e)}))},oi=function(e,t){var n=_n(gn.Systems,gn.Systems.SchedulerProfilesApi,e,t);return Sn((function(){return n.getSchedulerProfiles()}))},li=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://scoped.tapis.io",n=arguments.length>2?arguments[2]:void 0,i=_n(gn.Systems,gn.Systems.CredentialsApi,t,n);return Sn((function(){return i.createUserCredential(e)}))},ui=function(e,t,n,i){var r=_n(gn.Systems,gn.Systems.SystemsApi,t,n);return Sn((function(){return r.createSystem({reqPostSystem:e,skipCredentialCheck:i})}))},di=function(e,t,n){var i=_n(gn.Systems,gn.Systems.SystemsApi,t,n);return Sn((function(){return i.deleteSystem({systemId:e})}))},ji=function(e,t,n){var i=_n(gn.Systems,gn.Systems.SystemsApi,t,n);return Sn((function(){return i.undeleteSystem({systemId:e})}))},bi=function(e,t,n){var i=_n(gn.Systems,gn.Systems.SharingApi,t,n);return Sn((function(){return i.shareSystemPublic({systemId:e})}))},mi=function(e,t,n){var i=_n(gn.Systems,gn.Systems.SharingApi,t,n);return Sn((function(){return i.unShareSystemPublic({systemId:e})}))},pi={list:"systems/list",details:"systems/details",listSchedulerProfiles:"systems/listScehdulerProfiles",createCredentials:"systems/credentials/createCredentials",makeNewSystem:"systems/makeNewSystem",deleteSystem:"systems/deleteSystem",shareSystemPublic:"systems/shareSystemPublic",unShareSystemPublic:"systems/unShareSystemPublic"},hi=n(28),fi={listType:hi.ListTypeEnum.All},vi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=O(),i=n.accessToken,r=n.basePath,s=Object(p.a)([pi.list,e,i],(function(){return ai(e,r,(null===i||void 0===i?void 0:i.access_token)||"")}),Object(w.a)(Object(w.a)({},t),{},{enabled:!!i}));return s},Oi={search:"deleted.eq.true",showDeleted:!0},xi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=O(),i=n.accessToken,r=n.basePath,s=Object(p.a)([pi.list,e,i],(function(){return ai(e,r,(null===i||void 0===i?void 0:i.access_token)||"")}),Object(w.a)(Object(w.a)({},t),{},{enabled:!!i}));return s},yi=function(e){var t=O(),n=t.accessToken,i=t.basePath,r=Object(p.a)([pi.details,e,n],(function(){var t;return ci(e,i,null!==(t=null===n||void 0===n?void 0:n.access_token)&&void 0!==t?t:"")}),{enabled:!!n});return r},gi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=O(),n=t.accessToken,i=t.basePath,r=Object(p.a)([pi.listSchedulerProfiles,n],(function(){return oi(i,(null===n||void 0===n?void 0:n.access_token)||"")}),Object(w.a)(Object(w.a)({},e),{},{enabled:!!n}));return r},_i=function(){var e=O(),t=e.basePath,n=e.accessToken,i=(null===n||void 0===n?void 0:n.access_token)||"",r=Object(Vn.a)([pi.createCredentials,t,i],(function(e){return li(e,t,i)})),s=r.mutate;return{isLoading:r.isLoading,isError:r.isError,isSuccess:r.isSuccess,data:r.data,error:r.error,reset:r.reset,createCredentials:function(e,t){return s(e,t)}}},Si=function(){var e=O(),t=e.basePath,n=e.accessToken,i=(null===n||void 0===n?void 0:n.access_token)||"",r=Object(Vn.a)([pi.makeNewSystem,t,i],(function(e){var n=e.reqPostSystem,r=e.skipCredentialCheck;return ui(n,t,i,r)})),s=r.mutate;return{isLoading:r.isLoading,isError:r.isError,isSuccess:r.isSuccess,data:r.data,error:r.error,reset:r.reset,makeNewSystem:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return s({reqPostSystem:e,skipCredentialCheck:t},n)}}},Ni=function(){var e=O(),t=e.basePath,n=e.accessToken,i=(null===n||void 0===n?void 0:n.access_token)||"",r=Object(Vn.a)([pi.deleteSystem,t,i],(function(e){var n=e.systemId;return di(n,t,i)})),s=r.mutate;return{isLoading:r.isLoading,isError:r.isError,isSuccess:r.isSuccess,data:r.data,error:r.error,reset:r.reset,deleteSystem:function(e,t){return s({systemId:e},t)}}},Ci=function(){var e=O(),t=e.basePath,n=e.accessToken,i=(null===n||void 0===n?void 0:n.access_token)||"",r=Object(Vn.a)([pi.deleteSystem,t,i],(function(e){var n=e.systemId;return ji(n,t,i)})),s=r.mutate;return{isLoading:r.isLoading,isError:r.isError,isSuccess:r.isSuccess,data:r.data,error:r.error,reset:r.reset,undeleteSystem:function(e,t){return s({systemId:e},t)}}},Ii=function(){var e=O(),t=e.basePath,n=e.accessToken,i=(null===n||void 0===n?void 0:n.access_token)||"",r=Object(Vn.a)([pi.shareSystemPublic,t,i],(function(e){var n=e.systemId;return bi(n,t,i)})),s=r.mutate;return{isLoading:r.isLoading,isError:r.isError,isSuccess:r.isSuccess,data:r.data,error:r.error,reset:r.reset,shareSystemPublic:function(e,t){return s({systemId:e},t)}}},ki=function(){var e=O(),t=e.basePath,n=e.accessToken,i=(null===n||void 0===n?void 0:n.access_token)||"",r=Object(Vn.a)([pi.unShareSystemPublic,t,i],(function(e){var n=e.systemId;return mi(n,t,i)})),s=r.mutate;return{isLoading:r.isLoading,isError:r.isError,isSuccess:r.isSuccess,data:r.data,error:r.error,reset:r.reset,unShareSystemPublic:function(e,t){return s({systemId:e},t)}}},Ai=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(on,{name:"username",label:"Username",required:!0,description:"Your TAPIS username"}),Object(g.jsx)(on,{name:"password",label:"Password",required:!0,description:"Your TAPIS password",type:"password"})]})},Mi=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(on,{name:"accessToken",label:"Access Token",required:!0,description:"Access token"}),Object(g.jsx)(on,{name:"refreshToken",label:"Refresh Token",required:!0,description:"Refresh token"})]})},Ti=function(e){var t=e.system;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("a",{style:{whiteSpace:"pre-line"},href:"https://github.com/jaeestee/scoped-tapis-ui/blob/main/src/tapis-app/Systems/_components/AddCredentials/AuthenticationMethods/README.md",target:"_blank",rel:"noreferrer",children:["\n\n","Authentication Method Tutorial"]}),Object(g.jsxs)("div",{style:{whiteSpace:"pre-line"},children:["Host: ",null===t||void 0===t?void 0:t.host," ","\n\n"]}),Object(g.jsx)(on,{name:"publicKey",label:"Public Key",required:!0,description:"Your public key from the machine"}),Object(g.jsx)(on,{name:"privateKey",label:"Private Key",required:!0,description:"Your private key from the machine"})]})},Pi=function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(on,{name:"certificate",label:"Certificate",required:!0,description:"Certificate"})})},wi=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(on,{name:"accessKey",label:"Access Key",required:!0,description:"Access key"}),Object(g.jsx)(on,{name:"accessSecret",label:"Access Secret",required:!0,description:"Access secret"})]})},Li=n(9),Fi=function(e){var t=e.systemId,n=yi({systemId:t,select:"allAttributes"}).data,i=null===n||void 0===n?void 0:n.result,r=(null===i||void 0===i?void 0:i.defaultAuthnMethod)===hi.AuthnEnum.Password,s=(null===i||void 0===i?void 0:i.defaultAuthnMethod)===hi.AuthnEnum.PkiKeys,a=(null===i||void 0===i?void 0:i.defaultAuthnMethod)===hi.AuthnEnum.AccessKey,c=(null===i||void 0===i?void 0:i.defaultAuthnMethod)===hi.AuthnEnum.Token,o=(null===i||void 0===i?void 0:i.defaultAuthnMethod)===hi.AuthnEnum.Cert,l=_i(),u=l.isLoading,d=l.isSuccess,j=l.error,b=l.createCredentials,m=O().claims["tapis/username"],p=Li.d({});return Object(g.jsx)(K.e,{initialValues:{username:"",password:"",privateKey:"",publicKey:"",accessKey:"",accessSecret:"",accessToken:"",refreshToken:"",certificate:""},validationSchema:p,onSubmit:function(e){var n=e.username,i=e.password,r=e.privateKey,s=e.publicKey,a=e.accessKey,c=e.accessSecret,o=e.accessToken,l=e.refreshToken,u=e.certificate;b({systemId:t,userName:m,reqUpdateCredential:{loginUser:n,password:i,privateKey:r,publicKey:s,accessKey:a,accessSecret:c,accessToken:o,refreshToken:l,certificate:u}})},children:Object(g.jsxs)(K.d,{children:["Credentials are not valid and must be added!",r?Object(g.jsx)(Ai,{}):null,s?Object(g.jsx)(Ti,{system:i}):null,a?Object(g.jsx)(wi,{}):null,c?Object(g.jsx)(Mi,{}):null,o?Object(g.jsx)(Pi,{}):null,Object(g.jsx)(H,{isLoading:u,error:j,success:d?"Successfully Added Credentials":"",children:Object(g.jsx)(k.a,{type:"submit",className:"btn btn-primary",disabled:u||d,children:"Add Credentials"})})]})})},Ei=function(e){var t,n=e.file,i=e.onNavigate,r=void 0===i?void 0:i,s=e.location,a=void 0===s?void 0:s;return a?Object(g.jsxs)(o.c,{to:"".concat(a).concat(null!==(t=n.name)&&void 0!==t?t:"","/"),className:si.a.dir,children:[n.name,"/"]}):r?Object(g.jsxs)(k.a,{color:"link",className:si.a.link,onClick:function(e){e.preventDefault(),e.stopPropagation(),r(n)},"data-testid":"btn-link-".concat(n.name),children:[n.name,"/"]}):Object(g.jsxs)("span",{children:[n.name,"/"]})},qi=s.a.memo((function(e){var t=e.selected;return Object(g.jsxs)("span",{className:"fa-layers fa-fw",children:[Object(g.jsx)(ti.a,{icon:ni.b,color:"white"}),Object(g.jsx)(ti.a,{icon:t?ni.a:ii.a,color:"#9D85EF"}),Object(g.jsx)(ti.a,{icon:ii.a,color:"#707070"})]})})),Di=function(e){var t=e.file,n=e.onNavigate,i=void 0===n?void 0:n,r=e.location,s=void 0===r?void 0:r;return"file"===t.type?Object(g.jsx)(g.Fragment,{children:t.name}):Object(g.jsx)(Ei,{file:t,onNavigate:i,location:s})},Ui=s.a.memo((function(e){var t=e.files,n=e.prependColumns,i=void 0===n?[]:n,r=e.appendColumns,s=void 0===r?[]:r,a=e.getRowProps,c=e.onInfiniteScroll,o=e.isLoading,l=e.onNavigate,u=e.location,d=e.className,j=e.selectMode,b=e.fields,m="none"!==(null===j||void 0===j?void 0:j.mode)?"file-list-select":"file-list",p=[].concat(Object(C.a)(i),[{Header:"",accessor:"type",Cell:function(e){return Object(g.jsx)(Je,{name:"file"===e.value?"file":"folder"})}},{Header:"Name",Cell:function(e){return Object(g.jsx)(Di,{file:e.row.original,onNavigate:l,location:u})}}]);return(null===b||void 0===b?void 0:b.some((function(e){return"size"===e})))&&p.push({Header:"Size",accessor:"size",Cell:function(e){return Object(g.jsx)("span",{children:Zn(e.value)})}}),(null===b||void 0===b?void 0:b.some((function(e){return"lastModified"===e})))&&p.push({Header:"Last Modified",accessor:"lastModified",Cell:function(e){return Object(g.jsx)("span",{children:$n(new Date(e.value))})}}),p.push.apply(p,Object(C.a)(s)),Object(g.jsx)(De,{className:"".concat(d," ").concat(si.a[m]),tableColumns:p,tableData:t,onInfiniteScroll:c,isLoading:o,noDataText:"No files found",getRowProps:a})})),Ri=function(e){var t=e.onSelectAll,n=e.onUnselectAll,i=e.selectedFileDict,s=Object(r.useState)(!1),a=Object(l.a)(s,2),c=a[0],o=a[1],u=Object.values(i).some((function(e){return!1===e})),d=Object(r.useCallback)((function(){c&&!u?(o(!1),n()):(o(!0),t())}),[c,o,t,n,u]);return Object(g.jsx)("span",{className:si.a["select-all"],onClick:d,"data-testid":"select-all",children:Object(g.jsx)(qi,{selected:c&&!u})})},zi=function(e){var t,n,i=e.systemId,a=e.path,c=e.onSelect,o=void 0===c?void 0:c,l=e.onUnselect,u=void 0===l?void 0:l,d=e.onNavigate,j=void 0===d?void 0:d,b=e.location,m=void 0===b?void 0:b,p=e.className,h=e.fields,f=void 0===h?["size","lastModified"]:h,v=e.selectedFiles,O=void 0===v?[]:v,x=e.selectMode,y=zn({systemId:i,path:a}),_=y.hasNextPage,S=y.isLoading,N=y.error,C=y.fetchNextPage,I=y.concatenatedResults,k=y.isFetchingNextPage,A=Object(r.useCallback)((function(){_&&C()}),[_,C]),M=Object(r.useMemo)((function(){return null!==I&&void 0!==I?I:[]}),[I]),T=s.a.useMemo((function(){var e={},t={};return O.forEach((function(e){var n;t[null!==(n=e.path)&&void 0!==n?n:""]=!0})),null===I||void 0===I||I.forEach((function(n){var i,r,s;e[null!==(i=n.path)&&void 0!==i?i:""]=null!==(r=t[null!==(s=n.path)&&void 0!==s?s:""])&&void 0!==r&&r})),e}),[O,I]),P=(null===x||void 0===x||null===(t=x.types)||void 0===t?void 0:t.length)?[{Header:Object(g.jsx)(Ri,{onSelectAll:function(){return o&&o(null!==I&&void 0!==I?I:[])},onUnselectAll:function(){return u&&u(null!==I&&void 0!==I?I:[])},selectedFileDict:T}),id:"multiselect",Cell:function(e){var t;return Object(g.jsx)(qi,{selected:T[null!==(t=e.row.original.path)&&void 0!==t?t:""]})}}]:[],w=Object(r.useCallback)((function(e){var t,n;(null===x||void 0===x||null===(t=x.types)||void 0===t?void 0:t.some((function(t){return t===e.type})))&&(T[null!==(n=e.path)&&void 0!==n?n:""]&&u?u([e]):o&&o([e]))}),[x,u,T,o]);return(null===N||void 0===N||null===(n=N.message)||void 0===n?void 0:n.includes("Missing credentials"))?Object(g.jsx)(Fi,{systemId:i}):Object(g.jsx)(V,{isLoading:S,error:N,className:p,children:Object(g.jsx)(Ui,{files:M,prependColumns:P,onInfiniteScroll:A,isLoading:k,getRowProps:function(e){var t,n=e.original;return{onClick:function(){return w(n)},"data-testid":n.name,className:T[null!==(t=n.path)&&void 0!==t?t:""]?si.a.selected:""}},location:m,onNavigate:j,fields:f,selectMode:x})})},Vi=function(e){var t=e.systemId,n=e.path,i=e.className,r=void 0===i?"":i,s=Wn({systemId:t,path:n}),a=s.data,c=s.isLoading,o=s.error,l=null===a||void 0===a?void 0:a.result;return Object(g.jsxs)(V,{isLoading:c,error:o,className:r,children:[Object(g.jsx)("h3",{children:t}),Object(g.jsx)("h5",{children:n}),l&&Object(g.jsx)(ft,{data:l})]})},Bi=n(81),Ji=function(e){var t=e.systemId,n=e.path,i=e.className,s=void 0===i?"":i,a=Object(r.useCallback)((function(){Bi.a.setFocused(!0)}),[]),c=Yn(),o=c.nativeOp,l=c.isLoading,u=c.error,d=c.isSuccess,j=c.reset;Object(r.useEffect)((function(){j()}),[j]);var b=Li.d({recursive:Li.b(),operation:Li.e().required("An operation is required"),argument:Li.e()}),m={recursive:!1,operation:gn.Files.NativeLinuxOpRequestOperationEnum.Chmod,argument:""},p=Object(r.useCallback)((function(e){var i=e.recursive,r=e.operation,s=e.argument;o({systemId:t,path:n,recursive:i,operation:r,argument:s},{onSuccess:a})}),[o,a,t,n]);return Object(g.jsx)(K.e,{initialValues:m,validationSchema:b,onSubmit:p,children:Object(g.jsxs)(K.d,{className:s,children:[Object(g.jsxs)(mn,{name:"operation",label:"Linux Operation",required:!0,description:"Native operation to execute","aria-label":"Operation",children:[Object(g.jsx)("option",{value:gn.Files.NativeLinuxOpRequestOperationEnum.Chmod,children:"CHMOD"}),Object(g.jsx)("option",{value:gn.Files.NativeLinuxOpRequestOperationEnum.Chown,children:"CHOWN"}),Object(g.jsx)("option",{value:gn.Files.NativeLinuxOpRequestOperationEnum.Chgrp,children:"CHGRP"})]}),Object(g.jsx)(on,{name:"argument",label:"Arguments",required:!1,description:"Arguments for the native file operation","aria-label":"Arguments"}),Object(g.jsx)(vn,{name:"recursive",label:"Recursive",required:!1,description:"Run operation recursively","aria-label":"Recursive"}),Object(g.jsx)(H,{isLoading:l,error:u,success:d?"Successfully submitted operation":"",children:Object(g.jsx)(k.a,{color:"primary",disabled:l||d,"aria-label":"Submit",type:"submit",children:"Run Operation"})})]})})},Hi=function(e,t,n){var i=_n(gn.Files,gn.Files.TransfersApi,t,n);return Sn((function(){return i.createTransferTask({transferTaskRequest:e})}))},Qi=function(e,t,n){var i=_n(gn.Files,gn.Files.TransfersApi,t,n);return Sn((function(){return i.getRecentTransferTasks(e)}))},Wi=function(e,t,n){var i=_n(gn.Files,gn.Files.TransfersApi,t,n);return Sn((function(){return i.cancelTransferTask({transferTaskId:e})}))},Ki=function(e,t,n){var i=_n(gn.Files,gn.Files.TransfersApi,t,n);return Sn((function(){return i.getTransferTaskDetails({transferTaskId:e})}))},Yi={create:"files/transfers/create",detail:"files/transfers/detail",list:"files/transfers/list",cancel:"files/transfers/cancel"},Gi=function(){var e=O(),t=e.basePath,n=e.accessToken,i=(null===n||void 0===n?void 0:n.access_token)||"",r=Object(Vn.a)([Yi.create,t,i],(function(e){return Hi(e,t,i)})),s=r.mutate,a=r.mutateAsync;return{isLoading:r.isLoading,isError:r.isError,isSuccess:r.isSuccess,data:r.data,error:r.error,reset:r.reset,create:function(e,t){return s(e,t)},moveAsync:function(e,t){return a(e,t)}}},Xi=function(e){var t=O(),n=t.accessToken,i=t.basePath;return Object(p.a)([Yi.detail,e,n],(function(){var t;return Ki(e,i,null!==(t=null===n||void 0===n?void 0:n.access_token)&&void 0!==t?t:"")}),{enabled:!!n})},Zi=function(e){var t,n,i=O(),r=i.accessToken,s=i.basePath;e.limit=null!==(t=e.limit)&&void 0!==t?t:100;var a=Object(yn.a)([Yi.list,r],(function(t){var n,i=t.pageParam;return Qi(void 0===i?e:i,s,null!==(n=null===r||void 0===r?void 0:r.access_token)&&void 0!==n?n:"")}),{getNextPageParam:function(t,n){return Un(t,n,e)},enabled:!!r}),c=(null===(n=a.data)||void 0===n?void 0:n.pages)?Dn(a.data.pages):null;return Object(w.a)(Object(w.a)({},a),{},{concatenatedResults:c})},$i=function(){var e=O(),t=e.basePath,n=e.accessToken,i=(null===n||void 0===n?void 0:n.access_token)||"",r=Object(Vn.a)([Yi.cancel,t,i],(function(e){return Wi(e,t,i)})),s=r.mutate,a=r.mutateAsync;return{isLoading:r.isLoading,isError:r.isError,isSuccess:r.isSuccess,data:r.data,error:r.error,reset:r.reset,cancel:function(e,t){return s(e,t)},cancelAsync:function(e,t){return a(e,t)}}},er=n(160),tr=n.n(er),nr=function(e){var t=e.onSelect,n=e.className,i=Zi({}),s=i.concatenatedResults,a=i.isLoading,c=i.error,o=i.hasNextPage,u=i.fetchNextPage,d=Object(r.useCallback)((function(){o&&u()}),[o,u]),j=Object(r.useState)(null),b=Object(l.a)(j,2),m=b[0],p=b[1],h=Object(r.useCallback)((function(e){t&&(p(e),t(e))}),[p,t]),f=null!==s&&void 0!==s?s:[],v=[{Header:"",id:"icon",Cell:function(e){return Object(g.jsx)(Je,{name:"globe"})}},{Header:"Transfer",id:"name",Cell:function(e){var t,n,i=e.row.original;return Object(g.jsx)("span",{children:null!==(t=null!==(n=i.tag)&&void 0!==n?n:i.uuid)&&void 0!==t?t:"Unidentified transfer"})}},{Header:"Status",id:"status",accessor:"status",Cell:function(e){return Object(g.jsx)("span",{children:e.value})}}];return Object(g.jsx)(V,{isLoading:a,error:c,className:n,children:Object(g.jsx)(De,{className:tr.a["transfer-list"],tableColumns:v,tableData:f,isLoading:a,noDataText:"No transfers found",getRowProps:function(e){var n=e.original;return{className:"".concat((null===m||void 0===m?void 0:m.id)===n.id?tr.a.selected:""," ").concat(t?tr.a.selectable:""),onClick:function(){return h(n)},"data-testid":n.id}},onInfiniteScroll:d})})},ir=function(e){var t,n=e.transferTaskId,i=e.className,r=void 0===i?"":i,s=Xi(n),a=s.data,c=s.isLoading,o=s.error,l=null===a||void 0===a?void 0:a.result;return Object(g.jsxs)(V,{isLoading:c,error:o,className:r,children:[Object(g.jsx)("h3",{children:null!==(t=null===l||void 0===l?void 0:l.tag)&&void 0!==t?t:null===l||void 0===l?void 0:l.id}),l&&Object(g.jsx)(ft,{data:l})]})},rr=function(e){var t=e.transferTaskId,n=e.className,i=void 0===n?"":n,s=Xi(t),a=s.data,c=s.isLoading,o=s.error,l=null===a||void 0===a?void 0:a.result,u=[gn.Files.TransferTaskStatusEnum.Accepted,gn.Files.TransferTaskStatusEnum.InProgress,gn.Files.TransferTaskStatusEnum.Paused,gn.Files.TransferTaskStatusEnum.Staged,gn.Files.TransferTaskStatusEnum.Staging].some((function(e){return e===(null===l||void 0===l?void 0:l.status)})),d=$i(),j=d.cancel,b=d.isLoading,m=d.error,p=d.isSuccess,h=d.reset,f=Object(r.useCallback)((function(){j(t),Bi.a.setFocused(!0)}),[j,t]);return Object(r.useEffect)((function(){h()}),[h]),Object(g.jsxs)(V,{isLoading:c,error:o,className:i,children:[Object(g.jsxs)("div",{children:["Transfer task ",t," is ",null===l||void 0===l?void 0:l.status]}),Object(g.jsx)(H,{isLoading:b,error:m,success:p?"Successfully canceled transfer":"",reverse:!0,children:Object(g.jsx)(k.a,{color:"warning",disabled:!u||b||p,"aria-label":"Cancel",type:"submit",onClick:f,children:"Cancel Transfer"})})]})},sr=function(e){var t,n,i,s,a=e.files,c=e.sourceSystemId,o=e.destinationSystemId,l=e.destinationPath,u=(e.className,Gi()),d=u.create,j=u.data,b=u.isLoading,m=u.error,p=u.isSuccess,h=u.reset,f=Object(r.useCallback)((function(e){var t=e.tag,n="tapis://".concat(o).concat(l),i=a.map((function(e){return{destinationURI:n,sourceURI:"tapis://".concat(c).concat(e.path)}})),r=t.length>0?t:void 0;d({elements:i,tag:r},{onSuccess:function(){return Bi.a.setFocused(!0)}})}),[c,o,l,a,d]);Object(r.useEffect)((function(){h()}),[h]);var v=Li.d({tag:Li.e().required("a tag for this transfer is required")});return Object(g.jsx)(K.e,{initialValues:{tag:""},validationSchema:v,onSubmit:f,children:Object(g.jsxs)(K.d,{children:[Object(g.jsx)(on,{name:"tag",label:"Tag",required:!1,description:"A tag name for this file transfer"}),Object(g.jsx)(H,{isLoading:b,error:m,success:p?"Successfully submitted transfer ".concat(null!==(t=null!==(n=null===j||void 0===j||null===(i=j.result)||void 0===i?void 0:i.tag)&&void 0!==n?n:null===j||void 0===j||null===(s=j.result)||void 0===s?void 0:s.uuid)&&void 0!==t?t:""):"",reverse:!0,children:Object(g.jsx)(k.a,{color:"primary",disabled:b||p,"aria-label":"Submit",type:"submit",children:"Submit"})})]})})},ar=n(144),cr=function(e){var t=[],n=e.split("/");return n.forEach((function(e,i){var r=Object(ar.normalize)("/"+n.slice(0,i+1).join("/")+"/");n[i].length&&t.push({to:r,text:n[i]})})),t},or=function(e){var t=e.systemId,n=yi({systemId:t,select:"allAttributes"}),i=n.data,r=n.isLoading,s=n.error,a=null===i||void 0===i?void 0:i.result;return Object(g.jsxs)(V,{isLoading:r,error:s,children:[Object(g.jsx)("h3",{children:null===a||void 0===a?void 0:a.id}),a&&Object(g.jsx)(Yr,{tabs:{Details:Object(g.jsx)(ft,{data:a}),JSON:Object(g.jsx)(zr,{json:a})}})]})},lr=n(161),ur=n.n(lr),dr=function(e){var t=e.system,n=e.onNavigate;return n?Object(g.jsx)(k.a,{color:"link",className:ur.a.link,onClick:function(e){e.preventDefault(),n(t)},"data-testid":"href-".concat(t.id),children:t.id}):Object(g.jsx)("span",{children:t.id})},jr=function(e){var t,n=e.onSelect,i=e.onNavigate,s=e.className,a=vi(),c=a.data,o=a.isLoading,u=a.error,d=Object(r.useState)(null),j=Object(l.a)(d,2),b=j[0],m=j[1],p=Object(r.useCallback)((function(e){n&&(m(e),n(e))}),[m,n]),h=null!==(t=null===c||void 0===c?void 0:c.result)&&void 0!==t?t:[],f=[{Header:"",id:"icon",Cell:function(e){return Object(g.jsx)(Je,{name:"data-files"})}},{Header:"System",id:"name",Cell:function(e){return Object(g.jsx)(dr,{system:e.row.original,onNavigate:i})}}];return Object(g.jsx)(V,{isLoading:o,error:u,className:s,children:Object(g.jsx)(De,{className:ur.a["system-list"],tableColumns:f,tableData:h,isLoading:o,noDataText:"No systems found",getRowProps:function(e){var t=e.original;return{className:(null===b||void 0===b?void 0:b.id)===t.id?ur.a.selected:"",onClick:function(){return p(t)},"data-testid":t.id}}})})},br=n(190),mr=n.n(br),pr=function(e){var t=e.systemId,n=e.path,i=e.className,s=e.allowSystemChange,a=e.onNavigate,c=e.onSelect,o=e.onUnselect,u=e.fields,d=void 0===u?["size"]:u,j=e.selectedFiles,b=e.selectMode,m=Object(r.useState)(t),p=Object(l.a)(m,2),h=p[0],f=p[1],v=Object(r.useState)(n),O=Object(l.a)(v,2),x=O[0],y=O[1],_=Object(r.useState)([]),S=Object(l.a)(_,2),N=S[0],I=S[1],k=Object(r.useCallback)((function(e){var t=Object(ar.normalize)("".concat(x,"/").concat(e.name));y(t),a&&a(null!==h&&void 0!==h?h:null,t)}),[y,x,a,h]),A=Object(r.useCallback)((function(e){var t;e||a&&a(null,null),f(null===e||void 0===e?void 0:e.id),y("/"),a&&a(null!==(t=null===e||void 0===e?void 0:e.id)&&void 0!==t?t:null,"/")}),[y,f,a]),M=Object(r.useCallback)((function(e){y(e),a&&a(null!==h&&void 0!==h?h:null,e)}),[y,h,a]);Object(r.useEffect)((function(){var e=cr(null!==x&&void 0!==x?x:"").map((function(e){return Object(w.a)(Object(w.a)({},e),{},{onClick:M})}));e.unshift({text:null!==h&&void 0!==h?h:"",to:"/",onClick:M}),I(e)}),[I,x,y,h,M]);var T=[];return s&&T.push({text:"Files",to:"/",onClick:function(){return A(null)}}),h&&T.push.apply(T,Object(C.a)(N)),Object(g.jsxs)("div",{className:i,children:[Object(g.jsx)(P,{breadcrumbs:T}),Object(g.jsx)("div",{children:h?Object(g.jsx)(zi,{className:"".concat(mr.a["nav-list"]),systemId:h,path:null!==x&&void 0!==x?x:"/",onNavigate:k,onSelect:c,onUnselect:o,selectedFiles:j,fields:d,selectMode:b}):Object(g.jsx)(jr,{className:"".concat(mr.a["nav-list"]),onNavigate:A})})]})},hr=pr,fr=function(e){var t,n,i=e.systemId,s=e.path,a=e.allowSystemChange,c=e.onSelect,o=e.toggle,u=e.selectMode,d=void 0===u?{mode:"single",types:["file","dir"]}:u,j=e.initialSelection,b=Object(r.useState)(null!==j&&void 0!==j?j:[]),m=Object(l.a)(b,2),p=m[0],h=m[1],f=Object(r.useState)(null!==i&&void 0!==i?i:null),v=Object(l.a)(f,2),O=v[0],x=v[1],y=Object(r.useState)(null!==s&&void 0!==s?s:"/"),_=Object(l.a)(y,2),S=_[0],N=_[1],I=Object(r.useMemo)((function(){var e,t;return"single"===(null===d||void 0===d?void 0:d.mode)&&1===(null===d||void 0===d||null===(e=d.types)||void 0===e?void 0:e.length)&&(null===d||void 0===d||null===(t=d.types)||void 0===t?void 0:t.some((function(e){return"dir"===e})))}),[d]),A=Object(r.useCallback)((function(e){"multi"===(null===d||void 0===d?void 0:d.mode)?h([].concat(Object(C.a)(p),Object(C.a)(e))):h(e)}),[h,p,d]),M=Object(r.useCallback)((function(e){"multi"===(null===d||void 0===d?void 0:d.mode)?h(p.filter((function(t){return!e.some((function(e){return e.path===t.path}))}))):h([])}),[h,p,d]),T=Object(r.useCallback)((function(e,t){x(e),h([]),N(null!==t&&void 0!==t?t:"/")}),[x,h,N]),P=Object(r.useCallback)((function(){o&&o(),c&&(p.length?c(O,p):I&&c(O,[{name:S.split("/").slice(-1)[0],path:S}]))}),[o,c,O,p,S,I]),w=Object(g.jsx)(hr,{allowSystemChange:a,systemId:i,path:S,selectMode:d,onSelect:A,onUnselect:M,onNavigate:T,fields:["size","lastModified"],selectedFiles:p}),L=Object(g.jsxs)(k.a,{disabled:0===p.length&&!I,color:"primary",onClick:P,"data-testid":"modalSelect",children:["Select"," ","".concat("multi"===(null===d||void 0===d?void 0:d.mode)?"(".concat(p.length,")"):"".concat(I?p.length?p[0].name:S:p.length?p[0].name:""))]}),F="Select files",E=null!==(t=null===d||void 0===d||null===(n=d.types)||void 0===n?void 0:n.map((function(e){return"single"===d.mode?"dir"===e?"directory":"file":"multi"===d.mode&&"dir"===e?"directories":"files"})))&&void 0!==t?t:[];return E.length&&(F="Select ".concat("multi"===(null===d||void 0===d?void 0:d.mode)?"one or more":"a"," ").concat(E[0]," ").concat(E.length>1?" or ".concat(E[1]):"")),Object(g.jsx)(z,{toggle:o,title:F,size:"lg",body:w,footer:L})},vr=["append","allowSystemChange","disabled","systemId","path","mode","files","dirs"],Or=["name","label","required","description","systemId","path","mode","files","dirs"],xr=function(e){if(e)return{name:e.split("/").slice(-1)[0],path:e}},yr=function(e){var t=null===e||void 0===e?void 0:e.split("/").slice(0,-1).join("/");return t&&t.length?t:"/"},gr=function(e){var t=e.append,n=e.allowSystemChange,i=void 0===n||n,s=e.disabled,a=e.systemId,c=e.path,o=e.mode,u=void 0===o?"single":o,d=e.files,j=void 0===d||d,b=e.dirs,m=void 0===b||b,p=Object(L.a)(e,vr),h=p.name,f=Object(K.i)(h),v=Object(l.a)(f,3),O=v[0],x=v[2].setValue,y=O.value,_=R(),S=_.modal,N=_.open,C=_.close,I=Object(r.useCallback)((function(e,t){x(i?"tapis://".concat(null!==e&&void 0!==e?e:"").concat(t[0].path):"".concat(t[0].path))}),[x,i]),A=Object(r.useMemo)((function(){var e;return null!==(e=function(e){var t=null===e||void 0===e?void 0:e.match(/tapis:\/\/([\w.\-_]+)\/(.+)/);if(t){var n=t[1],i="/".concat(t[2]);return{systemId:n,file:xr(i),parent:yr(i)}}}(y))&&void 0!==e?e:{systemId:a,file:xr(y||c),parent:yr(y||c)}}),[y,a,c]),M=A.systemId,T=A.file,P=A.parent,F=Object(r.useMemo)((function(){var e=[];return j&&e.push("file"),m&&e.push("dir"),{mode:u,types:e}}),[u,j,m]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(On.a,{children:[Object(g.jsx)(xn.a,{addonType:"prepend",children:Object(g.jsx)(k.a,{size:"sm",onClick:N,disabled:s,children:"Browse"})}),Object(g.jsx)(vt.a,Object(w.a)(Object(w.a)({disabled:s},p),{},{bsSize:"sm"})),!!t&&Object(g.jsx)(xn.a,{addonType:"append",children:t})]}),S&&Object(g.jsx)(fr,{toggle:C,onSelect:I,systemId:null!==M&&void 0!==M?M:a,selectMode:F,path:P,initialSelection:T?[T]:void 0,allowSystemChange:!0})]})},_r=function(e){var t=e.name,n=e.label,i=e.required,r=e.description,s=e.systemId,a=e.path,c=e.mode,o=e.files,l=e.dirs,u=Object(L.a)(e,Or);return Object(g.jsx)(sn,{name:t,label:n,required:i,description:r,as:function(e){return Object(g.jsx)(gr,Object(w.a)(Object(w.a)(Object(w.a)({},u),e),{},{bsSize:"sm",systemId:s,path:a,mode:c,files:o,dirs:l}))}})},Sr=s.a.memo(_r),Nr=(n(979),function(e){var t=e.label,n=e.required,i=e.description,r=e.children,s=e.error;return Object(g.jsxs)(Zt.a,{children:[Object(g.jsxs)($t.a,{className:"form-field__label",size:"sm",style:{display:"flex",alignItems:"center"},children:[t," ",n?Object(g.jsx)(en.a,{color:"danger",style:{marginLeft:"10px"},children:"Required"}):null]}),r,s?Object(g.jsx)("div",{className:"form-field__validation-error",children:s}):i&&Object(g.jsx)(tn.a,{className:"form-field__help",color:"muted",children:i})]})}),Cr=n(129),Ir=n.n(Cr),kr=function(e){var t=e.left,n=e.right,i=e.top,r=e.bottom,s=e.constrain;return Object(g.jsxs)("div",{className:"".concat(Ir.a["layout-root"]," ").concat(s?Ir.a.constrain:""),children:[i,Object(g.jsxs)("div",{className:"".concat(Ir.a["layout-row"]," ").concat(s?Ir.a.constrain:""),children:[t,n]}),r]})},Ar=n(114),Mr=n.n(Ar),Tr=function(e){var t=e.children,n=e.type;return Object(g.jsx)("div",{className:n&&Mr.a[n],children:Object(g.jsx)(we,{children:t})})},Pr=function(e){var t=e.children;return Object(g.jsx)("div",{className:Mr.a.nav,children:t})},wr=function(e){var t=e.children,n=e.constrain;return Object(g.jsx)("div",{className:"".concat(Mr.a.body," ").concat(n?Mr.a.constrain:""),children:Object(g.jsx)("div",{className:Mr.a.detail,children:t})})},Lr=n(130),Fr=n.n(Lr),Er=function(e){var t=e.title,n=e.note,i=e.open,s=e.requiredText,a=e.className,c=e.children,o=e.isCollapsable,u=void 0===o||o,d=Object(r.useState)(null!==i&&void 0!==i&&i),j=Object(l.a)(d,2),b=j[0],m=j[1],p=Object(r.useCallback)((function(){m(!b)}),[b,m]);return Object(g.jsxs)("div",{className:a,children:[Object(g.jsxs)("div",{className:Fr.a.header,children:[Object(g.jsxs)("div",{className:Fr.a.title,children:[t,s&&Object(g.jsx)(en.a,{color:"danger",style:{marginLeft:"10px",marginBottom:"10px"},children:s})]}),Object(g.jsxs)("div",{className:Fr.a.controls,children:[Object(g.jsx)("div",{children:null!==n&&void 0!==n?n:""}),u&&Object(g.jsx)(k.a,{color:"link",className:Fr.a.expand,size:"sm",onClick:p,children:Object(g.jsx)(Je,{name:b?"collapse":"expand"})})]})]}),Object(g.jsx)(ze.a,{isOpen:b||!u,children:c})]})},qr=n(191),Dr=n.n(qr),Ur=function e(t){var n=JSON.parse(JSON.stringify(t));return Object.entries(n).forEach((function(t){var i=Object(l.a)(t,2),r=i[0],s=i[1];if(Array.isArray(s))0===s.length&&delete n[r];else if("object"!==typeof s)void 0===s&&delete n[r];else{var a=e(s);0===Object.entries(a).length?delete n[r]:n[r]=a}})),n},Rr=function e(t){if(void 0!==t){if(Array.isArray(t))return t.map((function(t){return e(t)}));if(t instanceof Set)return Array.from(t).map((function(t){return e(t)}));if("object"===typeof t){var n={};return Object.entries(t).forEach((function(t){var i=Object(l.a)(t,2),r=i[0],s=i[1];n[r]=e(s)})),n}return JSON.parse(JSON.stringify(t))}},zr=function(e){var t=e.json,n=e.className,i=Object(r.useState)(!1),s=Object(l.a)(i,2),a=s[0],c=s[1],o=Object(r.useCallback)((function(){c(!a)}),[c,a]),u=Object(r.useMemo)((function(){return JSON.stringify(a?Ur(Rr(t)):Rr(t),null,2)}),[t,a]);return Object(g.jsxs)("div",{className:n,children:[Object(g.jsxs)("div",{className:Dr.a.controls,children:[Object(g.jsx)(Zt.a,{check:!0,children:Object(g.jsxs)($t.a,{check:!0,size:"sm",className:"form-field__label",children:[Object(g.jsx)(vt.a,{type:"checkbox",onChange:o}),"Simplified"]})}),Object(g.jsx)(Xt,{value:u})]}),Object(g.jsx)(vt.a,{type:"textarea",value:u,className:Dr.a.json,rows:"20",disabled:!0})]})},Vr=n(1035),Br=n(1036),Jr=n(1037),Hr=n(1038),Qr=n(1039),Wr=n(162),Kr=n.n(Wr),Yr=function(e){var t,n=e.tabs,i=e.className,s=void 0===i?"":i,a=Object.keys(n),c=Object(r.useState)(null!==(t=a[0])&&void 0!==t?t:""),o=Object(l.a)(c,2),u=o[0],d=o[1],j=function(e){return"".concat(Kr.a.tab," ").concat(u===e?Kr.a.active:"")};return Object(g.jsxs)("div",{className:s,children:[Object(g.jsx)(Vr.a,{tabs:!0,children:a.map((function(e){return Object(g.jsx)(Br.a,{className:j(e),children:Object(g.jsx)(Jr.a,{onClick:function(){return d(e)},"data-testid":"tab-".concat(e),children:e})},"tab-".concat(e))}))}),Object(g.jsx)(Hr.a,{activeTab:u,children:a.map((function(e){return Object(g.jsx)(Qr.a,{tabId:e,className:Kr.a.pane,children:n[e]},"tabcontent-".concat(e))}))})]})},Gr=n(115),Xr=n.n(Gr),Zr=function(e){var t=e.to,n=e.icon,i=e.children;return Object(g.jsx)(o.c,{to:t,className:Xr.a["nav-link"],activeClassName:Xr.a.active,exact:"/"===t,children:Object(g.jsxs)("div",{className:Xr.a["nav-content"],children:[n&&Object(g.jsx)(Je,{name:n}),Object(g.jsx)("span",{className:Xr.a["nav-text"],children:i})]})})},$r=function(e){var t=e.children;return Object(g.jsx)("div",{className:"".concat(Xr.a["nav-list"]),children:t})},es=function(){var e=O().accessToken;return Object(g.jsx)("div",{className:N.a.root,children:Object(g.jsxs)($r,{children:[Object(g.jsx)(Zr,{to:"/",icon:"dashboard",children:"Dashboard"}),!e&&Object(g.jsx)(Zr,{to:"/login",icon:"user",children:"Login"}),e&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Zr,{to:"/systems",icon:"data-files",children:"Systems"}),Object(g.jsx)(Zr,{to:"/files",icon:"folder",children:"Files"}),Object(g.jsx)(Zr,{to:"/apps",icon:"applications",children:"Apps"}),Object(g.jsx)(Zr,{to:"/jobs",icon:"jobs",children:"Jobs"})]})]})})},ts=function(e,t,n){var i={reqCreateToken:{username:e,password:t,grant_type:"password"}},r=_n(gn.Authenticator,gn.Authenticator.TokensApi,n,null);return Sn((function(){return r.createToken(i)}))},ns={login:"authenticator/login"},is=function(){var e=O(),t=e.setAccessToken,n=e.basePath,i=Object(Vn.a)([ns.login,n],(function(e){var t=e.username,i=e.password;return ts(t,i,n)}),{onSuccess:function(e){var n;t(null===e||void 0===e||null===(n=e.result)||void 0===n?void 0:n.access_token)}}),r=i.mutate;return{isLoading:i.isLoading,isError:i.isError,isSuccess:i.isSuccess,error:i.error,login:function(e,t){return r({username:e,password:t})},logout:function(){return t(null)}}},rs=function(e,t,n){var i=_n(gn.Apps,gn.Apps.ApplicationsApi,t,n);return Sn((function(){return i.getApps(e)}))},ss=function(e,t,n){var i=_n(gn.Apps,gn.Apps.ApplicationsApi,t,n);return Sn((function(){return i.getApp(e)}))},as={list:"apps/list"},cs={select:"jobAttributes,version"},os=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=O(),i=n.accessToken,r=n.basePath,s=Object(p.a)([as.list,e,i],(function(){var t;return rs(e,r,null!==(t=null===i||void 0===i?void 0:i.access_token)&&void 0!==t?t:"")}),Object(w.a)(Object(w.a)({},t),{},{enabled:!!i}));return s},ls=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=O(),i=n.accessToken,r=n.basePath,s=Object(p.a)([as.list,e,i],(function(){var t;return ss(Object(w.a)({},e),r,null!==(t=null===i||void 0===i?void 0:i.access_token)&&void 0!==t?t:"")}),Object(w.a)(Object(w.a)({},t),{},{enabled:!!i}));return s},us={select:"allAttributes",listType:hi.ListTypeEnum.All},ds=function(){var e,t=os(us,{refetchOnWindowFocus:!1}),n=t.data,i=t.isLoading,r=t.error,s=Object(Ht.i)().url,a=null!==(e=null===n||void 0===n?void 0:n.result)&&void 0!==e?e:[];return Object(g.jsx)(V,{isLoading:i,error:r,children:Object(g.jsx)($r,{children:a.length?a.map((function(e){return Object(g.jsx)(Zr,{to:"".concat(s,"/").concat(e.id,"/").concat(e.version),icon:"applications",children:"".concat(e.id," v").concat(e.version)},e.id)})):Object(g.jsx)("i",{children:"No apps found"})})})},js=function(e,t,n){var i=_n(gn.Jobs,gn.Jobs.JobsApi,t,n);return Sn((function(){return i.getJobList(e)}))},bs=function(e,t,n){var i=_n(gn.Jobs,gn.Jobs.JobsApi,t,n);return Sn((function(){return i.getJob(e)}))},ms=function(e,t,n){var i=_n(gn.Jobs,gn.Jobs.JobsApi,t,n);return Sn((function(){return i.submitJob({reqSubmitJob:e})}))},ps=function(e,t,n){var i=_n(gn.Jobs,gn.Jobs.JobsApi,t,n);return Sn((function(){return i.cancelJob(e)}))},hs={list:"jobs/list",details:"jobs/details",submit:"jobs/submit",cancel:"jobs/cancel"},fs={orderBy:"created(desc)"},vs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fs,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=O(),i=n.accessToken,r=n.basePath,s=Object(p.a)([hs.list,e,i],(function(){var t;return js(e,r,null!==(t=null===i||void 0===i?void 0:i.access_token)&&void 0!==t?t:"")}),Object(w.a)(Object(w.a)({},t),{},{enabled:!!i}));return s},Os=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=O(),i=n.accessToken,r=n.basePath,s={jobUuid:e},a=Object(p.a)([hs.details,s,i],(function(){var e;return bs(s,r,null!==(e=null===i||void 0===i?void 0:i.access_token)&&void 0!==e?e:"")}),Object(w.a)(Object(w.a)({},t),{},{enabled:!!i}));return a},xs=function(e,t){var n=O(),i=n.basePath,s=n.accessToken,a=(null===s||void 0===s?void 0:s.access_token)||"",c=Object(Vn.a)([hs.submit,e,t,i,a],(function(e){return ms(e,i,a)})),o=c.mutate,l=c.isLoading,u=c.isError,d=c.isSuccess,j=c.data,b=c.error,m=c.reset;return Object(r.useEffect)((function(){return m()}),[m,e,t]),{isLoading:l,isError:u,isSuccess:d,data:j,error:b,reset:m,submit:function(e){return o(e)}}},ys=function(){var e=O(),t=e.basePath,n=e.accessToken,i=(null===n||void 0===n?void 0:n.access_token)||"",r=Object(Vn.a)([hs.cancel,t,i],(function(e){return ps(e,t,i)})),s=r.mutate,a=r.mutateAsync;return{isLoading:r.isLoading,isError:r.isError,isSuccess:r.isSuccess,data:r.data,error:r.error,reset:r.reset,cancel:function(e,t){return s(e,t)},cancelAsync:function(e,t){return a(e,t)}}},gs=function(e){var t=e.jobUuid,n=Os(t),i=n.data,r=n.isLoading,s=n.error,a=null===i||void 0===i?void 0:i.result;return Object(g.jsxs)(V,{isLoading:r,error:s,children:[Object(g.jsx)("h3",{children:null===a||void 0===a?void 0:a.name}),Object(g.jsx)("h5",{children:null===a||void 0===a?void 0:a.uuid}),a&&Object(g.jsx)(ft,{data:a})]})},_s=function(e){var t,n,i;return null!==(t=null===(n=e.jobAttributes)||void 0===n||null===(i=n.fileInputs)||void 0===i?void 0:i.filter((function(e){return!e.sourceUrl})))&&void 0!==t?t:[]},Ss=function(e){return{name:e.name,sourceUrl:e.sourceUrl,targetPath:e.targetPath,description:e.description,autoMountLocal:e.autoMountLocal}},Ns=function(e){var t,n,i;return(null!==(t=null===(n=e.jobAttributes)||void 0===n||null===(i=n.fileInputs)||void 0===i?void 0:i.filter((function(e){return e.inputMode===gn.Apps.FileInputModeEnum.Required})))&&void 0!==t?t:[]).map((function(e){return Ss(e)}))},Cs=function(e,t){var n,i,r,s,a;if(function(e,t){return _s(e).filter((function(e){return e.inputMode===t}))}(e,gn.Apps.FileInputModeEnum.Required).some((function(e){var n=t.find((function(t){return t.name===e.name}));return!n||!n.sourceUrl})))return!1;var c=_s(e).filter((function(e){return!e.sourceUrl})),o=null!==(n=t.filter((function(e){return c.some((function(t){return e.name===t.name}))})))&&void 0!==n?n:[];if(!!o.length&&o.some((function(e){return!e.sourceUrl})))return!1;var l=null!==(i=null===(r=e.jobAttributes)||void 0===r||null===(s=r.fileInputs)||void 0===s?void 0:s.map((function(e){return e.name})))&&void 0!==i?i:[];return!(null!==(a=t.filter((function(e){return!l.some((function(t){return t===e.name}))})))&&void 0!==a?a:[]).some((function(e){return!e.sourceUrl||!e.targetPath}))},Is=function(e){var t,n,i;return null!==(t=null===(n=e.jobAttributes)||void 0===n||null===(i=n.fileInputArrays)||void 0===i?void 0:i.filter((function(e){return!e.sourceUrls})))&&void 0!==t?t:[]},ks=function(e){var t;return{name:e.name,sourceUrls:null!==(t=e.sourceUrls)&&void 0!==t?t:[],targetDir:e.targetDir,description:e.description}},As=function(e){var t,n,i;return(null!==(t=null===(n=e.jobAttributes)||void 0===n||null===(i=n.fileInputArrays)||void 0===i?void 0:i.filter((function(e){return e.inputMode===gn.Apps.FileInputModeEnum.Required})))&&void 0!==t?t:[]).map((function(e){return ks(e)}))},Ms=function(e,t){var n,i,r,s,a;if(function(e,t){return Is(e).filter((function(e){return e.inputMode===t}))}(e,gn.Apps.FileInputModeEnum.Required).some((function(e){var n=t.find((function(t){return t.name===e.name}));return!n||(!n.sourceUrls||!n.sourceUrls.length)})))return!1;var c=Is(e).filter((function(e){return!e.sourceUrls})),o=null!==(n=t.filter((function(e){return c.some((function(t){return e.name===t.name}))})))&&void 0!==n?n:[];if(!!o.length&&o.some((function(e){return!e.sourceUrls})))return!1;var l=null!==(i=null===(r=e.jobAttributes)||void 0===r||null===(s=r.fileInputArrays)||void 0===s?void 0:s.map((function(e){return e.name})))&&void 0!==i?i:[];return!(null!==(a=t.filter((function(e){return!l.some((function(t){return t===e.name}))})))&&void 0!==a?a:[]).some((function(e){return!e.sourceUrls||!e.targetDir}))},Ts=function(e,t){var n=t.find((function(t){return t.name===e}));if(n)return n.inputMode},Ps=function(e){return e.map((function(e){return function(e){return{arg:e.arg,description:e.description,include:e.inputMode!==gn.Apps.ArgInputModeEnum.IncludeOnDemand,name:e.name}}(e)}))},ws=function(e){var t,n,i,r,s,a,c,o,l,u,d,j,b,m,p,h,f,v,O,x,y,g,_,S,N=e.app;e.systems;return N?{name:"".concat(N.id,"-").concat(N.version),description:N.description,appId:N.id,appVersion:N.version,archiveOnAppError:null===(t=null===(n=N.jobAttributes)||void 0===n?void 0:n.archiveOnAppError)||void 0===t||t,archiveSystemId:null===(i=N.jobAttributes)||void 0===i?void 0:i.archiveSystemId,archiveSystemDir:null===(r=N.jobAttributes)||void 0===r?void 0:r.archiveSystemDir,nodeCount:null===(s=N.jobAttributes)||void 0===s?void 0:s.nodeCount,coresPerNode:null===(a=N.jobAttributes)||void 0===a?void 0:a.coresPerNode,jobType:N.jobType,memoryMB:null===(c=N.jobAttributes)||void 0===c?void 0:c.memoryMB,maxMinutes:null===(o=N.jobAttributes)||void 0===o?void 0:o.maxMinutes,isMpi:null===(l=N.jobAttributes)||void 0===l?void 0:l.isMpi,mpiCmd:null===(u=N.jobAttributes)||void 0===u?void 0:u.mpiCmd,cmdPrefix:null===(d=N.jobAttributes)||void 0===d?void 0:d.cmdPrefix,fileInputs:Ns(N),fileInputArrays:As(N),parameterSet:{appArgs:Ps(null!==(j=null===(b=N.jobAttributes)||void 0===b||null===(m=b.parameterSet)||void 0===m?void 0:m.appArgs)&&void 0!==j?j:[]),containerArgs:Ps(null!==(p=null===(h=N.jobAttributes)||void 0===h||null===(f=h.parameterSet)||void 0===f?void 0:f.containerArgs)&&void 0!==p?p:[]),schedulerOptions:Ps(null!==(v=null===(O=N.jobAttributes)||void 0===O||null===(x=O.parameterSet)||void 0===x?void 0:x.schedulerOptions)&&void 0!==v?v:[]),archiveFilter:null===(y=N.jobAttributes)||void 0===y||null===(g=y.parameterSet)||void 0===g?void 0:g.archiveFilter,envVariables:null===(_=N.jobAttributes)||void 0===_||null===(S=_.parameterSet)||void 0===S?void 0:S.envVariables}}:{}},Ls=function(e){var t=e.field,n=e.error;return Object(g.jsx)("div",{children:t?Object(g.jsx)("div",{children:t}):Object(g.jsx)(it,{type:"error",canDismiss:!1,scope:"inline",children:null!==n&&void 0!==n?n:""})})},Fs=function(){var e=s.a.createContext({data:{},add:function(e){},set:function(e){},clear:function(){}});return{useBuilderContext:function(){return Object(r.useContext)(e)},Provider:function(t){var n=t.children,i=t.value,s=Object(r.useReducer)((function(e,t){var n=t.action,i=t.slice;switch(n){case"add":return Object(w.a)(Object(w.a)({},e),i);case"set":return Object(w.a)({},i);case"clear":return{};default:return Object(w.a)({},e)}}),Object(w.a)({},i)),a=Object(l.a)(s,2),c=a[0],o=a[1];Object(r.useEffect)((function(){o({action:"set",slice:i})}),[o,i]);var u={data:c,add:function(e){return o({action:"add",slice:e})},set:function(e){return o({action:"set",slice:e})},clear:function(){return o({action:"clear"})}};return Object(g.jsx)(e.Provider,{value:u,children:n})}}},Es=s.a.createContext({app:{},systems:[],schedulerProfiles:[]}),qs=Fs(),Ds=qs.useBuilderContext,Us=qs.Provider,Rs=function(e){var t=e.value,n=e.children,i=t.app,r=t.systems,s=t.defaultValues,a=t.schedulerProfiles;return Object(g.jsx)(Es.Provider,{value:{app:i,systems:r,schedulerProfiles:a},children:Us({value:s,children:n})})},zs=function(){var e=Ds(),t=e.data,n=e.add,i=e.set,s=e.clear,a=Object(r.useContext)(Es);return{job:t,add:n,set:i,clear:s,app:a.app,systems:a.systems,schedulerProfiles:a.schedulerProfiles}},Vs=function(){var e=zs().app;return Object(g.jsxs)("div",{children:[Object(g.jsxs)("h2",{children:["Launching ",e.id," v",e.version]}),Object(g.jsx)(on,{name:"name",required:!0,label:"Name",description:"A name for this job"}),Object(g.jsx)(on,{name:"description",required:!1,label:"Description",description:"A description of this job"})]})},Bs=function(){var e=zs().job,t=e.name,n=e.description,i=e.appId,r=e.appVersion;return Object(g.jsxs)("div",{children:[Object(g.jsx)(Ls,{field:t,error:"A job name is required"},"job-start-name-summary"),Object(g.jsx)(Ls,{field:n},"job-start-description-summary"),Object(g.jsx)("div",{children:Object(g.jsxs)("i",{children:["Application: ",i," v",r]})})]})},Js=Li.d({name:Li.e().required().min(1).max(64),description:Li.e()}),Hs={id:"start",name:"Job Name",render:Object(g.jsx)(Vs,{}),summary:Object(g.jsx)(Bs,{}),generateInitialValues:function(e){var t=e.job;return{name:t.name,description:t.description}},validationSchema:Js},Qs=function(e){var t,n;return(null===(t=e.jobAttributes)||void 0===t?void 0:t.execSystemId)?{source:"app",systemId:null===(n=e.jobAttributes)||void 0===n?void 0:n.execSystemId}:{source:void 0,systemId:void 0}},Ws=function(e,t,n){var i,r,s;if(null===(i=t.jobAttributes)||void 0===i?void 0:i.execSystemLogicalQueue)return{source:"app",queue:null===(s=t.jobAttributes)||void 0===s?void 0:s.execSystemLogicalQueue};if(e.execSystemId){var a=n.find((function(t){return t.id===e.execSystemId}));if(null===a||void 0===a?void 0:a.batchDefaultLogicalQueue)return{source:"system",queue:a.batchDefaultLogicalQueue}}if(null===(r=t.jobAttributes)||void 0===r?void 0:r.execSystemId){var c=n.find((function(e){var n;return e.id===(null===(n=t.jobAttributes)||void 0===n?void 0:n.execSystemId)}));if(null===c||void 0===c?void 0:c.batchDefaultLogicalQueue)return{source:"app system",queue:c.batchDefaultLogicalQueue}}return{source:void 0,queue:void 0}},Ks=function(e,t,n){var i;if(t.jobType)return{source:"app",jobType:t.jobType};if(null===e||void 0===e?void 0:e.execSystemId){var r=n.find((function(t){return t.id===e.execSystemId}));if(null===r||void 0===r?void 0:r.canRunBatch)return{source:"system",jobType:gn.Apps.JobTypeEnum.Batch}}if(null===(i=t.jobAttributes)||void 0===i?void 0:i.execSystemId){var s=n.find((function(e){var n;return e.id===(null===(n=t.jobAttributes)||void 0===n?void 0:n.execSystemId)}));if(null===s||void 0===s?void 0:s.canRunBatch)return{source:"app system",jobType:gn.Apps.JobTypeEnum.Batch}}return{source:"tapis",jobType:gn.Apps.JobTypeEnum.Fork}};!function(e){e.Complete="COMPLETE",e.ErrorNoExecSystem="ERROR_NO_EXEC_SYSTEM",e.ErrorExecSystemNotFound="ERROR_EXEC_SYSTEM_NOT_FOUND",e.ErrorExecSystemNoQueues="ERROR_EXEC_SYSTEM_NO_QUEUES",e.ErrorNoQueue="ERROR_NO_QUEUE",e.ErrorQueueNotFound="ERROR_QUEUE_NOT_FOUND"}(ei||(ei={}));var Ys,Gs=function(e,t,n){var i,r,s=Qs(t);if(!e.execSystemId&&!(null===s||void 0===s?void 0:s.systemId))return ei.ErrorNoExecSystem;var a=n.find((function(t){var n;return t.id===(null!==(n=e.execSystemId)&&void 0!==n?n:null===s||void 0===s?void 0:s.systemId)}));if(!a)return ei.ErrorExecSystemNotFound;var c=Ks(e,t,n);if(e.jobType!==gn.Apps.JobTypeEnum.Batch&&c.jobType===gn.Apps.JobTypeEnum.Fork)return ei.Complete;if(!(null===(i=a.batchLogicalQueues)||void 0===i?void 0:i.length))return ei.ErrorExecSystemNoQueues;var o=Ws(e,t,n);if(!e.execSystemLogicalQueue&&!o.queue)return ei.ErrorNoQueue;var l=n.find((function(t){var n;return t.id===(null!==(n=e.execSystemId)&&void 0!==n?n:null===s||void 0===s?void 0:s.systemId)}));return(null===l||void 0===l||null===(r=l.batchLogicalQueues)||void 0===r?void 0:r.some((function(t){var n;return t.name===(null!==(n=e.execSystemLogicalQueue)&&void 0!==n?n:o.queue)})))?ei.Complete:ei.ErrorQueueNotFound},Xs=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Zs=n(22),$s=n.n(Zs),ea=function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.batchLogicalQueues)&&void 0!==t?t:[]},ta=function(e,t){return t?e.find((function(e){return e.id===t})):void 0},na=function(){var e=Object(K.j)(),t=e.setFieldValue,n=e.values,i=zs(),s=i.job,a=i.app,c=i.systems,o=Object(r.useState)(ea(ta(c,s.execSystemId))),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(r.useState)(c),m=Object(l.a)(b,2),p=m[0],h=m[1],f=Object(r.useMemo)((function(){var e=Qs(a),t=e.source,i=e.systemId,r=t?"App default (".concat(i,")"):"Please select a system",s=Ws(n,a,c),o=s.source,l=s.queue,u=o?"".concat(Xs(o)," default (").concat(l,")"):"Please select a queue",d=Ks(n,a,c),j=d.source,b=d.jobType;return{defaultSystemLabel:r,defaultQueueLabel:u,defaultJobTypeLabel:"".concat(Xs(j)," default (").concat(b,")"),isBatch:(null===n||void 0===n?void 0:n.jobType)===gn.Apps.JobTypeEnum.Batch||b===gn.Apps.JobTypeEnum.Batch,selectedSystem:null===n||void 0===n?void 0:n.execSystemId}}),[n,a,c]),v=f.defaultSystemLabel,O=f.defaultQueueLabel,x=f.defaultJobTypeLabel,y=f.isBatch,_=f.selectedSystem;return Object(r.useEffect)((function(){var e,n=y?c.filter((function(e){var t;return!!(null===(t=e.batchLogicalQueues)||void 0===t?void 0:t.length)})):c;h(n),n.some((function(e){return e.id===_}))||t("execSystemId",void 0),y||t("execSystemLogicalQueue",void 0);var i=ta(n,null!==_&&void 0!==_?_:null===(e=a.jobAttributes)||void 0===e?void 0:e.execSystemId),r=ea(i);j(r),t("execSystemLogicalQueue",void 0)}),[c,y,a,_,t,h,j]),Object(g.jsxs)("div",{className:$s.a.item,children:[Object(g.jsxs)(mn,{name:"execSystemId",description:"The execution system for this job",label:"Execution System",required:!0,"data-testid":"execSystemId",children:[Object(g.jsx)("option",{value:void 0,label:v}),p.map((function(e){return Object(g.jsx)("option",{value:e.id,label:e.id,"data-testid":"execSystemId-".concat(e.id)},"execsystem-select-".concat(e.id))}))]}),Object(g.jsxs)(mn,{name:"jobType",label:"Job Type",description:"Jobs can either be Batch or Fork",required:!0,"data-testid":"jobType",children:[Object(g.jsx)("option",{value:void 0,label:x}),Object(g.jsx)("option",{value:gn.Apps.JobTypeEnum.Batch,label:"Batch"}),Object(g.jsx)("option",{value:gn.Apps.JobTypeEnum.Fork,label:"Fork"})]}),y&&Object(g.jsxs)(mn,{name:"execSystemLogicalQueue",description:"The batch queue on this execution system",label:"Batch Logical Queue",required:!1,disabled:0===d.length,"data-testid":"execSystemLogicalQueue",children:[Object(g.jsx)("option",{value:void 0,label:O}),d.map((function(e){return Object(g.jsx)("option",{value:e.name,label:e.name},"queue-select-".concat(e.name))}))]})]})},ia=function(){var e=Object(K.j)().values,t=Object(r.useMemo)((function(){return e.execSystemId}),[e]);return Object(g.jsxs)(Er,{title:"Execution System Directories",children:[Object(g.jsx)(Sr,{allowSystemChange:!1,systemId:t,disabled:!t,name:"execSystemExecDir",label:"Execution System Execution Directory",description:"The directory on the selected selection system for execution files",required:!1,files:!1,dirs:!0}),Object(g.jsx)(Sr,{allowSystemChange:!1,systemId:t,disabled:!t,name:"execSystemInputDir",label:"Execution System Input Directory",description:"The directory on the selected selection system for input files",required:!1,files:!1,dirs:!0}),Object(g.jsx)(Sr,{allowSystemChange:!1,systemId:t,disabled:!t,name:"execSystemOutputDir",label:"Execution System Output Directory",description:"The directory on the selected selection system for output files",required:!1,files:!1,dirs:!0})]})},ra=function(){var e=Object(K.j)().errors,t=e.coresPerNode||e.maxMinutes||e.memoryMB||e.nodeCount;return Object(g.jsxs)(Er,{title:"Queue Parameters",isCollapsable:!t,children:[Object(g.jsx)(on,{name:"nodeCount",label:"Node Count",description:"The number of nodes to use for this job",required:!1,type:"number"}),Object(g.jsx)(on,{name:"coresPerNode",label:"Cores Per Node",description:"The number of cores to use per node",required:!1,type:"number"}),Object(g.jsx)(on,{name:"memoryMB",label:"Memory, in Megabytes",description:"The amount of memory to use per node in megabytes",required:!1,type:"number"}),Object(g.jsx)(on,{name:"maxMinutes",label:"Maximum Minutes",description:"The maximum amount of time in minutes for this job",required:!1,type:"number"})]})},sa=function(){var e=Object(K.j)().values,t=Object(r.useMemo)((function(){return e.isMpi}),[e]);return Object(g.jsxs)(Er,{title:"MPI Options",children:[Object(g.jsx)(vn,{name:"isMpi",label:"Is MPI?",description:"If checked, this job will be run as an MPI job",required:!1}),Object(g.jsx)(on,{name:"mpiCmd",label:"MPI Command",description:"If this is an MPI job, you may specify the MPI command",required:!1,disabled:!t}),Object(g.jsx)(on,{name:"cmdPrefix",label:"Command Prefix",description:"If this is not an MPI job, you may specify a command prefix",required:!1,disabled:!!t})]})},aa=function(){var e=Object(K.j)().values,t=Object(r.useMemo)((function(){return(null===e||void 0===e?void 0:e.jobType)===gn.Apps.JobTypeEnum.Batch}),[e]);return Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"Execution Options"}),Object(g.jsx)(na,{}),t&&Object(g.jsx)(ra,{}),Object(g.jsx)(sa,{}),Object(g.jsx)(ia,{})]})},ca=function(){var e=zs(),t=e.job,n=e.app,i=e.systems,s=t.isMpi,a=t.mpiCmd,c=t.cmdPrefix,o=Object(r.useMemo)((function(){var e,r,s,a=t.execSystemLogicalQueue,c=t.execSystemId,o=t.jobType;return{computedSystem:null!==c&&void 0!==c?c:null===(e=Qs(n))||void 0===e?void 0:e.systemId,computedQueue:null!==a&&void 0!==a?a:null===(r=Ws(t,n,i))||void 0===r?void 0:r.queue,computedJobType:null!==o&&void 0!==o?o:null===(s=Ks(t,n,i))||void 0===s?void 0:s.jobType}}),[t,n,i]),l=o.computedSystem,u=o.computedQueue,d=o.computedJobType;return Object(g.jsxs)("div",{children:[Object(g.jsx)(Ls,{field:l,error:"An execution system is required"},"execution-system-id-summary"),d===gn.Apps.JobTypeEnum.Batch&&Object(g.jsx)(Ls,{field:u,error:"A logical queue is required"},"execution-system-queue-summary"),Object(g.jsx)(Ls,{field:"".concat(s?"MPI Command: ".concat(null!==a&&void 0!==a?a:"system default"):"Command Prefix: ".concat(null!==c&&void 0!==c?c:"system default"))},"execution-mpi-summary")]})},oa=Li.d({execSystemId:Li.e(),execSystemLogicalQueue:Li.e(),execSystemExecDir:Li.e(),execSystemInputDir:Li.e(),execSystemOutputDir:Li.e(),jobType:Li.e(),nodeCount:Li.c(),coresPerNode:Li.c(),memoryMB:Li.c(),maxMinutes:Li.c(),isMpi:Li.b(),mpiCmd:Li.e(),cmdPrefix:Li.e()}),la={id:"execution",name:"Execution Options",render:Object(g.jsx)(aa,{}),summary:Object(g.jsx)(ca,{}),generateInitialValues:function(e){var t=e.job;e.app,e.systems;return{execSystemId:t.execSystemId,execSystemLogicalQueue:t.execSystemLogicalQueue,jobType:t.jobType,execSystemExecDir:t.execSystemExecDir,execSystemInputDir:t.execSystemInputDir,execSystemOutputDir:t.execSystemOutputDir,nodeCount:t.nodeCount,coresPerNode:t.coresPerNode,memoryMB:t.memoryMB,maxMinutes:t.maxMinutes,isMpi:t.isMpi,mpiCmd:t.mpiCmd,cmdPrefix:t.cmdPrefix}},validateThunk:function(e){var t=e.app,n=e.systems;return function(e){var i,r,s,a=e.execSystemId,c=e.execSystemLogicalQueue,o=e.nodeCount,l=e.coresPerNode,u=e.memoryMB,d=e.maxMinutes,j=e.jobType,b={},m=Gs(e,t,n);if(m===ei.ErrorNoExecSystem&&(b.execSystemId="This app does not have a default execution system. You must specify one for this job"),m===ei.ErrorExecSystemNotFound&&(b.execSystemId="The specified exec system cannot be found"),m===ei.ErrorExecSystemNoQueues&&(b.execSystemId="The specified exec system is not capable of batch jobs"),m===ei.ErrorNoQueue&&(b.execSystemLogicalQueue="Neither the application nor the selected system specifies a default queue. You must specify one for this job"),m===ei.ErrorQueueNotFound&&(b.execSystemLogicalQueue="The specified queue cannot be found on the selected system"),j===gn.Apps.JobTypeEnum.Fork||(null===(i=Ks(e,t,n))||void 0===i?void 0:i.jobType)===gn.Apps.JobTypeEnum.Fork)return b;var p=Qs(t),h=Ws(e,t,n),f=n.find((function(e){return e.id===(null!==a&&void 0!==a?a:p.systemId)}));if(!(null===f||void 0===f||null===(r=f.batchLogicalQueues)||void 0===r?void 0:r.length))return b.execSystemLogicalQueue="The selected system does not have any batch logical queues",b;var v=null===f||void 0===f||null===(s=f.batchLogicalQueues)||void 0===s?void 0:s.find((function(e){return e.name===(null!==c&&void 0!==c?c:null===h||void 0===h?void 0:h.queue)}));return v?(o&&((null===v||void 0===v?void 0:v.maxNodeCount)&&o>(null===v||void 0===v?void 0:v.maxNodeCount)&&(b.nodeCount="The maximum number of nodes for this queue is ".concat(null===v||void 0===v?void 0:v.maxNodeCount)),(null===v||void 0===v?void 0:v.minNodeCount)&&o<(null===v||void 0===v?void 0:v.minNodeCount)&&(b.nodeCount="The minimum number of nodes for this queue is ".concat(null===v||void 0===v?void 0:v.minNodeCount))),l&&((null===v||void 0===v?void 0:v.maxCoresPerNode)&&l>(null===v||void 0===v?void 0:v.maxCoresPerNode)&&(b.coresPerNode="The maximum number of cores per node for this queue is ".concat(null===v||void 0===v?void 0:v.maxCoresPerNode)),(null===v||void 0===v?void 0:v.minCoresPerNode)&&l<(null===v||void 0===v?void 0:v.minCoresPerNode)&&(b.coresPerNode="The minimum number of cores per node for this queue is ".concat(null===v||void 0===v?void 0:v.minCoresPerNode))),u&&((null===v||void 0===v?void 0:v.maxMemoryMB)&&u>(null===v||void 0===v?void 0:v.maxMemoryMB)&&(b.memoryMB="The maximum amount of memory for this queue is ".concat(null===v||void 0===v?void 0:v.maxMemoryMB," megabytes")),(null===v||void 0===v?void 0:v.minMemoryMB)&&u<(null===v||void 0===v?void 0:v.minMemoryMB)&&(b.memoryMB="The minimum amount of memory for this queue is ".concat(null===v||void 0===v?void 0:v.minMemoryMB," megabytes"))),d&&((null===v||void 0===v?void 0:v.maxMinutes)&&d>(null===v||void 0===v?void 0:v.maxMinutes)&&(b.maxMinutes="The maximum number of minutes for a job on this queue is ".concat(null===v||void 0===v?void 0:v.maxMinutes)),(null===v||void 0===v?void 0:v.minMinutes)&&d<(null===v||void 0===v?void 0:v.minMinutes)&&(b.maxMinutes="The minimum number of minutes for a job on this queue is ".concat(null===v||void 0===v?void 0:v.minMinutes))),b):(b.execSystemLogicalQueue="The specified queue does not exist on the selected execution system",b)}},validationSchema:oa},ua=la,da=n(98),ja=n.n(da),ba=function(e){var t=e.item,n=e.index,i=e.remove,s=zs().app,a=t.name,c=t.sourceUrl,o=Object(r.useMemo)((function(){var e,n,i,r;return null!==(e=null===(n=s.jobAttributes)||void 0===n||null===(i=n.fileInputs)||void 0===i||null===(r=i.find((function(e){return e.name===t.name})))||void 0===r?void 0:r.inputMode)&&void 0!==e?e:void 0}),[s.id,s.version]),l=o===gn.Apps.FileInputModeEnum.Required,u="".concat(o?function(e){var t=e.toLowerCase();return"".concat(t.slice(0,1).toUpperCase()).concat(t.slice(1))}(o):"User Defined");return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(Er,{open:!c,title:null!==a&&void 0!==a?a:"File Input",note:u,className:$s.a.item,children:[Object(g.jsx)(on,{name:"fileInputs.".concat(n,".name"),label:"Name",required:!0,description:"".concat(l?"This input is required and cannot be renamed":"Name of this input"),disabled:l}),Object(g.jsx)(Sr,{name:"fileInputs.".concat(n,".sourceUrl"),label:"Source URL",required:!0,description:"Input TAPIS file as a pathname, TAPIS URI or web URL"}),Object(g.jsx)(on,{name:"fileInputs.".concat(n,".targetPath"),label:"Target Path",required:!0,description:"File mount path inside of running container"}),Object(g.jsx)(on,{name:"fileInputs.".concat(n,".description"),label:"Description",required:!1,description:"Description of this input"}),Object(g.jsx)(vn,{name:"fileInputs.".concat(n,".autoMountLocal"),label:"Auto-mount Local",required:!1,description:"If this is true, the source URL will be mounted from the execution system's local file system"}),!l&&Object(g.jsx)(k.a,{onClick:function(){return i(n)},size:"sm",children:"Remove"})]})})},ma=function(e,t){var n,i,r;return null!==(n=null===(i=e.jobAttributes)||void 0===i||null===(r=i.fileInputs)||void 0===r?void 0:r.filter((function(e){return e.inputMode===t})))&&void 0!==n?n:[]},pa=function(e){var t,n=e.input,i=e.included,r=e.onInclude;return Object(g.jsxs)(Er,{title:"".concat(n.name," ").concat(i?"(included)":""),className:ja.a["optional-input"],children:[Object(g.jsx)("div",{className:$s.a.description,children:null!==(t=n.description)&&void 0!==t?t:""}),Object(g.jsx)(Nr,{label:"Source URL",required:!0,description:"Input TAPIS file as a pathname, TAPIS URI or web URL",children:Object(g.jsx)(vt.a,{bsSize:"sm",defaultValue:n.sourceUrl,disabled:!0})}),Object(g.jsx)(Nr,{label:"Target Path",required:!0,description:"File mount path inside of running container",children:Object(g.jsx)(vt.a,{bsSize:"sm",defaultValue:n.targetPath,disabled:!0})}),Object(g.jsx)(k.a,{onClick:function(){return r()},disabled:i,size:"sm",children:"Include"}),i&&Object(g.jsx)("div",{className:$s.a.description,children:"This optional input has already been included with your job file inputs."})]})},ha=function(e){var t,n=e.arrayHelpers,i=zs().app,s=Object(K.j)().values,a=Object(r.useMemo)((function(){return ma(i,gn.Apps.FileInputModeEnum.Optional)}),[i.id,i.version]),c=null!==(t=null===s||void 0===s?void 0:s.fileInputs)&&void 0!==t?t:[];return a.length?Object(g.jsxs)(Er,{title:"Optional File Inputs",open:!0,note:"".concat(a.length," additional files"),className:$s.a.array,children:[Object(g.jsx)("div",{className:$s.a.description,children:"These File Inputs are defined in the application and can be included with your job."}),a.map((function(e){var t,i=(t=e,c.some((function(e){return e.name===t.name})));return Object(g.jsx)("div",{className:$s.a.item,children:Object(g.jsx)(pa,{input:e,onInclude:function(){n.push(Ss(e))},included:i})},"optional-input-".concat(e.name))}))]}):null},fa=function(e){var t,n=e.input;return Object(g.jsxs)(Er,{title:"".concat(n.name),className:ja.a["optional-input"],children:[Object(g.jsx)("div",{className:$s.a.description,children:null!==(t=n.description)&&void 0!==t?t:""}),Object(g.jsx)(Nr,{label:"Source URL",required:!0,description:"Input TAPIS file as a pathname, TAPIS URI or web URL",children:Object(g.jsx)(vt.a,{bsSize:"sm",defaultValue:n.sourceUrl,disabled:!0})}),Object(g.jsx)(Nr,{label:"Target Path",required:!0,description:"File mount path inside of running container",children:Object(g.jsx)(vt.a,{bsSize:"sm",defaultValue:n.targetPath,disabled:!0})})]})},va=function(){var e=zs().app,t=Object(r.useMemo)((function(){return ma(e,gn.Apps.FileInputModeEnum.Fixed)}),[e.id,e.version]);return Object(g.jsxs)(Er,{title:"Fixed File Inputs",open:!0,note:"".concat(t.length," additional files"),className:$s.a.array,children:[Object(g.jsx)("div",{className:$s.a.description,children:"These File Inputs are defined in the application and will automatically be included with your job. They cannot be removed or altered."}),t.map((function(e){return Object(g.jsx)("div",{className:$s.a.item,children:Object(g.jsx)(fa,{input:e})},"fixed-input-".concat(e.name))}))]})},Oa=function(e){var t,n=e.arrayHelpers,i=Object(K.j)().values,s=zs().app,a=Object(r.useMemo)((function(){return ma(s,gn.Apps.FileInputModeEnum.Required)}),[s.id,s.version]),c=a.length>0?"Required (".concat(a.length,")"):"",o=null!==(t=null===i||void 0===i?void 0:i.fileInputs)&&void 0!==t?t:[];return Object(g.jsxs)(Er,{open:a.length>0,title:"File Inputs",note:"".concat(o.length," items"),requiredText:c,isCollapsable:0===a.length,className:$s.a.array,children:[Object(g.jsx)("div",{className:$s.a.description,children:"These File Inputs will be submitted with your job."}),o.map((function(e,t){return Object(g.jsx)(ba,{item:e,index:t,remove:n.remove},"fileInputs.".concat(t))})),Object(g.jsx)(k.a,{onClick:function(){return n.push({})},size:"sm",children:"+ Add File Input"})]})},xa=function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"File Inputs"}),Object(g.jsx)(K.c,{name:"fileInputs",render:function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Oa,{arrayHelpers:e}),Object(g.jsx)(ha,{arrayHelpers:e}),Object(g.jsx)(va,{})]})}})]})},ya=function(){var e,t,n,i=zs(),r=i.job,s=i.app,a=null!==(e=r.fileInputs)&&void 0!==e?e:[],c=null!==(t=null===(n=s.jobAttributes)||void 0===n?void 0:n.fileInputs)&&void 0!==t?t:[],o=c.filter((function(e){return e.inputMode===gn.Apps.FileInputModeEnum.Required&&!a.some((function(t){return t.name===e.name}))})),l=function(e,t){var n=e.filter((function(e){return e.inputMode===gn.Apps.FileInputModeEnum.Required&&!e.sourceUrl})),i=t.filter((function(e){return!!n.some((function(t){return t.name===e.name}))&&!e.sourceUrl})),r=e.filter((function(e){return e.inputMode===gn.Apps.FileInputModeEnum.Optional&&!e.sourceUrl})),s=t.filter((function(e){return!!r.some((function(t){return t.name===e.name}))&&!e.sourceUrl})),a=t.filter((function(e){return!(n.some((function(t){return t.name===e.name}))||r.some((function(t){return t.name===e.name})))&&(!e.sourceUrl||!e.targetPath)}));return i.concat(s).concat(a)}(c,a),u=function(e,t){return e.filter((function(e){var n=t.some((function(t){return t.name===e.name}));return e.inputMode===gn.Apps.FileInputModeEnum.Required&&!!e.sourceUrl&&!n}))}(c,a);return Object(g.jsxs)("div",{children:[a.map((function(e){var t,n,i,r=!l.some((function(t){return t.name===e.name})),s=r?null!==(t="".concat(e.name,": ").concat(e.sourceUrl))&&void 0!==t?t:e.sourceUrl:void 0,a=null!==(n=null!==(i=e.name)&&void 0!==i?i:e.sourceUrl)&&void 0!==n?n:e.targetPath,c=r?void 0:"".concat(null!==a&&void 0!==a?a:"A file input"," is missing required information");return Object(g.jsx)(Ls,{field:s,error:c},"file-inputs-summary-".concat(null!==a&&void 0!==a?a:Object(I.a)()))})),o.map((function(e){return Object(g.jsx)(Ls,{error:"".concat(e.name," is required")},"file-inputs-required-error-".concat(e.name))})),u.map((function(e){return Object(g.jsx)(Ls,{field:"".concat(e.name," included by default")},"file-inputs-default-".concat(e.name))}))]},"file-inputs-summary")},ga=Li.d().shape({fileInputs:Li.a().of(Li.d().shape({name:Li.e().min(1).required("A fileInput name is required"),sourceUrl:Li.e().min(1).required("A sourceUrl is required"),targetPath:Li.e().min(1).required("A targetPath is required"),autoMountLocal:Li.b()}))}),_a={id:"fileInputs",name:"File Inputs",render:Object(g.jsx)(xa,{}),summary:Object(g.jsx)(ya,{}),validationSchema:ga,generateInitialValues:function(e){return{fileInputs:e.job.fileInputs}}},Sa=_a,Na=n(266),Ca=n.n(Na),Ia=function(e){var t=e.fileInputArrayIndex,n=e.arrayHelpers,i=Object(K.j)().values,s=Object(r.useMemo)((function(){var e;return i.fileInputArrays&&null!==(e=i.fileInputArrays[t].sourceUrls)&&void 0!==e?e:[]}),[i,t]),a=n.push,c=R(),o=c.modal,l=c.open,u=c.close,d=Object(r.useCallback)((function(e,t){t.forEach((function(t){var n="tapis://".concat(null!==e&&void 0!==e?e:"").concat(t.path);s.some((function(e){return e===n}))||a(n)}))}),[a,s]);return Object(g.jsxs)(Zt.a,{children:[Object(g.jsx)("div",{className:Ca.a.sourceUrls,children:s.map((function(e,i){var r="fileInputArrays.".concat(t,".sourceUrls.").concat(i);return Object(g.jsxs)("div",{children:[Object(g.jsx)(K.b,{name:r,children:function(e){var t=e.field;return Object(g.jsx)(gr,Object(w.a)(Object(w.a)({},t),{},{append:Object(g.jsx)(k.a,{size:"sm",onClick:function(){return n.remove(i)},disabled:1===s.length&&0===i,children:Object(g.jsx)(Je,{name:"close"})})}))}}),Object(g.jsx)(K.a,{name:r,className:"form-field__help",children:function(e){return Object(g.jsx)("div",{className:"".concat(rn.a["form-field__help"]," ").concat(ja.a.description),children:e})}})]},r)}))}),Object(g.jsxs)("div",{children:[Object(g.jsx)(k.a,{size:"sm",onClick:function(){return n.push("")},children:"+ Add Source URL"}),Object(g.jsx)(k.a,{size:"sm",onClick:function(){return l()},children:"+ Browse for Files"})]}),o&&Object(g.jsx)(fr,{toggle:u,onSelect:d})]})},ka=function(e){var t=e.item,n=e.index,i=e.remove,s=zs().app,a=t.name,c=t.sourceUrls,o=Object(r.useMemo)((function(){var e,n,i,r;return null!==(e=null===(n=s.jobAttributes)||void 0===n||null===(i=n.fileInputArrays)||void 0===i||null===(r=i.find((function(e){return e.name===t.name})))||void 0===r?void 0:r.inputMode)&&void 0!==e?e:void 0}),[s.id,s.version]),l=o===gn.Apps.FileInputModeEnum.Required,u="".concat(o?function(e){var t=e.toLowerCase();return"".concat(t.slice(0,1).toUpperCase()).concat(t.slice(1))}(o):"User Defined");return Object(g.jsxs)(Er,{open:!c,title:null!==a&&void 0!==a?a:"File Input Array",note:u,className:$s.a.item,children:[Object(g.jsx)(on,{name:"fileInputArrays.".concat(n,".name"),label:"Name",required:!0,description:"".concat(l?"This input is required and cannot be renamed":"Name of this input"),disabled:l}),Object(g.jsx)(K.c,{name:"fileInputArrays.".concat(n,".sourceUrls"),render:function(e){return Object(g.jsx)(Nr,{label:"Source URLs",required:!0,description:"Input TAPIS files as pathnames, TAPIS URIs or web URLs",children:Object(g.jsx)(Ia,{fileInputArrayIndex:n,arrayHelpers:e})})}}),Object(g.jsx)(on,{name:"fileInputArrays.".concat(n,".targetDir"),label:"Target Directory",required:!0,description:"File mount path inside of running container"}),Object(g.jsx)(on,{name:"fileInputArrays.".concat(n,".description"),label:"Description",required:!1,description:"Description of this input"}),!l&&Object(g.jsx)(k.a,{onClick:function(){return i(n)},size:"sm",children:"Remove"})]})},Aa=function(e,t){var n,i,r;return null!==(n=null===(i=e.jobAttributes)||void 0===i||null===(r=i.fileInputArrays)||void 0===r?void 0:r.filter((function(e){return e.inputMode===t})))&&void 0!==n?n:[]},Ma=function(e){var t,n,i=e.inputArray,r=e.included,s=e.onInclude;return Object(g.jsxs)(Er,{title:"".concat(i.name," ").concat(r?"(included)":""),className:ja.a["optional-input"],children:[Object(g.jsx)("div",{className:$s.a.description,children:null!==(t=i.description)&&void 0!==t?t:""}),Object(g.jsx)(Nr,{label:"Source URLs",required:!0,description:"Input TAPIS files as pathnames, TAPIS URIs or web URLs",children:null===(n=i.sourceUrls)||void 0===n?void 0:n.map((function(e){return Object(g.jsx)(vt.a,{bsSize:"sm",defaultValue:e,disabled:!0})}))}),Object(g.jsx)(Nr,{label:"Target Path",required:!0,description:"File mount path inside of running container",children:Object(g.jsx)(vt.a,{bsSize:"sm",defaultValue:i.targetDir,disabled:!0})}),Object(g.jsx)(k.a,{onClick:function(){return s()},disabled:r,size:"sm",children:"Include"}),r&&Object(g.jsx)("div",{className:$s.a.description,children:"This optional input array has already been included with your job file inputs."})]})},Ta=function(e){var t,n=e.arrayHelpers,i=zs().app,s=Object(K.j)().values,a=Object(r.useMemo)((function(){return Aa(i,gn.Apps.FileInputModeEnum.Optional)}),[i.id,i.version]),c=null!==(t=null===s||void 0===s?void 0:s.fileInputArrays)&&void 0!==t?t:[];return a.length?Object(g.jsxs)(Er,{title:"Optional File Input Arrays",open:!0,note:"".concat(a.length," additional files"),className:$s.a.array,children:[Object(g.jsx)("div",{className:$s.a.description,children:"These File Inputs are defined in the application and can be included with your job."}),a.map((function(e){var t,i=(t=e,c.some((function(e){return e.name===t.name})));return Object(g.jsx)("div",{className:$s.a.item,children:Object(g.jsx)(Ma,{inputArray:e,onInclude:function(){n.push(ks(e))},included:i})},"optional-input-array-".concat(e.name))}))]}):null},Pa=function(e){var t,n,i=e.inputArray;return Object(g.jsxs)(Er,{title:"".concat(i.name),className:ja.a["optional-input"],children:[Object(g.jsx)("div",{className:$s.a.description,children:null!==(t=i.description)&&void 0!==t?t:""}),Object(g.jsx)(Nr,{label:"Source URLs",required:!0,description:"Input TAPIS files as pathnames, TAPIS URIs or web URLs",children:null===(n=i.sourceUrls)||void 0===n?void 0:n.map((function(e,t){return Object(g.jsx)(vt.a,{bsSize:"sm",defaultValue:e,disabled:!0},"fixed-input-array-".concat(i.name,"-").concat(t))}))}),Object(g.jsx)(Nr,{label:"Target Directory",required:!0,description:"File mount path inside of running container",children:Object(g.jsx)(vt.a,{bsSize:"sm",defaultValue:i.targetDir,disabled:!0})})]})},wa=function(){var e=zs().app,t=Object(r.useMemo)((function(){return Aa(e,gn.Apps.FileInputModeEnum.Fixed)}),[e.id,e.version]);return Object(g.jsxs)(Er,{title:"Fixed File Input Arrays",open:!0,note:"".concat(t.length," additional files"),className:$s.a.array,children:[Object(g.jsx)("div",{className:$s.a.description,children:"These File Inputs are defined in the application and will automatically be included with your job. They cannot be removed or altered."}),t.map((function(e){return Object(g.jsx)("div",{className:$s.a.item,children:Object(g.jsx)(Pa,{inputArray:e})},"fixed-input-".concat(e.name))}))]})},La=function(e){var t,n=e.arrayHelpers,i=Object(K.j)().values,s=zs().app,a=Object(r.useMemo)((function(){return Aa(s,gn.Apps.FileInputModeEnum.Required)}),[s.id,s.version]),c=a.length>0?"Required (".concat(a.length,")"):"",o=null!==(t=null===i||void 0===i?void 0:i.fileInputArrays)&&void 0!==t?t:[];return Object(g.jsxs)(Er,{open:a.length>0,title:"File Inputs Arrays",note:"".concat(o.length," items"),requiredText:c,isCollapsable:0===a.length,className:$s.a.array,children:[Object(g.jsx)("div",{className:$s.a.description,children:"These File Input Arrays will be submitted with your job."}),o.map((function(e,t){return Object(g.jsx)(ka,{item:e,index:t,remove:n.remove},"render-fileInputArrays.".concat(t))})),Object(g.jsx)(k.a,{onClick:function(){return n.push({sourceUrls:[""]})},size:"sm",children:"+ Add File Input Array"})]})},Fa=function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"File Input Arrays"}),Object(g.jsx)(K.c,{name:"fileInputArrays",render:function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(La,{arrayHelpers:e}),Object(g.jsx)(Ta,{arrayHelpers:e}),Object(g.jsx)(wa,{})]})}})]})},Ea=function(){var e,t,n,i=zs(),r=i.job,s=i.app,a=null!==(e=r.fileInputArrays)&&void 0!==e?e:[],c=null!==(t=null===(n=s.jobAttributes)||void 0===n?void 0:n.fileInputArrays)&&void 0!==t?t:[],o=c.filter((function(e){return e.inputMode===gn.Apps.FileInputModeEnum.Required&&!a.some((function(t){return t.name===e.name}))})),l=function(e,t){var n=e.filter((function(e){return e.inputMode===gn.Apps.FileInputModeEnum.Required&&!e.sourceUrls})),i=t.filter((function(e){return!!n.some((function(t){return t.name===e.name}))&&(!e.sourceUrls||!e.sourceUrls.length)})),r=e.filter((function(e){return e.inputMode===gn.Apps.FileInputModeEnum.Optional&&!e.sourceUrls})),s=t.filter((function(e){return!!r.some((function(t){return t.name===e.name}))&&(!e.sourceUrls||!e.sourceUrls.length)})),a=t.filter((function(e){return!(n.some((function(t){return t.name===e.name}))||r.some((function(t){return t.name===e.name})))&&(!e.sourceUrls||!e.sourceUrls.length||!e.targetDir)}));return i.concat(s).concat(a)}(c,a),u=function(e,t){return e.filter((function(e){var n=t.some((function(t){return t.name===e.name}));return e.inputMode===gn.Apps.FileInputModeEnum.Required&&!!e.sourceUrls&&!n}))}(c,a);return Object(g.jsxs)("div",{children:[a.map((function(e){var t,n,i,r,s=!l.some((function(t){return t.name===e.name})),a=null!==(t=null!==(n=e.name)&&void 0!==n?n:e.sourceUrls?"".concat(e.sourceUrls[0],"..."):void 0)&&void 0!==t?t:e.targetDir,c=s?void 0:"".concat(null!==a&&void 0!==a?a:"A file input array"," is missing required information");return Object(g.jsx)(Ls,{field:"".concat(a," (").concat(null!==(i=null===(r=e.sourceUrls)||void 0===r?void 0:r.length)&&void 0!==i?i:"0"," files)"),error:c},"file-input-arrays-summary-".concat(null!==a&&void 0!==a?a:Object(I.a)()))})),o.map((function(e){return Object(g.jsx)(Ls,{error:"".concat(e.name," is required")},"file-inputs-arrays-required-error-".concat(e.name))})),u.map((function(e){return Object(g.jsx)(Ls,{field:"".concat(e.name," included by default")},"file-input-arrays-default-".concat(e.name))}))]},"file-input-arrays-summary")},qa=Li.d().shape({fileInputArrays:Li.a().of(Li.d().shape({name:Li.e().min(1).required("A fileInputArray name is required"),sourceUrls:Li.a(Li.e().min(1).required("A sourceUrl is required")).min(1),targetDir:Li.e().min(1).required("A targetDir is required")}))}),Da={id:"fileInputArrays",name:"File Input Arrays",render:Object(g.jsx)(Fa,{}),summary:Object(g.jsx)(Ea,{}),validationSchema:qa,generateInitialValues:function(e){return{fileInputArrays:e.job.fileInputArrays}}},Ua=function(e){var t=e.index,n=e.name,i=e.argType,s=e.arrayHelpers,a=e.inputMode,c=Object(K.i)("".concat(n,".name")),o=Object(l.a)(c,1)[0],u=Object(r.useMemo)((function(){return o.value}),[o]);return Object(g.jsxs)(Er,{title:u&&u.length?u:i,className:$s.a.item,children:[Object(g.jsx)(on,{name:"".concat(n,".name"),required:!0,label:"Name",disabled:!!a,description:"The name for this ".concat(i," ").concat(a?"is defined in the application and cannot be changed":"")}),Object(g.jsx)(on,{name:"".concat(n,".arg"),required:!0,label:"Value",disabled:a===gn.Apps.ArgInputModeEnum.Fixed,description:"A value for this ".concat(i)}),Object(g.jsx)(on,{name:"".concat(n,".description"),required:!1,label:"Description",disabled:a===gn.Apps.ArgInputModeEnum.Fixed,description:"A description for this ".concat(i)}),Object(g.jsx)(vn,{name:"".concat(n,".include"),required:!1,label:"Include",disabled:a===gn.Apps.ArgInputModeEnum.Fixed||a===gn.Apps.ArgInputModeEnum.Required,description:a===gn.Apps.ArgInputModeEnum.Fixed||a===gn.Apps.ArgInputModeEnum.Required?"This ".concat(i," must be included"):"If checked, this ".concat(i," will be included")}),Object(g.jsx)(k.a,{size:"sm",onClick:function(){return s.remove(t)},children:"Remove"})]},"".concat(i,".").concat(t))},Ra=function(e){var t=e.argSpecs,n=e.name,i=e.argType,s=Object(K.i)(n),a=Object(l.a)(s,1)[0],c=Object(r.useMemo)((function(){var e;return null!==(e=a.value)&&void 0!==e?e:[]}),[a]);return Object(g.jsx)(K.c,{name:n,render:function(e){return Object(g.jsxs)("div",{className:$s.a.array,children:[Object(g.jsx)("h3",{children:"".concat(i,"s")}),Object(g.jsx)("div",{className:$s.a["array-group"],children:c.map((function(r,s){var a=r.name?Ts(r.name,t):void 0;return Object(g.jsx)(Ua,{index:s,arrayHelpers:e,name:"".concat(n,".").concat(s),argType:i,inputMode:a})}))}),Object(g.jsx)(k.a,{onClick:function(){return e.push({include:!0})},size:"sm",children:"+ Add"})]})}})},za=Li.a(Li.d({name:Li.e(),description:Li.e(),include:Li.b(),arg:Li.e().min(1).required("The argument cannot be blank")})),Va=function(){var e=zs().app,t=Object(r.useMemo)((function(){var t,n,i;return null!==(t=null===(n=e.jobAttributes)||void 0===n||null===(i=n.parameterSet)||void 0===i?void 0:i.appArgs)&&void 0!==t?t:[]}),[e]),n=Object(r.useMemo)((function(){var t,n,i;return null!==(t=null===(n=e.jobAttributes)||void 0===n||null===(i=n.parameterSet)||void 0===i?void 0:i.containerArgs)&&void 0!==t?t:[]}),[e]);return Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"Arguments"}),Object(g.jsx)(Ra,{name:"parameterSet.appArgs",argType:"App Argument",argSpecs:t}),Object(g.jsx)(Ra,{name:"parameterSet.containerArgs",argType:"Container Argument",argSpecs:n})]})},Ba=function(e){return e.reduce((function(e,t){return"".concat(e).concat(t.include?" ".concat(t.arg):"")}),"")},Ja=function(){var e,t,n,i,r=zs().job,s=null!==(e=null===(t=r.parameterSet)||void 0===t?void 0:t.appArgs)&&void 0!==e?e:[],a=null!==(n=null===(i=r.parameterSet)||void 0===i?void 0:i.containerArgs)&&void 0!==n?n:[];return Object(g.jsxs)("div",{children:[Object(g.jsx)(Ls,{field:"App: ".concat(Ba(s))},"app-args-summary"),Object(g.jsx)(Ls,{field:"Container: ".concat(Ba(a))},"container-args-summary")]})},Ha=Li.d().shape({parameterSet:Li.d({appArgs:za,containerArgs:za,scheduleOptions:za})}),Qa={id:"args",name:"Arguments",render:Object(g.jsx)(Va,{}),summary:Object(g.jsx)(Ja,{}),validationSchema:Ha,generateInitialValues:function(e){var t,n,i,r=e.job;return{parameterSet:{appArgs:null===(t=r.parameterSet)||void 0===t?void 0:t.appArgs,containerArgs:null===(n=r.parameterSet)||void 0===n?void 0:n.containerArgs,schedulerOptions:null===(i=r.parameterSet)||void 0===i?void 0:i.schedulerOptions}}}},Wa=function(e){var t=e.index,n=e.arrayHelpers,i=Object(K.i)("parameterSet.envVariables.".concat(t,".key")),s=Object(l.a)(i,1)[0],a=Object(r.useMemo)((function(){return s.value}),[s]);return Object(g.jsxs)(Er,{title:a&&a.length?a:"Environment Variable",className:$s.a.item,children:[Object(g.jsx)(on,{name:"parameterSet.envVariables.".concat(t,".key"),required:!0,label:"Key",description:"The key name for this environment variable"}),Object(g.jsx)(on,{name:"parameterSet.envVariables.".concat(t,".value"),required:!0,label:"Value",description:"A value for this environment variable"}),Object(g.jsx)(k.a,{size:"sm",onClick:function(){return n.remove(t)},children:"Remove"})]},"envVariables.".concat(t))},Ka=function(){var e,t,n=null!==(e=null===(t=Object(K.j)().values.parameterSet)||void 0===t?void 0:t.envVariables)&&void 0!==e?e:[];return Object(g.jsx)(K.c,{name:"parameterSet.envVariables",render:function(e){return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:$s.a["array-group"],children:n.map((function(t,n){return Object(g.jsx)(Wa,{index:n,arrayHelpers:e})}))}),Object(g.jsx)(k.a,{onClick:function(){return e.push({key:"",value:""})},size:"sm",children:"+ Add"})]})}})},Ya=function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"Environment Variables"}),Object(g.jsx)(Ka,{})]})},Ga=function(){var e,t,n=null!==(e=null===(t=zs().job.parameterSet)||void 0===t?void 0:t.envVariables)&&void 0!==e?e:[];return Object(g.jsx)("div",{children:n.map((function(e){return Object(g.jsx)(Ls,{field:"".concat(e.key," : ").concat(e.value)},"env-variables-summary-".concat(e.key))}))})},Xa=Li.d().shape({parameterSet:Li.d({envVariables:Li.a(Li.d({key:Li.e().min(1).required("A key name is required for this environment variable"),value:Li.e().required("A value is required for this environment variable")}))})}),Za={id:"envVariables",name:"Environment Variables",render:Object(g.jsx)(Ya,{}),summary:Object(g.jsx)(Ga,{}),validationSchema:Xa,generateInitialValues:function(e){var t;return{parameterSet:{envVariables:null===(t=e.job.parameterSet)||void 0===t?void 0:t.envVariables}}}},$a=n(192),ec=n.n($a),tc=function(e){var t,n,i=(null!==(t=null===(n=e.parameterSet)||void 0===n?void 0:n.schedulerOptions)&&void 0!==t?t:[]).find((function(e){var t;return null===(t=e.arg)||void 0===t?void 0:t.includes("--tapis-profile")}));if(i){var r,s=null===(r=i.arg)||void 0===r?void 0:r.split(" ");if(s&&s.length>=2)return s[1]}},nc=function(){var e=zs().schedulerProfiles,t=Object(K.j)(),n=t.values,i=t.setValues,s=Object(r.useCallback)((function(e){var t,r,s=null!==(t=null===(r=n.parameterSet)||void 0===r?void 0:r.schedulerOptions)&&void 0!==t?t:[];i({parameterSet:{schedulerOptions:[e].concat(Object(C.a)(s.filter((function(e){var t;return!(null===(t=e.arg)||void 0===t?void 0:t.includes("--tapis-profile"))}))))}})}),[n,i]),a=Object(r.useMemo)((function(){return tc(n)}),[n]);return Object(g.jsxs)("div",{className:$s.a.array,children:[Object(g.jsx)("h3",{children:"Scheduler Profiles"}),e.map((function(e){var t=e.name,n=e.description,i=e.hiddenOptions,r=e.moduleLoads,c=e.owner,o=e.tenant;return Object(g.jsxs)(Er,{className:$s.a["array-group"],title:"".concat(t," ").concat(t===a?"(selected)":""),children:[Object(g.jsxs)("div",{className:ec.a["scheduler-option"],children:[Object(g.jsx)("div",{children:n}),Object(g.jsx)(ft,{data:{moduleLoads:r,hiddenOptions:i,owner:c,tenant:o},className:ec.a["scheduler-option-list"]})]}),Object(g.jsx)(k.a,{size:"sm",onClick:function(){return s({name:"".concat(t," Scheduler Profile"),description:n,include:!0,arg:"--tapis-profile ".concat(t)})},disabled:t===a,children:"Use This Profile"})]},"scheduler-profiles-".concat(t))}))]})},ic=function(){var e=zs().app,t=Object(K.i)("parameterSet.schedulerOptions"),n=Object(l.a)(t,1)[0],i=Object(r.useMemo)((function(){var e;return null!==(e=n.value)&&void 0!==e?e:[]}),[n]),s=Object(r.useMemo)((function(){var t,n,i;return null!==(t=null===(n=e.jobAttributes)||void 0===n||null===(i=n.parameterSet)||void 0===i?void 0:i.schedulerOptions)&&void 0!==t?t:[]}),[e]);return Object(g.jsx)(K.c,{name:"parameterSet.schedulerOptions",render:function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:$s.a.array,children:[Object(g.jsx)("h3",{children:"Scheduler Arguments"}),Object(g.jsx)("div",{className:$s.a["array-group"],children:i.map((function(t,n){var i=t.name?Ts(t.name,s):void 0;return Object(g.jsx)(Ua,{index:n,arrayHelpers:e,name:"parameterSet.schedulerOptions.".concat(n),argType:"scheduler option",inputMode:i})}))}),Object(g.jsx)(k.a,{onClick:function(){return e.push({name:"",description:"",include:!0,arg:""})},size:"sm",children:"+ Add"})]}),Object(g.jsx)(nc,{})]})}})},rc=function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"Scheduler Options"}),Object(g.jsx)(ic,{})]})},sc=function(){var e,t,n,i=zs().job,r=null!==(e=null===(t=i.parameterSet)||void 0===t?void 0:t.schedulerOptions)&&void 0!==e?e:[];return Object(g.jsxs)("div",{children:[Object(g.jsx)(Ls,{field:"Scheduler Profile: ".concat(null!==(n=tc(i))&&void 0!==n?n:"none selected")},"scheduler-profile-summary"),Object(g.jsx)(Ls,{field:"Scheduler Args: ".concat(Ba(r))},"scheduler-args-summary")]})},ac=Li.d().shape({parameterSet:Li.d({scheduleOptions:za})}),cc={id:"schedulerOptions",name:"Scheduler Options",render:Object(g.jsx)(rc,{}),summary:Object(g.jsx)(sc,{}),validationSchema:ac,generateInitialValues:function(e){var t;return{parameterSet:{schedulerOptions:null===(t=e.job.parameterSet)||void 0===t?void 0:t.schedulerOptions}}}},oc=function(e){var t=e.values,n=e.name,i=e.label,r=e.description;return Object(g.jsx)(K.c,{name:n,render:function(e){return Object(g.jsx)(Er,{open:t.length>0,title:i,note:"".concat(t.length," items"),isCollapsable:!0,className:$s.a.array,children:Object(g.jsxs)(Nr,{label:i,required:!1,description:r,children:[Object(g.jsx)("div",{className:$s.a["array-group"],children:t.map((function(t,i){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(K.b,{name:"".concat(n,".").concat(i),children:function(t){var n=t.field;return Object(g.jsxs)(On.a,{children:[Object(g.jsx)(vt.a,Object(w.a)(Object(w.a)({},n),{},{bsSize:"sm"})),Object(g.jsx)(xn.a,{addonType:"append",children:Object(g.jsx)(k.a,{size:"sm",onClick:function(){return e.remove(i)},children:"Remove"})})]})}}),Object(g.jsx)(K.a,{name:"".concat(n,".").concat(i),className:"form-field__help",children:function(e){return Object(g.jsx)("div",{className:"".concat(rn.a["form-field__help"]," ").concat($s.a.description),children:e})}})]})}))}),Object(g.jsx)(k.a,{onClick:function(){return e.push("")},size:"sm",children:"+ Add"})]})})}})},lc=function(){var e,t,n,i,r,s,a=Object(K.j)().values,c=null!==(e=null===(t=a.parameterSet)||void 0===t||null===(n=t.archiveFilter)||void 0===n?void 0:n.includes)&&void 0!==e?e:[],o=null!==(i=null===(r=a.parameterSet)||void 0===r||null===(s=r.archiveFilter)||void 0===s?void 0:s.excludes)&&void 0!==i?i:[];return Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{children:"Archive Filters"}),Object(g.jsx)(oc,{name:"parameterSet.archiveFilter.includes",label:"Includes",description:"File patterns specified here will be included during job archiving",values:c}),Object(g.jsx)(oc,{name:"parameterSet.archiveFilter.excludes",label:"Excludes",description:"File patterns specified here will be excluded from job archiving",values:o}),Object(g.jsx)(vn,{name:"parameterSet.archiveFilter.includeLaunchFiles",label:"Include Launch Files",description:"If checked, launch files will be included during job archiving",required:!1})]})},uc=function(){var e=zs().systems,t=Object(K.j)().values,n=Object(r.useMemo)((function(){return t.archiveSystemId}),[t]);return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:$s.a.item,children:[Object(g.jsxs)(mn,{name:"archiveSystemId",label:"Archive System ID",description:"If selected, this system ID will be used for job archiving instead of the execution system default",required:!1,children:[Object(g.jsx)("option",{value:void 0}),e.map((function(e){return Object(g.jsx)("option",{value:e.id,children:e.id},"archive-system-select-".concat(e.id))}))]}),Object(g.jsx)(Sr,{allowSystemChange:!1,systemId:n,disabled:!n,name:"archiveSystemDir",label:"Archive System Directory",description:"The directory on the selected system in which to place archived files",required:!1,files:!1,dirs:!0}),Object(g.jsx)(vn,{name:"archiveOnAppError",label:"Archive On App Error",description:"If checked, the job will be archived even if there is an execution error",required:!1})]})})},dc=function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"Archive Options"}),Object(g.jsx)(uc,{}),Object(g.jsx)(lc,{})]})},jc=function(){var e,t,n,i,r,s,a=zs().job,c=null!==(e=null===(t=a.parameterSet)||void 0===t||null===(n=t.archiveFilter)||void 0===n?void 0:n.includes)&&void 0!==e?e:[],o=null!==(i=null===(r=a.parameterSet)||void 0===r||null===(s=r.archiveFilter)||void 0===s?void 0:s.excludes)&&void 0!==i?i:[],l=a.archiveSystemId,u=a.archiveSystemDir,d=a.archiveOnAppError;return Object(g.jsxs)("div",{children:[Object(g.jsx)(Ls,{field:"Archive System ID: ".concat(null!==l&&void 0!==l?l:"default")},"archive-system-id-summary"),Object(g.jsx)(Ls,{field:"Archive System Directory: ".concat(null!==u&&void 0!==u?u:"default")},"archive-system-dir-summary"),Object(g.jsx)(Ls,{field:"Archive On App Error: ".concat(d)},"archive-on-app-error-summary"),Object(g.jsx)(Ls,{field:"Includes: ".concat(c.length)},"archive-filter-includes-summary"),Object(g.jsx)(Ls,{field:"Excludes: ".concat(o.length)},"archive-filter-excludes-summary")]})},bc=Li.d().shape({archiveOnAppError:Li.b(),archiveSystemId:Li.e(),archiveSystemDir:Li.e(),parameterSet:Li.d({archiveFilter:Li.d({includes:Li.a(Li.e().min(1).required("A pattern must be specified for this include")),excludes:Li.a(Li.e().min(1).required("A pattern must be specified for this exclude")),includeLaunchFiles:Li.b()})})}),mc=function(e){return!!e.name&&!!e.appId&&!!e.appVersion},pc=function(){var e,t,n,i,s=zs(),a=s.job,c=s.app,o=s.systems,l=Gs(a,c,o)===ei.Complete&&mc(a)&&Cs(c,null!==(e=a.fileInputs)&&void 0!==e?e:[])&&Ms(c,null!==(t=a.fileInputArrays)&&void 0!==t?t:[]),u=xs(c.id,c.version),d=u.isLoading,j=u.error,b=u.isSuccess,m=u.submit,p=u.data,h=Object(r.useCallback)((function(){m(a)}),[m,a]),f=l?b?"Successfully submitted job ".concat(null!==(n=null===p||void 0===p||null===(i=p.result)||void 0===i?void 0:i.uuid)&&void 0!==n?n:""):"The job is ready for submission":void 0;return Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"Job Submission"}),Object(g.jsxs)("div",{className:$s.a.array,children:[Object(g.jsx)(Ls,{field:f,error:"All required fields must be completed before the job can be submitted"}),Object(g.jsx)(H,{isLoading:d,error:j,success:b?" ":"",reverse:!0,children:Object(g.jsx)(k.a,{color:"primary",disabled:d||!l||b,onClick:h,children:"Submit Job"})})]}),Object(g.jsx)("div",{children:"This is a preview of the json job submission data. You may copy it for future reference."}),Object(g.jsx)(zr,{json:a})]})},hc=function(){var e,t,n=zs(),i=n.app,r=n.job,s=n.systems,a=Gs(r,i,s)&&mc(r)&&Cs(i,null!==(e=r.fileInputs)&&void 0!==e?e:[])&&Ms(i,null!==(t=r.fileInputArrays)&&void 0!==t?t:[]);return Object(g.jsx)("div",{children:Object(g.jsx)(Ls,{field:a?"The job is ready for submission":void 0,error:"All required fields must be completed before the job can be submitted"},"job-submit-summary")})},fc=[Hs,ua,Sa,Da,Qa,Za,cc,{id:"archiving",name:"Archiving",render:Object(g.jsx)(dc,{}),summary:Object(g.jsx)(jc,{}),validationSchema:bc,generateInitialValues:function(e){var t,n=e.job;return{archiveOnAppError:n.archiveOnAppError,archiveSystemId:n.archiveSystemId,archiveSystemDir:n.archiveSystemDir,parameterSet:{archiveFilter:null===(t=n.parameterSet)||void 0===t?void 0:t.archiveFilter}}}},{id:"jobSubmit",name:"Job Submission",render:Object(g.jsx)(pc,{}),summary:Object(g.jsx)(hc,{}),validationSchema:{},generateInitialValues:function(){return{}}}],vc=["generateInitialValues","validateThunk"],Oc={select:"allAttributes",listType:hi.ListTypeEnum.All},xc=function(e){var t=e.jobSteps,n=zs(),i=n.add,s=n.job,a=n.app,c=n.systems,o=Object(r.useCallback)((function(e){e.jobType===gn.Apps.JobTypeEnum.Fork&&(e.execSystemLogicalQueue=void 0),e.isMpi?e.cmdPrefix=void 0:e.mpiCmd=void 0,e.parameterSet&&(e.parameterSet=Object(w.a)(Object(w.a)({},s.parameterSet),e.parameterSet)),i(e)}),[i,s]),l=Object(r.useMemo)((function(){return t.map((function(e){var t=e.generateInitialValues,n=e.validateThunk,i=Object(L.a)(e,vc);return Object(w.a)({initialValues:t({job:s,app:a,systems:c}),validate:n?n({job:s,app:a,systems:c}):void 0},i)}))}),[a,s,c,t]);return Object(g.jsx)(ne,{steps:l,memo:"".concat(a.id).concat(a.version),formSubmit:o})},yc=function(e){var t=e.appId,n=e.appVersion,i=ls({appId:t,appVersion:n},{refetchOnWindowFocus:!1}),s=i.data,a=i.isLoading,c=i.error,o=vi(Oc,{refetchOnWindowFocus:!1}),l=o.data,u=o.isLoading,d=o.error,j=gi({refetchOnWindowFocus:!1}),b=j.data,m=j.isLoading,p=j.error,h=null===s||void 0===s?void 0:s.result,f=Object(r.useMemo)((function(){var e;return null!==(e=null===l||void 0===l?void 0:l.result)&&void 0!==e?e:[]}),[l]),v=Object(r.useMemo)((function(){var e;return null!==(e=null===b||void 0===b?void 0:b.result)&&void 0!==e?e:[]}),[b]),O=Object(r.useMemo)((function(){return ws({app:h,systems:f})}),[h,f]);return Object(g.jsx)(V,{isLoading:a||u||m,error:c||d||p,children:h&&Object(g.jsx)(Rs,{value:{app:h,systems:f,defaultValues:O,schedulerProfiles:v},children:Object(g.jsx)(xc,{jobSteps:fc})})})},gc=function(e){var t=e.appId,n=e.appVersion,i=Object(g.jsx)(Tr,{type:"sub-header",children:"Job Launcher"}),r=Object(g.jsx)("div",{style:{flex:1},children:Object(g.jsx)(yc,{appId:t,appVersion:n})});return Object(g.jsx)(kr,{top:i,right:r})},_c=s.a.memo(gc),Sc=function(){var e=Object(Ht.i)().path;return Object(g.jsxs)(Ht.d,{children:[Object(g.jsx)(Ht.b,{path:"".concat(e),exact:!0,children:Object(g.jsx)(ct,{type:"info",children:"Select an app from the list."})}),Object(g.jsx)(Ht.b,{path:"".concat(e,"/:appId/:appVersion"),render:function(e){var t=e.match.params,n=t.appVersion,i=t.appId;return Object(g.jsx)(_c,{appId:i,appVersion:n})}})]})},Nc=function(){var e=Object(g.jsx)(Tr,{children:Object(g.jsx)("div",{children:"Apps"})}),t=Object(g.jsx)(Pr,{children:Object(g.jsx)(ds,{})}),n=Object(g.jsx)(wr,{children:Object(g.jsx)(Sc,{})});return Object(g.jsx)(kr,{top:e,left:t,right:n})},Cc=function(){var e=is(),t=e.login,n=e.isLoading,i=e.error,r=O().accessToken,s=Li.d({username:Li.e().required(),password:Li.e().required()});return Object(g.jsxs)("div",{children:[Object(g.jsx)(K.e,{initialValues:{username:"",password:""},validationSchema:s,onSubmit:function(e){var n=e.username,i=e.password;return t(n,i)},children:Object(g.jsxs)(K.d,{children:[Object(g.jsx)(on,{name:"username",label:"Username",required:!0,description:"Your TAPIS username"}),Object(g.jsx)(on,{name:"password",label:"Password",required:!0,description:"Your TAPIS password",type:"password"}),Object(g.jsx)(H,{isLoading:n,error:i,success:r&&"Successfully logged in",children:Object(g.jsx)(k.a,{type:"submit",className:"btn btn-primary",disabled:n||null!=r,children:"Log In"})})]})}),Object(g.jsx)(k.a,{disabled:!1,onClick:function(){window.location.replace("https://scoped.tapis.io/v3/oauth2/authorize?client_id=scoped&redirect_uri=https%3A%2F%2Fjaeestee.github.io%2Fscoped-tapis-ui%2F%23%2Foauth2&response_type=token")},className:"btn btn-primary",children:"Log In with OAuth2"})]})},Ic=function(){var e=O().setAccessToken,t=window.location.href,n=t.substring(t.indexOf("access_token=")+13,t.lastIndexOf("&state"));return Object(r.useEffect)((function(){console.log(n),e({access_token:n,expires_at:"t",expires_in:14400}),window.location.replace("/tapis-ui/#/")}),[]),Object(g.jsx)("div",{children:t.substring(t.indexOf("access_token=")+13,t.lastIndexOf("&state"))})},kc=function(){var e=O().accessToken,t=(Object(Ht.h)().state||{from:{pathname:"/"}}).from;return(null===e||void 0===e?void 0:e.access_token)?Object(g.jsx)(Ht.a,{to:t}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(we,{children:"Login"}),Object(g.jsx)("div",{className:"container",children:Object(g.jsx)(Cc,{})})]})},Ac=n(1040),Mc=n(1041),Tc=n(1042),Pc=n(101),wc=n.n(Pc),Lc=(n(980),function(e){var t=e.icon,n=e.link,i=e.counter,r=e.name,s=e.text,a=e.loading;return Object(g.jsxs)(Ue.a,{className:wc.a.card,children:[Object(g.jsx)(Re.a,{children:Object(g.jsxs)("div",{className:wc.a["card-header"],children:[Object(g.jsx)("div",{children:Object(g.jsx)(Je,{name:t,className:"dashboard__card-icon"})}),Object(g.jsx)("div",{children:r})]})}),Object(g.jsxs)(Ve.a,{children:[Object(g.jsx)(Ac.a,{tag:"h5",children:a?Object(g.jsx)(ae,{placement:"inline"}):Object(g.jsx)("div",{children:i})}),Object(g.jsx)(Mc.a,{children:s})]}),Object(g.jsxs)(Tc.a,{className:wc.a["card-footer"],children:[Object(g.jsxs)(o.b,{to:n,children:["Go to ",r]}),Object(g.jsx)(Je,{name:"push-right"})]})]})}),Fc=function(){var e,t,n,i,r,s,a,c,l,u=O(),d=u.accessToken,j=u.claims,b=vi({listType:hi.ListTypeEnum.All}),m=vs({}),p=os({select:"jobAttributes,version",listType:hi.ListTypeEnum.All});return Object(g.jsxs)("div",{children:[Object(g.jsxs)(we,{className:"dashboard__section-header",children:["Dashboard for ",null===(e=j["tapis/tenant_id"])||void 0===e?void 0:e.toUpperCase()]}),Object(g.jsx)("div",{className:wc.a.cards,children:d?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(o.b,{to:"/systems",style:{color:"black",textDecoration:"none"},children:Object(g.jsx)(Lc,{icon:"data-files",name:"Systems",text:"View TAPIS systems",link:"/systems",counter:"".concat(null===b||void 0===b||null===(t=b.data)||void 0===t||null===(n=t.result)||void 0===n?void 0:n.length," systems"),loading:null===b||void 0===b?void 0:b.isLoading})}),Object(g.jsx)(o.b,{to:"/files",style:{color:"black",textDecoration:"none"},children:Object(g.jsx)(Lc,{icon:"folder",name:"Files",text:"Access files available on TAPIS systems",link:"/files",counter:"Files available on ".concat(null===b||void 0===b||null===(i=b.data)||void 0===i||null===(r=i.result)||void 0===r?void 0:r.length," systems"),loading:null===b||void 0===b?void 0:b.isLoading})}),Object(g.jsx)(o.b,{to:"/apps",style:{color:"black",textDecoration:"none"},children:Object(g.jsx)(Lc,{icon:"applications",name:"Applications",text:"View SCOPED applications and launch jobs",link:"/apps",counter:"".concat(null===p||void 0===p||null===(s=p.data)||void 0===s||null===(a=s.result)||void 0===a?void 0:a.length," apps"),loading:null===p||void 0===p?void 0:p.isLoading})}),Object(g.jsx)(o.b,{to:"/jobs",style:{color:"black",textDecoration:"none"},children:Object(g.jsx)(Lc,{icon:"jobs",name:"Jobs",text:"View status and details for previously launched SCOPED jobs",link:"/jobs",counter:"".concat(null===m||void 0===m||null===(c=m.data)||void 0===c||null===(l=c.result)||void 0===l?void 0:l.length," jobs"),loading:null===m||void 0===m?void 0:m.isLoading})})]}):Object(g.jsx)(o.b,{to:"/login",style:{color:"black",textDecoration:"none"},children:Object(g.jsxs)(Ue.a,{children:[Object(g.jsx)(Re.a,{children:Object(g.jsxs)("div",{className:wc.a["card-header"],children:[Object(g.jsx)("div",{children:Object(g.jsx)(Je,{name:"user",className:"dashboard__card-icon"})}),Object(g.jsx)("div",{children:"You are not logged in"})]})}),Object(g.jsx)(Ve.a,{children:Object(g.jsx)(Ac.a,{children:"Please log in to use SCOPED"})}),Object(g.jsxs)(Tc.a,{className:wc.a["card-footer"],children:[Object(g.jsx)(o.b,{to:"/login",children:"Proceed to login"}),Object(g.jsx)(Je,{name:"push-right"})]})]})})})]})},Ec=function(){var e,t=vs(),n=t.data,i=t.isLoading,r=t.error,s=Object(Ht.i)().url,a=null!==(e=null===n||void 0===n?void 0:n.result)&&void 0!==e?e:[];return Object(g.jsx)(V,{isLoading:i,error:r,children:Object(g.jsx)($r,{children:a.length?a.map((function(e){return Object(g.jsx)(Zr,{to:"".concat(s,"/").concat(e.uuid),icon:"jobs",children:"".concat(e.name," - (").concat(e.status,")")},e.uuid)})):Object(g.jsx)("i",{children:"No jobs found"})})})},qc=n(193),Dc=n.n(qc),Uc=["text","icon","onClick","disabled"],Rc=function(e){var t=e.text,n=e.icon,i=e.onClick,r=e.disabled,s=void 0===r||r,a=Object(L.a)(e,Uc);return Object(g.jsx)("div",{children:Object(g.jsxs)(k.a,Object(w.a)(Object(w.a)({disabled:s,onClick:i,className:Dc.a["toolbar-btn"]},a),{},{children:[Object(g.jsx)(Je,{name:n}),Object(g.jsxs)("span",{children:[" ",t]})]}))})},zc=function(e){var t=e.jobUuid,n=Object(r.useState)(void 0),i=Object(l.a)(n,2),s=i[0],a=i[1],c=Object(Ht.h)().pathname,o=ys(),u=o.isLoading,d=o.isError,j=o.isSuccess,b=o.error,m=o.cancel,p=Os(t).data,h=null===p||void 0===p?void 0:p.result,f=Object(Ht.g)();return Object(g.jsx)("div",{id:"file-operation-toolbar",children:c&&Object(g.jsxs)("div",{className:Dc.a["toolbar-wrapper"],children:[Object(g.jsx)(Rc,{text:"See Files",icon:"copy",disabled:!1,onClick:function(){if(h){var e="/files/".concat(h.execSystemId).concat(h.execSystemOutputDir);f.push(e)}},"aria-label":"createSystem"}),Object(g.jsx)(Rc,{text:"Cancel Job",icon:"trash",disabled:!1,onClick:function(){return a("ConfirmModal")},"aria-label":"createSystem"}),"ConfirmModal"===s&&Object(g.jsx)(ie,{toggle:function(){a(void 0)},onConfirm:function(){m({jobUuid:t})},isLoading:u,isError:d,isSuccess:j,error:b})]})})},Vc=function(e){var t=e.jobUuid,n=Os(t),i=n.data,r=(n.isLoading,n.error,Object(g.jsxs)(Tr,{type:"sub-header",children:["Job Details",i&&Object(g.jsx)(zc,{jobUuid:t})]})),s=Object(g.jsx)("div",{style:{flex:1},children:Object(g.jsx)(gs,{jobUuid:t})});return Object(g.jsx)(kr,{top:r,right:s})},Bc=function(){var e=Object(Ht.i)().path;return Object(g.jsxs)(Ht.d,{children:[Object(g.jsx)(Ht.b,{path:"".concat(e),exact:!0,children:Object(g.jsx)(ct,{type:"info",children:"Select a job from the list."})}),Object(g.jsx)(Ht.b,{path:"".concat(e,"/:jobUuid"),render:function(e){var t=e.match.params.jobUuid;return Object(g.jsx)(Vc,{jobUuid:t})}})]})},Jc=function(){var e=Object(g.jsx)(Tr,{children:Object(g.jsx)("div",{children:"Jobs"})}),t=Object(g.jsx)(Pr,{children:Object(g.jsx)(Ec,{})}),n=Object(g.jsx)(wr,{children:Object(g.jsx)(Bc,{})});return Object(g.jsx)(kr,{top:e,left:t,right:n})},Hc=function(){var e,t=Object(Ht.i)().url,n=vi(),i=n.data,r=n.isLoading,s=n.error,a=null!==(e=null===i||void 0===i?void 0:i.result)&&void 0!==e?e:[];return Object(g.jsx)(V,{isLoading:r,error:s,children:Object(g.jsx)($r,{children:a.length?a.map((function(e){return Object(g.jsx)(Zr,{to:"".concat(t,"/").concat(e.id),icon:"data-files",children:"".concat(e.id," (").concat(e.host,")")},e.id)})):Object(g.jsx)("i",{children:"No systems found"})})})},Qc=n(194),Wc=n.n(Qc),Kc=n(39),Yc=n.n(Kc),Gc=function(e){var t=e.item,n=e.index,i=e.remove;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(Er,{open:!t,title:"Batch Logical Queue",className:Yc.a.item,children:[Object(g.jsx)(on,{name:"batchLogicalQueues.".concat(n,".name"),label:"Name",required:!0,description:"Name","aria-label":"Input"}),Object(g.jsx)(on,{name:"batchLogicalQueues.".concat(n,".hpcQueueName"),label:"HPC Queue Name",required:!0,description:"HPC queue name","aria-label":"Input"}),Object(g.jsx)(on,{name:"batchLogicalQueues.".concat(n,".maxJobs"),label:"Max Jobs",type:"number",required:!1,description:"Maximum number of jobs","aria-label":"Input"}),Object(g.jsx)(on,{name:"batchLogicalQueues.".concat(n,".maxJobsPerUser"),label:"Max Jobs Per User",type:"number",required:!1,description:"Maximum number of jobs per user","aria-label":"Input"}),Object(g.jsx)(on,{name:"batchLogicalQueues.".concat(n,".minNodeCount"),label:"Min Node Count",type:"number",required:!1,description:"Minimum number of nodes","aria-label":"Input"}),Object(g.jsx)(on,{name:"batchLogicalQueues.".concat(n,".maxNodeCount"),label:"Max Node Count",type:"number",required:!1,description:"Maximum number of nodes","aria-label":"Input"}),Object(g.jsx)(on,{name:"batchLogicalQueues.".concat(n,".minCoresPerNode"),label:"Min Cores Per Node",type:"number",required:!1,description:"Minimum number of cores per node","aria-label":"Input"}),Object(g.jsx)(on,{name:"batchLogicalQueues.".concat(n,".maxCoresPerNode"),label:"Max Cores Per Node",type:"number",required:!1,description:"Maximum number of cores per node","aria-label":"Input"}),Object(g.jsx)(on,{name:"batchLogicalQueues.".concat(n,".minMemoryMB"),label:"Min Memory MB",type:"number",required:!1,description:"Minimum memory in MB","aria-label":"Input"}),Object(g.jsx)(on,{name:"batchLogicalQueues.".concat(n,".maxMemoryMB"),label:"Max Memory MB",type:"number",required:!1,description:"Maximum memory in MB","aria-label":"Input"}),Object(g.jsx)(on,{name:"batchLogicalQueues.".concat(n,".minMinutes"),label:"Min Minutes",type:"number",required:!1,description:"Minimum number of minutes","aria-label":"Input"}),Object(g.jsx)(on,{name:"batchLogicalQueues.".concat(n,".maxMinutes"),label:"Max Minutes",type:"number",required:!1,description:"Maximum number of minutes","aria-label":"Input"}),Object(g.jsx)(k.a,{onClick:function(){return i(n)},size:"sm",children:"Remove"})]})})},Xc=function(e){var t,n=e.arrayHelpers,i=Object(K.j)().values,r=null!==(t=null===i||void 0===i?void 0:i.batchLogicalQueues)&&void 0!==t?t:[];return Object(g.jsxs)(Er,{open:r.length>0,title:"Batch Logical Queues",note:"".concat(r.length," items"),className:Yc.a.array,children:[r.map((function(e,t){return Object(g.jsx)(Gc,{item:e,index:t,remove:n.remove},"batchLogicalQueues.".concat(t))})),Object(g.jsx)(k.a,{onClick:function(){return n.push({})},size:"sm",children:"+ Add Logical Queue"})]})},Zc=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(K.c,{name:"batchLogicalQueues",render:function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Xc,{arrayHelpers:e})})}})})},$c=Object.values(hi.SchedulerTypeEnum),eo=function(){var e=Object(K.j)().values,t=Object(r.useMemo)((function(){return e.canRunBatch}),[e]),n=Object(r.useMemo)((function(){return e.systemType===hi.SystemTypeEnum.Linux}),[e]);return Object(g.jsx)("div",{children:n?Object(g.jsxs)(Er,{title:"Batch Settings",className:Yc.a.array,children:[Object(g.jsx)(vn,{name:"canRunBatch",required:!1,label:"Can Run Batch",description:"Decides if the system can run batch"}),t?Object(g.jsxs)("div",{children:[Object(g.jsxs)(mn,{name:"batchScheduler",description:"Batch scheduler for the system",label:"Batch Scheduler",required:!1,"data-testid":"batchScheduler",children:[Object(g.jsx)("option",{disabled:!0,value:"",children:"Select a batch scheduler"}),$c.map((function(e){return Object(g.jsx)("option",{children:e})}))]}),Object(g.jsx)(on,{name:"batchSchedulerProfile",label:"Batch Scheduler Profile",required:!1,description:"Batch scheduler profile","aria-label":"Input"}),Object(g.jsx)(on,{name:"batchDefaultLogicalQueue",label:"Batch Default Logical Queue",required:!1,description:"Batch default logical queue","aria-label":"Input"}),Object(g.jsx)(Zc,{})]}):null]}):null})},to=function(){var e=Object(K.j)().values,t=Object(r.useMemo)((function(){return e.useProxy}),[e]);return Object(g.jsxs)(Er,{title:"Proxy Settings",className:Yc.a.array,children:[Object(g.jsx)(vn,{name:"useProxy",required:!1,label:"Use Proxy",description:"Decides if the system can use proxy"}),t?Object(g.jsxs)("div",{children:[Object(g.jsx)(on,{name:"proxyHost",label:"Proxy Host",required:!1,description:"Host of the proxy","aria-label":"Input"}),Object(g.jsx)(on,{name:"proxyPort",label:"Proxy Port",type:"number",required:!1,description:"Port of the proxy","aria-label":"Input"})]}):null]})},no=function(){var e=Object(K.j)().values,t=Object(r.useMemo)((function(){return e.isDtn}),[e]),n=Object(r.useMemo)((function(){return e.canExec}),[e]);return Object(g.jsx)("div",{children:n?null:Object(g.jsxs)(Er,{title:"DTN Settings",className:Yc.a.array,children:[Object(g.jsx)(vn,{name:"isDtn",required:!1,label:"Is DTN",description:"Decides if the system is a delay-tolerant network"}),t?Object(g.jsxs)("div",{children:[Object(g.jsx)(on,{name:"dtnSystemId",label:"DTN System ID",required:!1,description:"DTN system id","aria-label":"Input"}),Object(g.jsx)(on,{name:"dtnMountPoint",label:"DTN Mount Point",required:!1,description:"DTN mount point","aria-label":"Input"}),Object(g.jsx)(on,{name:"dtnMountSourcePath",label:"DTN Mount Source Path",required:!1,description:"DTN mount source path","aria-label":"Input"})]}):null]})})},io=function(){return Object(g.jsxs)(Er,{title:"CMD Settings",className:Yc.a.array,children:[Object(g.jsx)(vn,{name:"enableCmdPrefix",required:!1,label:"Enable CMD Prefix",description:"Enables the cmd prefix"}),Object(g.jsx)(on,{name:"mpiCmd",label:"MPI CMD",required:!1,description:"Mpi cmd","aria-label":"Input"})]})},ro=function(e){var t=e.item,n=e.index,i=e.remove;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(Er,{open:!t,title:"Tag",className:Yc.a.item,children:[Object(g.jsx)(on,{name:"tags[".concat(n,"]"),label:"Tag",required:!0,description:"Tag for the system"}),Object(g.jsx)(k.a,{onClick:function(){return i(n)},size:"sm",children:"Remove"})]})})},so=function(e){var t,n=e.arrayHelpers,i=Object(K.j)().values,r=null!==(t=null===i||void 0===i?void 0:i.tags)&&void 0!==t?t:[];return Object(g.jsxs)(Er,{open:r.length>0,title:"Tags",note:"".concat(r.length," items"),className:Yc.a.array,children:[r.map((function(e,t){return Object(g.jsx)(ro,{item:e,index:t,remove:n.remove},"tags[".concat(t,"]"))})),Object(g.jsx)(k.a,{onClick:function(){return n.push({})},size:"sm",children:"+ Add Tag"})]})},ao=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(K.c,{name:"tags",render:function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(so,{arrayHelpers:e})})}})})},co=function(e){var t=e.item,n=e.index,i=e.remove;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(Er,{open:!t,title:"Job Environment Variable",className:Yc.a.item,children:[Object(g.jsx)(on,{name:"jobEnvVariables.".concat(n,".key"),label:"Key",required:!0,description:"Key","aria-label":"Input"}),Object(g.jsx)(on,{name:"jobEnvVariables.".concat(n,".value"),label:"Value",required:!1,description:"Value","aria-label":"Input"}),Object(g.jsx)(on,{name:"jobEnvVariables.".concat(n,".description"),label:"Description",required:!1,description:"Description","aria-label":"Input"}),Object(g.jsx)(k.a,{onClick:function(){return i(n)},size:"sm",children:"Remove"})]})})},oo=function(e){var t,n=e.arrayHelpers,i=Object(K.j)().values,r=null!==(t=null===i||void 0===i?void 0:i.jobEnvVariables)&&void 0!==t?t:[];return Object(g.jsxs)(Er,{open:r.length>0,title:"Job Environment Variables",note:"".concat(r.length," items"),className:Yc.a.array,children:[r.map((function(e,t){return Object(g.jsx)(co,{item:e,index:t,remove:n.remove},"jobEnvVariables.".concat(t))})),Object(g.jsx)(k.a,{onClick:function(){return n.push({})},size:"sm",children:"+ Add Job Environment Variable"})]})},lo=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(K.c,{name:"jobEnvVariables",render:function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(oo,{arrayHelpers:e})})}})})},uo=Object.values(hi.CategoryEnum),jo=Object.values(hi.DatatypeEnum),bo=function(e){var t=e.item,n=e.index,i=e.remove;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(Er,{open:!t,title:"Job Capability",className:Yc.a.item,children:[Object(g.jsxs)(mn,{name:"jobCapabilities.".concat(n,".category"),description:"Category",label:"Category",required:!0,"data-testid":"category",children:[Object(g.jsx)("option",{value:"",children:"Select a category"}),uo.map((function(e){return Object(g.jsx)("option",{children:e})}))]}),Object(g.jsx)(on,{name:"jobCapabilities.".concat(n,".name"),label:"Name",required:!0,description:"Name","aria-label":"Input"}),Object(g.jsxs)(mn,{name:"jobCapabilities.".concat(n,".datatype"),description:"Datatype",label:"Datatype",required:!0,"data-testid":"datatype",children:[Object(g.jsx)("option",{value:"",children:"Select a datatype"}),jo.map((function(e){return Object(g.jsx)("option",{children:e})}))]}),Object(g.jsx)(on,{name:"jobCapabilities.".concat(n,".precedence"),label:"Precedence",type:"number",required:!1,description:"Precedence","aria-label":"Input"}),Object(g.jsx)(on,{name:"jobCapabilities.".concat(n,".value"),label:"Value",required:!1,description:"Value","aria-label":"Input"}),Object(g.jsx)(k.a,{onClick:function(){return i(n)},size:"sm",children:"Remove"})]})})},mo=function(e){var t,n=e.arrayHelpers,i=Object(K.j)().values,r=null!==(t=null===i||void 0===i?void 0:i.jobCapabilities)&&void 0!==t?t:[];return Object(g.jsxs)(Er,{open:r.length>0,title:"Job Capabilities",note:"".concat(r.length," items"),className:Yc.a.array,children:[r.map((function(e,t){return Object(g.jsx)(bo,{item:e,index:t,remove:n.remove},"jobCapabilities.".concat(t))})),Object(g.jsx)(k.a,{onClick:function(){return n.push({})},size:"sm",children:"+ Add Job Capability"})]})},po=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(K.c,{name:"jobCapabilities",render:function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(mo,{arrayHelpers:e})})}})})},ho=function(){return Object(g.jsxs)(Er,{title:"Job Settings",className:Yc.a.array,children:[Object(g.jsx)(on,{name:"jobWorkingDir",label:"Job Working Directory",required:!1,description:"Job working directory","aria-label":"Input"}),Object(g.jsx)(on,{name:"jobMaxJobs",label:"Job Max Jobs",type:"number",required:!1,description:"Job max jobs","aria-label":"Input"}),Object(g.jsx)(on,{name:"jobMaxJobsPerUser",label:"Job Max Jobs Per User",type:"number",required:!1,description:"Job max jobs per user","aria-label":"Input"}),Object(g.jsx)(lo,{}),Object(g.jsx)(po,{})]})},fo=Object.values(hi.RuntimeTypeEnum),vo=function(e){var t=e.simplified,n=Object(K.j)().values,i=Object(r.useMemo)((function(){return n.systemType===hi.SystemTypeEnum.S3}),[n]),s=n.jobRuntimes;return t?Object(g.jsxs)(Er,{title:"Advanced Settings",className:Yc.a.item,open:!0,children:[Object(g.jsx)(on,{name:"rootDir",label:"Root Directory",required:!1,description:"Root directory","aria-label":"Input"}),Object(g.jsxs)(mn,{name:"jobRuntimes",description:"The job runtime type for the system",label:"Runtime Type",required:!1,"data-testid":"jobRuntimes",children:[Object(g.jsx)("option",{disabled:!0,value:"",children:"Select a job runtime"}),fo.map((function(e){return Object(g.jsx)("option",{children:e})}))]}),Object(g.jsx)(on,{name:"version",label:"".concat(s," Version"),required:!1,description:"Version of ".concat(s),"aria-label":"Input",disabled:!0}),Object(g.jsx)(on,{name:"effectiveUserId",label:"Effective User ID",required:!1,description:"Effective user id","aria-label":"Input"}),i?Object(g.jsx)(on,{name:"bucketName",label:"Bucket Name",required:!1,description:"Bucket name","aria-label":"Input"}):null,Object(g.jsx)(ho,{}),Object(g.jsx)(eo,{}),Object(g.jsx)(to,{}),Object(g.jsx)(no,{}),Object(g.jsx)(io,{}),Object(g.jsx)(ao,{})]}):null},Oo=Object.values(hi.SystemTypeEnum),xo=Object.values(hi.AuthnEnum),yo=function(e){var t=e.toggle,n=Object(y.b)(),i=Object(r.useCallback)((function(){n.invalidateQueries(pi.list)}),[n]),s=Si(),a=s.makeNewSystem,c=s.isLoading,o=s.error,u=s.isSuccess,d=s.reset;Object(r.useEffect)((function(){d()}),[d]);var j=Object(r.useState)(!1),b=Object(l.a)(j,2),m=b[0],p=b[1],h=Object(r.useCallback)((function(){p(!m)}),[p,m]),f=Li.d({sysname:Li.e().min(1).max(80,"System name should not be longer than 80 characters").matches(/^[a-zA-Z0-9_.-]+$/,"Must contain only alphanumeric characters and the following: '.', '_', '-'").required("System name is a required field"),description:Li.e().max(2048,"Description schould not be longer than 2048 characters"),host:Li.e().min(1).max(256,"Host name should not be longer than 256 characters").matches(/^[a-zA-Z0-9_.-]+$/,"Must contain only alphanumeric characters and the following: '.', '_', '-'").required("Host name is a required field"),rootDir:Li.e().min(1).max(4096,"Root Directory should not be longer than 4096 characters"),jobWorkingDir:Li.e().min(1).max(4096,"Job Working Directory should not be longer than 4096 characters"),effectiveUserId:Li.e().max(60,"Effective User ID should not be longer than 60 characters"),batchSchedulerProfile:Li.e().max(80,"Batch Scheduler Profile should not be longer than 80 characters"),batchDefaultLogicalQueue:Li.e().max(128,"Batch Default Logical Queue should not be longer than 128 characters"),proxyHost:Li.e().max(256,"Proxy Host should not be longer than 256 characters"),dtnSystemId:Li.e().max(80,"DTN System ID should not be longer than 80 characters"),mpiCmd:Li.e().max(126,"mpiCmd should not be longer than 126 characters")}),v={sysname:"",description:void 0,systemType:hi.SystemTypeEnum.Linux,host:"stampede2.tacc.utexas.edu",defaultAuthnMethod:hi.AuthnEnum.Password,canExec:!0,rootDir:"/",jobRuntimes:hi.RuntimeTypeEnum.Singularity,version:void 0,effectiveUserId:void 0,bucketName:void 0,canRunBatch:!0,batchScheduler:hi.SchedulerTypeEnum.Slurm,batchSchedulerProfile:"tacc",batchDefaultLogicalQueue:"tapisNormal",batchLogicalQueues:[{name:"tapisNormal",hpcQueueName:"normal",maxJobs:50,maxJobsPerUser:10,minNodeCount:1,maxNodeCount:16,minCoresPerNode:1,maxCoresPerNode:68,minMemoryMB:1,maxMemoryMB:16384,minMinutes:1,maxMinutes:60}],useProxy:!1,proxyHost:void 0,proxyPort:0,isDtn:!1,dtnSystemId:void 0,dtnMountPoint:void 0,dtnMountSourcePath:void 0,enableCmdPrefix:!1,mpiCmd:void 0,jobWorkingDir:"HOST_EVAL($SCRATCH)",jobMaxJobs:void 0,jobMaxJobsPerUser:void 0,jobCapabilities:[],jobEnvVariables:[],tags:[]};return Object(g.jsx)(z,{toggle:t,title:"Create New System",body:Object(g.jsx)("div",{className:Yc.a["modal-settings"],children:Object(g.jsx)(K.e,{initialValues:v,validationSchema:f,onSubmit:function(e){var t=e.sysname,n=e.description,r=e.systemType,s=e.host,c=e.defaultAuthnMethod,o=e.canExec,l=e.rootDir,u=e.jobWorkingDir,d=e.jobRuntimes,j=e.version,b=e.effectiveUserId,m=e.bucketName,p=e.canRunBatch,h=e.batchScheduler,f=e.batchSchedulerProfile,v=e.batchDefaultLogicalQueue,O=e.batchLogicalQueues,x=e.useProxy,y=e.proxyHost,g=e.proxyPort,_=e.isDtn,S=e.dtnSystemId,N=e.dtnMountPoint,C=e.dtnMountSourcePath,I=e.enableCmdPrefix,k=e.mpiCmd,A=e.jobMaxJobs,M=e.jobMaxJobsPerUser,T=e.jobCapabilities,P=e.jobEnvVariables,w=e.tags;a({id:t,description:n,systemType:r,host:s,defaultAuthnMethod:c,canExec:o,rootDir:l,jobWorkingDir:u,jobRuntimes:[{runtimeType:d,version:j}],effectiveUserId:b,bucketName:m,canRunBatch:p,batchScheduler:h,batchSchedulerProfile:f,batchDefaultLogicalQueue:v,batchLogicalQueues:O,useProxy:x,proxyHost:y,proxyPort:g,isDtn:_,dtnSystemId:S,dtnMountPoint:N,dtnMountSourcePath:C,enableCmdPrefix:I,mpiCmd:k,jobMaxJobs:A,jobMaxJobsPerUser:M,jobCapabilities:T,jobEnvVariables:P,tags:w},!0,{onSuccess:i})},children:function(){return Object(g.jsxs)(K.d,{id:"newsystem-form",children:[Object(g.jsx)(Zt.a,{check:!0,children:Object(g.jsxs)($t.a,{check:!0,size:"sm",className:"form-field__label",children:[Object(g.jsx)(vt.a,{type:"checkbox",onChange:h}),"Advanced Settings"]})}),Object(g.jsx)(on,{name:"sysname",label:"System Name",required:!0,description:"System name","aria-label":"Input"}),Object(g.jsx)(on,{name:"description",label:"Description",required:!1,description:"System description","aria-label":"Input"}),Object(g.jsxs)(mn,{name:"systemType",description:"The system type",label:"System Type",required:!0,"data-testid":"systemType",children:[Object(g.jsx)("option",{disabled:!0,value:"",children:"Select a system type"}),Oo.map((function(e){return Object(g.jsx)("option",{children:e})}))]}),Object(g.jsx)(on,{name:"host",label:"Host",required:!0,description:"Host of the system","aria-label":"Input"}),Object(g.jsxs)(mn,{name:"defaultAuthnMethod",description:"Authentication method for the system",label:"Default Authentication Method",required:!0,"data-testid":"defaultAuthnMethod",children:[Object(g.jsx)("option",{disabled:!0,value:"",children:"Select a default athenication method"}),xo.map((function(e){return Object(g.jsx)("option",{children:e})}))]}),Object(g.jsx)(vn,{name:"canExec",required:!0,label:"Can Execute",description:"Decides if the system can execute"}),Object(g.jsx)(vo,{simplified:m})]})}})}),footer:Object(g.jsx)(H,{className:Yc.a["modal-footer"],isLoading:c,error:o,success:u?"Successfully created a new system":"",reverse:!0,children:Object(g.jsx)(k.a,{form:"newsystem-form",color:"primary",disabled:c||u,"aria-label":"Submit",type:"submit",children:"Create a new system"})})})},go=n(195),_o=n.n(go),So=function(e){var t,n=e.toggle,i=O().claims,s=i.sub.substring(0,i.sub.lastIndexOf("@")),a=vi({search:"owner.like.".concat(s)}).data,c=null!==(t=null===a||void 0===a?void 0:a.result)&&void 0!==t?t:[],o=Object(y.b)(),l=Object(r.useCallback)((function(){o.invalidateQueries(pi.list)}),[o]),u=Ni(),d=u.deleteSystem,j=u.isLoading,b=u.error,m=u.isSuccess,p=u.reset;Object(r.useEffect)((function(){p()}),[p]);var h=Li.d({systemId:Li.e()});return Object(g.jsx)(z,{toggle:n,title:"Delete System",body:Object(g.jsx)("div",{className:_o.a["modal-settings"],children:Object(g.jsx)(K.e,{initialValues:{systemId:""},validationSchema:h,onSubmit:function(e){var t=e.systemId;d(t,{onSuccess:l})},children:function(){return Object(g.jsx)(K.d,{id:"newsystem-form",children:Object(g.jsxs)(mn,{name:"systemId",description:"The system id",label:"System ID",required:!0,"data-testid":"systemId",children:[Object(g.jsx)("option",{disabled:!0,value:"",children:"Select a system to delete"}),c.length?c.map((function(e){return Object(g.jsx)("option",{children:e.id})})):Object(g.jsx)("i",{children:"No systems found"})]})})}})}),footer:Object(g.jsx)(H,{className:_o.a["modal-footer"],isLoading:j,error:b,success:m?"Successfully deleted a system":"",reverse:!0,children:Object(g.jsx)(k.a,{form:"newsystem-form",color:"primary",disabled:j||m,"aria-label":"Submit",type:"submit",children:"Delete system"})})})},No=n(196),Co=n.n(No),Io=function(e){var t,n=e.toggle,i=xi().data,s=null!==(t=null===i||void 0===i?void 0:i.result)&&void 0!==t?t:[],a=Object(y.b)(),c=Object(r.useCallback)((function(){a.invalidateQueries(pi.list)}),[a]),o=Ci(),l=o.undeleteSystem,u=o.isLoading,d=o.error,j=o.isSuccess,b=o.reset;Object(r.useEffect)((function(){b()}),[b]);var m=Li.d({systemId:Li.e()});return Object(g.jsx)(z,{toggle:n,title:"Re-add a System",body:Object(g.jsx)("div",{className:Co.a["modal-settings"],children:Object(g.jsx)(K.e,{initialValues:{systemId:""},validationSchema:m,onSubmit:function(e){var t=e.systemId;l(t,{onSuccess:c})},children:function(){return Object(g.jsx)(K.d,{id:"newsystem-form",children:Object(g.jsxs)(mn,{name:"systemId",description:"The system id",label:"System ID",required:!0,"data-testid":"systemId",children:[Object(g.jsx)("option",{disabled:!0,value:"",children:"Select a system to re-add"}),s.length?s.map((function(e){return Object(g.jsx)("option",{children:e.id})})):Object(g.jsx)("i",{children:"No systems found"})]})})}})}),footer:Object(g.jsx)(H,{className:Co.a["modal-footer"],isLoading:u,error:d,success:j?"Successfully re-added a system":"",reverse:!0,children:Object(g.jsx)(k.a,{form:"newsystem-form",color:"primary",disabled:u||j,"aria-label":"Submit",type:"submit",children:"Re-add system"})})})},ko=["text","icon","onClick","disabled"],Ao=function(e){var t=e.text,n=e.icon,i=e.onClick,r=e.disabled,s=void 0===r||r,a=Object(L.a)(e,ko);return Object(g.jsx)("div",{children:Object(g.jsxs)(k.a,Object(w.a)(Object(w.a)({disabled:s,onClick:i,className:Wc.a["toolbar-btn"]},a),{},{children:[Object(g.jsx)(Je,{name:n}),Object(g.jsxs)("span",{children:[" ",t]})]}))})},Mo=function(){var e=Object(r.useState)(void 0),t=Object(l.a)(e,2),n=t[0],i=t[1],s=Object(Ht.h)().pathname,a=function(){i(void 0)};return Object(g.jsx)("div",{id:"file-operation-toolbar",children:s&&Object(g.jsxs)("div",{className:Wc.a["toolbar-wrapper"],children:[Object(g.jsx)(Ao,{text:"Create a New System",icon:"add",disabled:!1,onClick:function(){return i("createsystem")},"aria-label":"createSystem"}),Object(g.jsx)(Ao,{text:"Delete a System",icon:"trash",disabled:!1,onClick:function(){return i("deletesystem")},"aria-label":"deleteSystem"}),Object(g.jsx)(Ao,{text:"Re-Add a System",icon:"add",disabled:!1,onClick:function(){return i("undeletesystem")},"aria-label":"undeleteSystem"}),"createsystem"===n&&Object(g.jsx)(yo,{toggle:a}),"deletesystem"===n&&Object(g.jsx)(So,{toggle:a}),"undeletesystem"===n&&Object(g.jsx)(Io,{toggle:a})]})})},To=n(197),Po=n.n(To),wo=n(198),Lo=n.n(wo),Fo=function(e){var t=e.toggle,n=window.location.href,i=n.substring(n.indexOf("systems/")+8),s=Ii(),a=s.shareSystemPublic,c=s.isLoading,o=s.error,l=s.isSuccess,u=s.reset;Object(r.useEffect)((function(){u()}),[u]);return Object(g.jsx)(z,{toggle:t,title:"Share System",body:Object(g.jsx)("div",{className:Lo.a["modal-settings"],children:"Confirm to share the system publicly?"}),footer:Object(g.jsx)(H,{className:Lo.a["modal-footer"],isLoading:c,error:o,success:l?"Successfully shared a system":"",reverse:!0,children:Object(g.jsx)(k.a,{form:"newsystem-form",color:"primary",onClick:function(){a(i)},disabled:c||l,"aria-label":"Submit",type:"submit",children:"Share System"})})})},Eo=n(199),qo=n.n(Eo),Do=function(e){var t=e.toggle,n=window.location.href,i=n.substring(n.indexOf("systems/")+8),s=ki(),a=s.unShareSystemPublic,c=s.isLoading,o=s.error,l=s.isSuccess,u=s.reset;Object(r.useEffect)((function(){u()}),[u]);return Object(g.jsx)(z,{toggle:t,title:"UnShare System",body:Object(g.jsx)("div",{className:qo.a["modal-settings"],children:"Confirm to unShare the system publicly?"}),footer:Object(g.jsx)(H,{className:qo.a["modal-footer"],isLoading:c,error:o,success:l?"Successfully unshared a system":"",reverse:!0,children:Object(g.jsx)(k.a,{form:"newsystem-form",color:"primary",onClick:function(){a(i)},disabled:c||l,"aria-label":"Submit",type:"submit",children:"UnShare System"})})})},Uo=["text","icon","onClick","disabled"],Ro=function(e){var t=e.text,n=e.icon,i=e.onClick,r=e.disabled,s=void 0===r||r,a=Object(L.a)(e,Uo);return Object(g.jsx)("div",{children:Object(g.jsxs)(k.a,Object(w.a)(Object(w.a)({disabled:s,onClick:i,className:Po.a["toolbar-btn"]},a),{},{children:[Object(g.jsx)(Je,{name:n}),Object(g.jsxs)("span",{children:[" ",t]})]}))})},zo=function(){var e=Object(r.useState)(void 0),t=Object(l.a)(e,2),n=t[0],i=t[1],s=Object(Ht.h)().pathname,a=function(){i(void 0)};return Object(g.jsx)("div",{id:"file-operation-toolbar",children:s&&Object(g.jsxs)("div",{className:Po.a["toolbar-wrapper"],children:[Object(g.jsx)(Ro,{text:"Share System Publicly",icon:"unlock",disabled:!1,onClick:function(){return i("sharesystempublic")},"aria-label":"shareSystemPublic"}),Object(g.jsx)(Ro,{text:"UnShare System Publicly",icon:"lock",disabled:!1,onClick:function(){return i("unsharesystempublic")},"aria-label":"unShareSystemPublic"}),"sharesystempublic"===n&&Object(g.jsx)(Fo,{toggle:a}),"unsharesystempublic"===n&&Object(g.jsx)(Do,{toggle:a})]})})},Vo=function(e){var t=e.systemId,n=Object(g.jsxs)(Tr,{type:"sub-header",children:["System Details",Object(g.jsx)(zo,{})]}),i=Object(g.jsx)("div",{style:{flex:1},children:Object(g.jsx)(or,{systemId:t})});return Object(g.jsx)(kr,{top:n,right:i})},Bo=function(){var e=Object(Ht.i)().path;return Object(g.jsxs)(Ht.d,{children:[Object(g.jsx)(Ht.b,{path:"".concat(e),exact:!0,children:Object(g.jsx)(ct,{type:"info",children:"Select a system from the list."})}),Object(g.jsx)(Ht.b,{path:"".concat(e,"/:systemId"),render:function(e){var t=e.match.params.systemId;return Object(g.jsx)(Vo,{systemId:t})}})]})},Jo=function(){var e=Object(g.jsxs)(Tr,{children:[Object(g.jsx)("div",{children:"System List"}),Object(g.jsx)(Mo,{})]}),t=Object(g.jsx)(Pr,{children:Object(g.jsx)(Hc,{})}),n=Object(g.jsx)(wr,{children:Object(g.jsx)(Bo,{})});return Object(g.jsx)(kr,{top:e,left:t,right:n})},Ho=function(){var e,t=Object(Ht.i)().url,n=vi(),i=n.data,r=n.isLoading,s=n.error,a=null!==(e=null===i||void 0===i?void 0:i.result)&&void 0!==e?e:[];return Object(g.jsx)(V,{isLoading:r,error:s,children:Object(g.jsx)($r,{children:a.length?a.map((function(e){return Object(g.jsx)(Zr,{to:"".concat(t,"/").concat(e.id,"/"),icon:"folder",children:"".concat(e.id)},e.id)})):Object(g.jsx)("i",{children:"No systems found"})})})},Qo={selectedFiles:[],setSelectedFiles:function(){}},Wo=s.a.createContext(Qo),Ko=function(e){var t=e.children,n=Object(r.useState)([]),i=Object(l.a)(n,2),s={selectedFiles:i[0],setSelectedFiles:i[1]};return Object(g.jsx)(Wo.Provider,{value:s,children:t})},Yo=function(){var e=Object(r.useContext)(Wo),t=e.selectedFiles,n=e.setSelectedFiles,i=Object(r.useCallback)((function(e,i){if("single"===i&&1===e.length&&n(e),"multi"===i){var r=new Set(t.map((function(e){return e.path}))),s=[].concat(Object(C.a)(t),Object(C.a)(e.filter((function(e){return!r.has(e.path)}))));n(s)}}),[t,n]),s=Object(r.useCallback)((function(e){var i=new Set(t.map((function(e){return e.path})));e.forEach((function(e){var t;return i.delete(null!==(t=e.path)&&void 0!==t?t:"")}));var r=t.filter((function(e){return i.has(e.path)}));n(r)}),[t,n]),a=Object(r.useCallback)((function(){n([])}),[n]);return{selectedFiles:t,select:i,unselect:s,clear:a}},Go=n(200),Xo=n.n(Go),Zo=function(e){var t=e.systemId,n=e.path,i=e.location,s=Yo(),a=s.selectedFiles,c=s.select,o=s.unselect,l=s.clear;Object(r.useEffect)((function(){l()}),[t,n,l]);var u=Object(g.jsx)("div",{className:Xo.a.body,children:Object(g.jsx)(zi,{className:Xo.a.container,systemId:t,path:n,location:i,selectMode:{mode:"multi",types:["dir","file"]},selectedFiles:a,onSelect:function(e){return c(e,"multi")},onUnselect:o})});return Object(g.jsx)(kr,{right:u,constrain:!0})},$o=function(){var e=Object(Ht.i)().path,t=Object(Ht.h)().pathname;return Object(g.jsxs)(Ht.d,{children:[Object(g.jsx)(Ht.b,{path:"".concat(e),exact:!0,children:Object(g.jsx)(ct,{type:"info",children:"Select a system from the list."})}),Object(g.jsx)(Ht.b,{path:"".concat(e,"/:systemId/:systemPath*"),render:function(e){var n=e.match.params,i=n.systemId,r=n.systemPath;return Object(g.jsx)(Zo,{systemId:i,path:null!==r&&void 0!==r?r:"/",location:t})}})]})},el=n(201),tl=n.n(el),nl=function(e){var t=e.toggle,n=e.systemId,i=e.path,s=Object(r.useCallback)((function(){Bi.a.setFocused(!0)}),[]),a=Bn(),c=a.mkdir,o=a.isLoading,l=a.error,u=a.isSuccess,d=a.reset;Object(r.useEffect)((function(){d()}),[d]);var j=Li.d({dirname:Li.e().min(1).max(255,"Directory name cannot be longer than 255 characters").matches(/^[a-zA-Z0-9_.-]+$/,"Must contain only alphanumeric characters and the following: '.', '_', '-'").required("Directory name is a required field")});return Object(g.jsx)(z,{toggle:t,title:"Create Directory",body:Object(g.jsx)("div",{children:Object(g.jsx)(K.e,{initialValues:{dirname:""},validationSchema:j,onSubmit:function(e){var t=e.dirname;c(null!==n&&void 0!==n?n:"","".concat(null!==i&&void 0!==i?i:"/").concat(t),{onSuccess:s})},children:Object(g.jsx)(K.d,{id:"newdirectory-form",children:Object(g.jsx)(on,{name:"dirname",label:"Directory name",required:!0,description:"Creates a directory in ".concat(n,"/").concat(i),"aria-label":"Input"})})})}),footer:Object(g.jsx)(H,{isLoading:o,error:l,success:u?"Successfully created directory":"",reverse:!0,children:Object(g.jsx)(k.a,{form:"newdirectory-form",color:"primary",disabled:o||u,"aria-label":"Submit",type:"submit",children:"Create directory"})})})},il=n(273),rl=n(1050),sl=n(1047),al=function(e){var t=e.fn,n=e.onSuccess,i=e.onError,s=e.onComplete,a=e.onStart,c=Object(r.useState)(!1),o=Object(l.a)(c,2),u=o[0],d=o[1],j=Object(r.useState)(!1),b=Object(l.a)(j,2),m=b[0],p=b[1];return{isLoading:u,isFinished:m,run:function(e){d(!0),Object(il.a)(e).pipe(Object(sl.a)((function(e){return a&&a(e),Object(rl.a)(e)})),Object(sl.a)((function(e){return t(e).then((function(t){n&&n(e,t)})).catch((function(t){i&&i(e,t)}))}))).subscribe((function(){}),(function(){}),(function(){d(!1),p(!0),s&&s()}))}}},cl=function(e){var t=e.fn,n=e.key,i=void 0===n?function(e){return e.path}:n,s=e.onComplete,a=Object(r.useState)(!1),c=Object(l.a)(a,2),o=c[0],u=c[1],d=Object(r.useReducer)((function(e,t){var n=t.item,r=t.status,s=t.error;return Object(w.a)(Object(w.a)({},e),{},Object(ce.a)({},i(n),{status:r,error:s}))}),{}),j=Object(l.a)(d,2),b=j[0],m=j[1],p=al({fn:t,onStart:function(e){return m({item:e,status:Ys.loading})},onSuccess:function(e){return m({item:e,status:Ys.success})},onError:function(e,t){return m({item:e,status:Ys.error,error:t})},onComplete:s}),h=p.run,f=p.isLoading,v=p.isFinished,O=Object.entries(b).find((function(e){var t=Object(l.a)(e,2);t[0];return t[1].error})),x=O?O[1].error:null;return{run:function(e){return u(!0),h(e)},isLoading:f,isFinished:v,isSuccess:!f&&!x&&o,error:x,state:b}};!function(e){e.waiting="waiting",e.loading="loading",e.error="error",e.success="success",e.none="none"}(Ys||(Ys={}));var ol,ll=cl,ul=function(e){switch(e.status){case Ys.loading:return Object(g.jsx)(ae,{placement:"inline"});case Ys.success:return Object(g.jsx)(Je,{name:"approved-reverse",className:"success"});case Ys.error:return Object(g.jsx)(Je,{name:"alert"})}return Object(g.jsx)("div",{children:"Unknown status!"})},dl=n(102),jl=n.n(dl),bl=function(e){var t=e.toggle,n=e.systemId,i=void 0===n?"":n,s=e.path,a=void 0===s?"/":s,c=e.operation,o=Object(Ht.h)().pathname,u=Object(r.useState)(a),d=Object(l.a)(u,2),j=d[0],b=d[1],m=Yo(),p=m.selectedFiles,h=m.unselect,f=c.charAt(0)+c.toLowerCase().slice(1),v=Hn().copyAsync,O=Jn().moveAsync,x=c===gn.Files.MoveCopyRequestOperationEnum.Copy?v:O,y=Object(r.useCallback)((function(){Bi.a.setFocused(!0)}),[]),_=Object(r.useCallback)((function(e,t){b(t)}),[b]),S=Object(r.useCallback)((function(e){h([e]),1===p.length&&t()}),[p,t,h]),N=ll({fn:x,onComplete:y}),I=N.run,A=N.state,M=N.isLoading,T=N.isFinished,w=N.isSuccess,L=N.error,F=Object(r.useCallback)((function(){var e=p.map((function(e){return{systemId:i,newPath:"".concat(j,"/").concat(e.name),path:e.path}}));I(e)}),[p,I,j,i]),E=[{Header:"",id:"moveCopyStatus",Cell:function(e){var t=e.row.original.path;return A[t]?Object(g.jsx)(ul,{status:A[t].status}):Object(g.jsx)("span",{className:jl.a["remove-file"],onClick:function(){S(p[e.row.index])},children:"\u2715"})}}],q=Object(g.jsxs)("div",{className:"row h-100",children:[Object(g.jsxs)("div",{className:"col-md-6 d-flex flex-column",children:[Object(g.jsxs)("div",{className:"".concat(jl.a["col-header"]),children:["".concat(c===gn.Files.MoveCopyRequestOperationEnum.Copy?"Copying ":"Moving "),p.length," files"]}),Object(g.jsx)(P,{breadcrumbs:Object(C.a)(cr(o).splice(1).map((function(e){return{text:e.text}})))}),Object(g.jsx)("div",{className:jl.a["nav-list"],children:Object(g.jsx)(Ui,{files:p,className:"".concat(jl.a["file-list-origin"]," "),fields:["size"],appendColumns:E})})]}),Object(g.jsxs)("div",{className:"col-md-6 d-flex flex-column",children:[Object(g.jsx)("div",{className:"".concat(jl.a["col-header"]),children:"Destination"}),Object(g.jsx)(hr,{systemId:i,path:a,onNavigate:_,fields:["size"],className:jl.a["file-list"]})]})]}),D=Object(g.jsx)(H,{isLoading:M,error:L,success:w?"Successfully "+(c===gn.Files.MoveCopyRequestOperationEnum.Move?"moved":"copied")+" files":"",reverse:!0,children:Object(g.jsx)(k.a,{color:"primary",disabled:!j||j===a||M||T&&!L,"aria-label":"Submit",type:"submit",onClick:F,children:f})});return Object(g.jsx)(z,{toggle:t,title:"".concat(f," Files"),size:"xl",body:q,footer:D})},ml=function(e){var t,n,i=e.toggle,s=e.systemId,a=e.path,c=Yo(),o=c.selectedFiles,u=c.clear,d=Object(r.useState)(),j=Object(l.a)(d,2),b=j[0],m=j[1],p=o?o[0]:void 0,h=Object(r.useCallback)((function(){u(),Bi.a.setFocused(!0)}),[u]),f=Jn(),v=f.move,O=f.isLoading,x=f.error,y=f.isSuccess,_=f.reset;Object(r.useEffect)((function(){_()}),[_]);var S=Li.d({newname:Li.e().min(1).max(255,"The new filename cannot be longer than 255 characters").matches(/[a-zA-Z0-9_.-]+/,"Filename must contain only alphanumeric characters and the following: '.', '_', '-'").required("The new filename is required")}),N={newname:null!==(t=null!==(n=null===p||void 0===p?void 0:p.name)&&void 0!==n?n:b)&&void 0!==t?t:""},C=Object(r.useCallback)((function(e){var t=e.newname;m(t),(null===p||void 0===p?void 0:p.name)&&v({systemId:s,path:"".concat(a).concat(p.name),newPath:"".concat(a).concat(t)},{onSuccess:h})}),[m,p,v,h,s,a]),I=function(e){return"dir"===e?"directory":"file"};return Object(g.jsx)(z,{toggle:i,title:"Rename ".concat(I(null===p||void 0===p?void 0:p.type)),body:Object(g.jsx)("div",{children:Object(g.jsx)(K.e,{initialValues:N,validationSchema:S,onSubmit:C,children:Object(g.jsx)(K.d,{id:"rename-form",children:Object(g.jsx)(on,{name:"newname",label:"".concat(I(null===p||void 0===p?void 0:p.type).charAt(0).toUpperCase()+I(null===p||void 0===p?void 0:p.type).slice(1)," Name"),required:!0,description:"Rename File"})})})}),footer:Object(g.jsx)(H,{isLoading:!1,error:x,success:y?"Successfully renamed":"",reverse:!0,children:Object(g.jsx)(k.a,{form:"rename-form",color:"primary",disabled:O||y,"aria-label":"Submit",type:"submit",children:"Rename"})})})},pl=n(274),hl=n(89),fl=n.n(hl),vl=n(163),Ol=n.n(vl),xl=function(e){var t=e.value,n=(e.color,e.showProgress),i=void 0===n||n,r={"--width":"".concat(t,"%")};return Object(g.jsxs)("div",{className:Ol.a["progress-bar"],children:[Object(g.jsx)("div",{className:Ol.a["inner-bar"],style:r}),i&&Object(g.jsx)("div",{className:Ol.a.overlay,children:Object(g.jsxs)("p",{children:[t,"%"]})})]})};!function(e){e.loading="loading",e.progress="progress",e.error="error",e.success="success",e.none="none"}(ol||(ol={}));var yl=function(e){var t=e.toggle,n=e.path,i=e.systemId,s=e.maxFileSizeBytes,a=void 0===s?524288e3:s,c=Object(r.useState)([]),o=Object(l.a)(c,2),u=o[0],d=o[1],j=Object(r.useReducer)((function(e,t){var n=t.name,i=t.progress;return Object(w.a)(Object(w.a)({},e),{},Object(ce.a)({},n,i))}),{}),b=Object(l.a)(j,2),m=b[0],p=b[1],h=function(e,t){p({name:t.name,progress:e})},f=Object(r.useCallback)((function(e){var t=e.filter((function(e){return!u.some((function(t){return t.name===e.name||e.size>a}))}));d([].concat(Object(C.a)(u),Object(C.a)(t)))}),[u,d,a]),v=Object(pl.a)({onDrop:f}),O=v.getRootProps,x=v.getInputProps,y=Object(r.useCallback)((function(e){d(Object(C.a)(u.filter((function(t){return e.name!==t.name}))))}),[u,d]),_=Qn(),S=_.uploadAsync,N=_.reset,I=Object(r.useCallback)((function(){Bi.a.setFocused(!0)}),[]),A=ll({fn:S,key:function(e){return e.file.name},onComplete:I}),M=A.state,T=A.run,P=A.isLoading,L=A.isSuccess,F=A.error;Object(r.useEffect)((function(){N()}),[N,n]);var E=Object(r.useCallback)((function(){var e=u.map((function(e){return{systemId:i,path:n,file:e,progressCallback:h}}));T(e)}),[u,T,i,n]),q=function(e){return e.map((function(e){return{name:e.name,size:e.size,type:"file"}}))},D=[{Header:"",id:"deleteStatus",Cell:function(e){var t,n=e.row.original,i=null===(t=M[n.name])||void 0===t?void 0:t.status;return i?i===Ys.loading&&void 0!==m[n.name]?Object(g.jsx)("div",{className:fl.a["progress-bar-container"],children:Object(g.jsx)(xl,{value:m[n.name]})}):Object(g.jsx)(ul,{status:i}):Object(g.jsx)("span",{className:fl.a["remove-file"],onClick:function(){y(q(u)[e.row.index])},children:"\u2715"})}}];return Object(g.jsx)(z,{toggle:t,title:"Upload files",body:Object(g.jsxs)("div",{children:[!(P||L)&&Object(g.jsxs)("div",Object(w.a)(Object(w.a)({"aria-label":"Dropzone",className:fl.a["file-dropzone"]},O()),{},{children:[Object(g.jsx)("input",Object(w.a)({"aria-label":"File Input"},x())),Object(g.jsx)(k.a,{"aria-label":"File Select",children:"Select files"}),Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{children:"or drag and drop"}),Object(g.jsxs)("b",{children:["Max file size: ",Zn(a)]})]})]})),Object(g.jsxs)("h3",{className:fl.a["files-list-header"],children:["Uploading to ",i,"/",n]}),F&&Object(g.jsx)("p",{className:fl.a["upload-error"],children:F.message}),Object(g.jsx)("div",{className:fl.a["files-list-container"],children:Object(g.jsx)(Ui,{files:q(u),fields:["size"],appendColumns:D,className:fl.a["file-list-table"]})})]}),footer:Object(g.jsx)(H,{isLoading:P,error:F,success:L?"Successfully uploaded files":"",reverse:!0,children:Object(g.jsxs)(k.a,{color:"primary",disabled:P||L||!!F||0===u.length,"aria-label":"Submit",onClick:E,children:["Upload (",u.length,")"]})})})},gl=n(268),_l=n.n(gl),Sl=function(e){var t,n=e.toggle,i=e.systemId,r=(e.path,Yo().selectedFiles[0]),s=O().claims["tapis/username"],a=r.path,c=Kn({systemId:null!==i&&void 0!==i?i:"",path:a,username:s}),o=c.data,l=c.isLoading,u=c.error,d=(null===o||void 0===o||null===(t=o.result)||void 0===t?void 0:t.permission)===gn.Files.FilePermissionPermissionEnum.Modify,j={Info:Object(g.jsx)(Vi,{systemId:i,path:a,className:_l.a["list-content"]})};d&&(j["Linux Native Operations"]=Object(g.jsx)(Ji,{systemId:i,path:a}));var b=Object(g.jsx)(V,{isLoading:l,error:u,children:Object(g.jsx)(Yr,{tabs:j})});return Object(g.jsx)(z,{toggle:n,title:"Permissions",body:b})},Nl=n(164),Cl=n.n(Nl),Il=function(e){var t=e.toggle,n=e.systemId,i=void 0===n?"":n,s=e.path,a=void 0===s?"/":s,c=Yo(),o=c.selectedFiles,l=c.unselect,u=Gn(),d=u.deleteFileAsync,j=u.reset;Object(r.useEffect)((function(){j()}),[j]);var b=Object(r.useCallback)((function(){Bi.a.setFocused(!0)}),[]),m=ll({fn:d,onComplete:b}),p=m.run,h=m.state,f=m.isLoading,v=m.isSuccess,O=m.error,x=Object(r.useCallback)((function(){var e=o.map((function(e){return{systemId:i,path:e.path}}));p(e)}),[o,p,i]),y=Object(r.useCallback)((function(e){l([e]),1===o.length&&t()}),[o,t,l]),_=[{Header:"",id:"deleteStatus",Cell:function(e){var t=o[e.row.index];return h[t.path]?Object(g.jsx)(ul,{status:h[t.path].status}):Object(g.jsx)("span",{className:Cl.a["remove-file"],onClick:function(){y(o[e.row.index])},children:"\u2715"})}}];return Object(g.jsx)(z,{toggle:function(){t(),l(o)},title:"Delete files and folders",body:Object(g.jsxs)("div",{children:[Object(g.jsxs)("h3",{children:[i,"/",a]}),Object(g.jsx)("div",{className:Cl.a["files-list-container"],children:Object(g.jsx)(Ui,{files:o,fields:["size"],appendColumns:_,className:Cl.a["file-list-table"]})})]}),footer:Object(g.jsxs)(H,{isLoading:!1,error:O,success:v?"Successfully deleted files":"",reverse:!0,children:[Object(g.jsxs)(k.a,{color:"primary",disabled:f||v||0===o.length,"aria-label":"Submit",onClick:x,children:["Confirm delete (",o.length,")"]}),!v&&Object(g.jsx)(k.a,{color:"danger",disabled:f||v||0===o.length,"aria-label":"Cancel",onClick:function(){t()},children:"Cancel"})]})})},kl=n(58),Al=n.n(kl),Ml=function(e){var t,n,i=e.toggle,s=e.systemId,a=void 0===s?"":s,c=e.path,o=void 0===c?"/":c,u=Object(Ht.h)().pathname,d=Object(r.useState)({systemId:a,path:o}),j=Object(l.a)(d,2),b=j[0],m=j[1],p=Object(r.useState)(null),h=Object(l.a)(p,2),f=h[0],v=h[1],O=Yo().selectedFiles,x=Zi({}).refetch;Object(r.useEffect)((function(){var e=setInterval((function(){x()}),5e3);return function(){return clearInterval(e)}}),[x]);var y=Object(r.useCallback)((function(e,t){e&&t&&m({systemId:e,path:t})}),[m]),_=Object(r.useCallback)((function(e){v(e)}),[v]),S=Object(g.jsxs)("div",{className:"row h-100 ".concat(Al.a.pane),children:[Object(g.jsxs)("div",{className:"col-md-6 d-flex flex-column",children:[Object(g.jsxs)("div",{className:"".concat(Al.a["col-header"]),children:["Transfering ",O.length," files"]}),Object(g.jsx)(P,{breadcrumbs:Object(C.a)(cr(u).splice(1).map((function(e){return{text:e.text}})))}),Object(g.jsx)("div",{className:Al.a["nav-list"],children:Object(g.jsx)(Ui,{files:O,className:"".concat(Al.a["file-list-origin"]," "),fields:["size"]})})]}),Object(g.jsxs)("div",{className:"col-md-6 d-flex flex-column",children:[Object(g.jsx)("div",{className:"".concat(Al.a["col-header"]),children:"Destination"}),Object(g.jsx)(pr,{systemId:a,path:o,onNavigate:y,fields:["size"],className:Al.a["file-list"],allowSystemChange:!0}),Object(g.jsx)(sr,{sourceSystemId:a,destinationSystemId:null!==(t=null===b||void 0===b?void 0:b.systemId)&&void 0!==t?t:"",destinationPath:null!==(n=null===b||void 0===b?void 0:b.path)&&void 0!==n?n:"",files:O})]})]}),N=Object(g.jsxs)("div",{className:"row h-100 ".concat(Al.a.pane),children:[Object(g.jsx)("div",{className:"col-md-6 d-flex flex-column",children:Object(g.jsx)("div",{className:"".concat(Al.a["nav-list"]," ").concat(Al.a["transfer-list"]),children:Object(g.jsx)(nr,{onSelect:_})})}),Object(g.jsx)("div",{className:"col-md-6 d-flex flex-column",children:Object(g.jsx)("div",{children:f?Object(g.jsxs)("div",{children:[Object(g.jsx)(ir,{transferTaskId:null===f||void 0===f?void 0:f.uuid,className:Al.a["transfer-detail"]}),Object(g.jsx)(rr,{transferTaskId:null===f||void 0===f?void 0:f.uuid,className:Al.a["transfer-cancel"]})]}):Object(g.jsx)("i",{children:"Select a file transfer to view details"})})})]}),I={};O.length>0&&(I["Start a Transfer"]=S),I["Recent Transfers"]=N;var k=Object(g.jsx)(Yr,{tabs:I,className:Al.a.body});return Object(g.jsx)(z,{toggle:i,title:"Transfer Files",size:"xl",body:k})},Tl=n(1045),Pl=n(1058),wl=n(103),Ll=n.n(wl),Fl=function(e){var t=e.notification;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:Ll.a["notification-toast-icon-wrapper"],children:Object(g.jsx)(Je,{name:t.icon,className:"ERROR"===t.status?Ll.a["toast-is-error"]:""})}),Object(g.jsx)("div",{className:Ll.a["notification-toast-content"],children:Object(g.jsx)("span",{children:t.message})})]})},El=function(){var e=Ul(),t=e.notifications,n=e.markread,i=Object(r.useState)(!1),a=Object(l.a)(i,2),c=a[0],o=a[1],u=Object(r.useState)(null),d=Object(l.a)(u,2),j=d[0],b=d[1],m=s.a.useState(void 0),p=Object(l.a)(m,2),h=p[0],f=p[1];Object(r.useEffect)((function(){t.length&&!j?(b(Object(w.a)({},t[0])),f((function(){return function(e){return Object(g.jsx)(Pl.a,Object(w.a)(Object(w.a)({},e),{},{direction:"right"}))}})),o(!0)):t.length&&j&&c&&(o(!1),n(null===j||void 0===j?void 0:j.id),b(Object(w.a)({},t[0])),f((function(){return function(e){return Object(g.jsx)(Pl.a,Object(w.a)(Object(w.a)({},e),{},{direction:"right"}))}})),o(!0))}),[t]);return j&&!j.read?Object(g.jsx)(Tl.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:h,open:c,autoHideDuration:3500,onClose:function(e,t){"clickaway"!==t&&o(!1)},TransitionProps:{onExited:function(){b(null),n(null===j||void 0===j?void 0:j.id)}},classes:{anchorOriginBottomLeft:Ll.a["notification-toast-container"]},ContentProps:{classes:{root:Ll.a["notification-toast"],message:Ll.a["notification-toast-body"]}},message:Object(g.jsx)(Fl,{notification:j.notification})},j?j.id:void 0):null},ql={notifications:[],dispatch:function(){}},Dl=s.a.createContext(ql),Ul=function(){var e=Object(r.useContext)(Dl),t=e.notifications,n=e.dispatch;return{notifications:t,add:function(e){var t=Object(I.a)();return n({operation:"add",notification:e,id:t}),t},markread:function(e){n({operation:"markread",id:e})},remove:function(e){n({operation:"remove",id:e})},set:function(e,t){n({operation:"set",id:e,notification:t})}}},Rl=function(e,t){var n=t.operation,i=t.notification,r=t.id;if("add"===n){if(!i)throw new Error("notification field missing");return[{notification:i,id:r,read:!1}].concat(Object(C.a)(e))}var s=e.findIndex((function(e){return e.id===r}));if(-1===s)throw new Error("Could not find notification with id ".concat(r));if("markread"===n)return e[s].read=!0,Object(C.a)(e);if("set"===n){if(!i)throw new Error("notification field missing");return e[s].notification=Object(w.a)({},i),Object(C.a)(e)}return"remove"===n?(e.splice(s,1),Object(C.a)(e)):e},zl=function(e){var t=e.children,n=Object(r.useReducer)(Rl,[]),i=Object(l.a)(n,2),s={notifications:i[0],dispatch:i[1]};return Object(g.jsxs)(Dl.Provider,{value:s,children:[Object(g.jsx)(El,{}),t]})},Vl=["text","icon","onClick","disabled"],Bl=function(e){var t=e.text,n=e.icon,i=e.onClick,r=e.disabled,s=void 0===r||r,a=Object(L.a)(e,Vl);return Object(g.jsx)("div",{children:Object(g.jsxs)(k.a,Object(w.a)(Object(w.a)({disabled:s,onClick:i,className:tl.a["toolbar-btn"]},a),{},{children:[Object(g.jsx)(Je,{name:n}),Object(g.jsxs)("span",{children:[" ",t]})]}))})},Jl=function(){var e,t=Object(r.useState)(void 0),n=Object(l.a)(t,2),i=n[0],s=n[1],a=Yo().selectedFiles,c=Object(Ht.h)().pathname,o=c.split("/")[2],u=c.split("/").splice(3).join("/"),d=Xn().download,j=Ul().add,b=Kn({systemId:o,path:u}).data,m=null===b||void 0===b||null===(e=b.result)||void 0===e?void 0:e.permission,p=Object(r.useCallback)((function(){a.forEach((function(e){var t,n,i={systemId:o,path:null!==(t=e.path)&&void 0!==t?t:"",destination:null!==(n=e.name)&&void 0!==n?n:"tapisfile"},r="dir"===e.type;r&&(i.zip=!0,i.destination="".concat(i.destination,".zip"),j({icon:"data-files",message:"Preparing download"}),i.onStart=function(e){j({icon:"data-files",message:"Starting download"})}),d(i,{onError:r?function(){j({icon:"data-files",message:"Download failed",status:"ERROR"})}:void 0})}))}),[a,j,d,o]),h=function(){s(void 0)};return Object(g.jsx)("div",{id:"file-operation-toolbar",children:"/files"!==c&&Object(g.jsxs)("div",{className:tl.a["toolbar-wrapper"],children:[Object(g.jsx)(Bl,{text:"Rename",icon:"rename",disabled:1!==a.length||m!==gn.Files.FilePermissionPermissionEnum.Modify,onClick:function(){return s("rename")},"aria-label":"Rename"}),Object(g.jsx)(Bl,{text:"Move",icon:"move",disabled:0===a.length||m!==gn.Files.FilePermissionPermissionEnum.Modify,onClick:function(){return s("move")},"aria-label":"Move"}),Object(g.jsx)(Bl,{text:"Copy",icon:"copy",disabled:0===a.length,onClick:function(){return s("copy")},"aria-label":"Copy"}),Object(g.jsx)(Bl,{text:"Transfers",icon:"globe",disabled:!1,onClick:function(){return s("transfer")}}),Object(g.jsx)(Bl,{text:"Download",icon:"download",disabled:0===a.length,onClick:p,"aria-label":"Download"}),Object(g.jsx)(Bl,{text:"Upload",icon:"upload",disabled:m!==gn.Files.FilePermissionPermissionEnum.Modify,onClick:function(){s("upload")},"aria-label":"Upload"}),Object(g.jsx)(Bl,{text:"Folder",icon:"add",disabled:m!==gn.Files.FilePermissionPermissionEnum.Modify,onClick:function(){return s("createdir")},"aria-label":"Add"}),Object(g.jsx)(Bl,{text:"Delete",icon:"trash",disabled:0===a.length||m!==gn.Files.FilePermissionPermissionEnum.Modify,onClick:function(){return s("delete")},"aria-label":"Delete"}),"createdir"===i&&Object(g.jsx)(nl,{toggle:h,systemId:o,path:u}),"copy"===i&&Object(g.jsx)(bl,{toggle:h,systemId:o,path:u,operation:gn.Files.MoveCopyRequestOperationEnum.Copy}),"move"===i&&Object(g.jsx)(bl,{toggle:h,systemId:o,path:u,operation:gn.Files.MoveCopyRequestOperationEnum.Move}),"rename"===i&&Object(g.jsx)(ml,{toggle:h,systemId:o,path:u}),"transfer"===i&&Object(g.jsx)(Ml,{toggle:h,systemId:o,path:u}),"upload"===i&&Object(g.jsx)(yl,{toggle:h,path:u,systemId:o}),"permissions"===i&&Object(g.jsx)(Sl,{toggle:h,systemId:o,path:u}),"delete"===i&&Object(g.jsx)(Il,{toggle:h,systemId:o,path:u})]})})},Hl=n(269),Ql=n.n(Hl),Wl=function(){var e=Object(Ht.h)().pathname,t=cr(e).splice(1),n=Object(g.jsxs)(Tr,{children:[Object(g.jsx)("div",{className:Ql.a.breadcrumbs,children:Object(g.jsx)(P,{breadcrumbs:[{text:"Files"}].concat(Object(C.a)(t))})}),Object(g.jsx)(Jl,{})]}),i=Object(g.jsx)(Pr,{children:Object(g.jsx)(Ho,{})}),r=Object(g.jsx)(wr,{constrain:!0,children:Object(g.jsx)($o,{})});return Object(g.jsx)(Ko,{children:Object(g.jsx)(kr,{top:n,left:i,right:r})})},Kl=n(116),Yl=n.n(Kl),Gl={short:Object(g.jsx)("a",{href:window.location.href,onClick:function(e){return e.preventDefault()},className:"wb-link",children:"Example link"}),long:Object(g.jsx)("a",{href:window.location.href,onClick:function(e){return e.preventDefault()},className:"wb-link",children:"Example link can be a complete sentence."})},Xl={short:"You exist.",long:"All your information, are belong to us."},Zl={short:"We did well.",long:"All your success, are belong to us."},$l={short:"You did poorly.",long:"All your warning, are come from us."},eu={short:"You failed.",long:"All your error, are belong to you."},tu=Object(g.jsxs)("em",{children:["Can not render in isolation. See"," ",Object(g.jsx)("a",{href:"https://xd.adobe.com/view/db2660cc-1011-4f26-5d31-019ce87c1fe8-ad17/screen/3821fc3e-bda1-40d4-9e50-a514e90aa088/",target:"_blank",rel:"noreferrer",children:"Adobe Design."})]});var nu=function(){return Object(g.jsxs)("table",{className:Yl.a.container,children:[Object(g.jsxs)("thead",{children:[Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"row",className:Yl.a.secondary,children:"component"}),Object(g.jsxs)("th",{scope:"col",children:[Object(g.jsx)("code",{children:"<InlineMessage>"}),Object(g.jsx)("code",{children:'<Message scope="inline">'})]}),Object(g.jsxs)("th",{scope:"col",children:[Object(g.jsx)("code",{children:"<SectionMessage (canDismiss)>"}),Object(g.jsx)("code",{children:'<Message scope="section" (canDismiss)>'})]}),Object(g.jsxs)("th",{scope:"col",children:[Object(g.jsx)("code",{children:Object(g.jsx)("s",{children:"<AppMessage>"})}),Object(g.jsx)("code",{children:"<NotifcationToast>"})]})]}),Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"row",className:Yl.a.secondary,children:Object(g.jsx)("code",{children:"scope"})}),Object(g.jsx)("th",{scope:"col",children:Object(g.jsx)("code",{children:"inline"})}),Object(g.jsx)("th",{scope:"col",children:Object(g.jsx)("code",{children:"section"})}),Object(g.jsx)("th",{scope:"col",children:Object(g.jsx)("code",{children:"app"})})]}),Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"col",className:Yl.a.secondary,children:Object(g.jsx)("code",{children:"type"})}),Object(g.jsxs)("td",{children:["When to Use",Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{children:"action result statement in table row"}),Object(g.jsx)("li",{children:"message when table can not load data"})]})]}),Object(g.jsxs)("td",{children:["When to Use",Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{children:"warning at the top of a form"}),Object(g.jsx)("li",{children:"message after successful submission of form"})]})]}),Object(g.jsxs)("td",{children:["When to Use",Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{children:"user action is required"}),Object(g.jsx)("li",{children:"important user-initiated action is completed"}),Object(g.jsx)("li",{children:"security concern"}),Object(g.jsx)("li",{children:"milestone for time-sensitive activity"})]})]})]})]}),Object(g.jsxs)("tbody",{children:[Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"row",children:Object(g.jsx)("code",{children:"info"})}),Object(g.jsxs)("td",{children:[Object(g.jsxs)(st,{type:"info",children:[Xl.long," ",Gl.short]}),Object(g.jsx)("hr",{}),Object(g.jsxs)(st,{type:"info",children:[Xl.short," ",Gl.long]})]}),Object(g.jsxs)("td",{children:[Object(g.jsxs)(ct,{type:"info",children:[Xl.long," ",Gl.short]}),Object(g.jsxs)(ct,{type:"info",canDismiss:!0,children:[Xl.short," ",Gl.long]})]}),Object(g.jsx)("td",{rowSpan:"2",children:tu})]}),Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"row",children:Object(g.jsx)("code",{children:"success"})}),Object(g.jsxs)("td",{children:[Object(g.jsxs)(st,{type:"success",children:[Zl.long," ",Gl.short]}),Object(g.jsx)("hr",{}),Object(g.jsxs)(st,{type:"success",children:[Zl.short," ",Gl.long]})]}),Object(g.jsxs)("td",{children:[Object(g.jsxs)(ct,{type:"success",children:[Zl.long," ",Gl.short]}),Object(g.jsxs)(ct,{type:"success",canDismiss:!0,children:[Zl.short," ",Gl.long]})]})]}),Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"row",children:Object(g.jsx)("code",{children:"warn"})}),Object(g.jsxs)("td",{children:[Object(g.jsxs)(st,{type:"warn",children:[$l.long," ",Gl.short]}),Object(g.jsx)("hr",{}),Object(g.jsxs)(st,{type:"warn",children:[$l.short," ",Gl.long]})]}),Object(g.jsxs)("td",{children:[Object(g.jsxs)(ct,{type:"warn",children:[$l.long," ",Gl.short]}),Object(g.jsxs)(ct,{type:"warn",canDismiss:!0,children:[$l.short," ",Gl.long]})]}),Object(g.jsx)("td",{rowSpan:"2",className:Yl.a["is-row-end"],children:tu})]}),Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"row",children:Object(g.jsx)("code",{children:"error"})}),Object(g.jsxs)("td",{children:[Object(g.jsxs)(st,{type:"error",children:[eu.long," ",Gl.short]}),Object(g.jsx)("hr",{}),Object(g.jsxs)(st,{type:"error",children:[eu.short," ",Gl.long]})]}),Object(g.jsxs)("td",{children:[Object(g.jsxs)(ct,{type:"error",children:[eu.long," ",Gl.short]}),Object(g.jsxs)(ct,{type:"error",canDismiss:!0,children:[eu.short," ",Gl.long]})]})]})]})]})},iu=n(117),ru=n.n(iu),su={Username:"bobward500",Prefix:"Mr.",Name:"Bob Ward",Suffix:"The 5th","Favorite Numeric Value":5,Icon:Object(g.jsx)(Je,{name:"dashboard"})};var au=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:ru.a["list-cols"],children:[Object(g.jsxs)("dl",{children:[Object(g.jsx)("dt",{children:"Vertical Layout & Default Density"}),Object(g.jsx)("dd",{children:Object(g.jsx)(ft,{data:su})})]}),Object(g.jsxs)("dl",{children:[Object(g.jsx)("dt",{children:"Vertical Layout & Compact Density"}),Object(g.jsx)("dd",{children:Object(g.jsx)(ft,{data:su,density:"compact"})})]}),Object(g.jsxs)("dl",{children:[Object(g.jsx)("dt",{children:"Vertical Layout & Compact Density - Narrow Container"}),Object(g.jsx)("dd",{children:Object(g.jsx)(ft,{data:su,density:"compact",className:ru.a["item-x-narrow"]})})]})]}),Object(g.jsx)("div",{className:ru.a["list-rows"],children:Object(g.jsxs)("dl",{children:[Object(g.jsx)("dt",{children:"Horizontal Layout & Default Density"}),Object(g.jsx)("dd",{children:Object(g.jsx)(ft,{data:su,direction:"horizontal"})}),Object(g.jsx)("dt",{children:"Horizontal Layout & Compact Density"}),Object(g.jsx)("dd",{children:Object(g.jsx)(ft,{data:su,density:"compact",direction:"horizontal"})}),Object(g.jsx)("dt",{children:"Horizontal Layout & Compact Density - Narrow Container"}),Object(g.jsx)("dd",{children:Object(g.jsx)(ft,{data:su,density:"compact",direction:"horizontal",className:ru.a["item-narrow"]})})]})}),Object(g.jsx)("div",{className:ru.a["list-rows"],children:Object(g.jsxs)("dl",{children:[Object(g.jsx)("dt",{children:"Vertical Layout & Nested Data"}),Object(g.jsx)("dd",{children:Object(g.jsx)(ft,{data:{"Nested List One":Object(g.jsx)(ft,{data:su,direction:"vertical"}),"Nested List Two":Object(g.jsx)(ft,{data:su,direction:"vertical"})}})}),Object(g.jsx)("dt",{children:"Horizontal Layout & Nested Data"}),Object(g.jsx)("dd",{children:Object(g.jsx)(ft,{data:{"Nested List One":Object(g.jsx)(ft,{data:su,direction:"horizontal"}),"Nested List Two":Object(g.jsx)(ft,{data:su,direction:"horizontal"})},direction:"vertical"})})]})})]})};var cu=function(){return Object(g.jsxs)("dl",{children:[Object(g.jsxs)("dt",{children:["Default (",Object(g.jsx)("code",{children:"single"}),")"]}),Object(g.jsxs)("dd",{children:[Object(g.jsx)("small",{children:"Only field (not dropdown) can be styled cross-browser."}),Object(g.jsxs)(_t,{children:[Object(g.jsxs)("optgroup",{label:"Cryptographic People",children:[Object(g.jsx)("option",{value:"alice",children:"Alice"}),Object(g.jsx)("option",{value:"bob",children:"Bob"}),Object(g.jsx)("option",{value:"charlie",children:"Charlie"})]}),Object(g.jsxs)("optgroup",{label:"Common American Fruit",children:[Object(g.jsx)("option",{value:"apple",children:"Apple"}),Object(g.jsx)("option",{value:"banana",children:"Banana"}),Object(g.jsx)("option",{value:"grapes",children:"Grapes"})]})]})]}),Object(g.jsxs)("dt",{children:["Multiple (",Object(g.jsx)("code",{children:"multiple"}),")"]}),Object(g.jsxs)("dd",{children:[Object(g.jsx)("small",{children:"Styling options are limited and browser-dependent."}),Object(g.jsxs)(_t,{type:"multiple",children:[Object(g.jsxs)("optgroup",{label:"Cryptographic People",children:[Object(g.jsx)("option",{value:"alice",children:"Alice"}),Object(g.jsx)("option",{value:"bob",children:"Bob"}),Object(g.jsx)("option",{value:"charlie",children:"Charlie"})]}),Object(g.jsxs)("optgroup",{label:"Common American Fruit",children:[Object(g.jsx)("option",{value:"apple",children:"Apple"}),Object(g.jsx)("option",{value:"banana",children:"Banana"}),Object(g.jsx)("option",{value:"grapes",children:"Grapes"})]})]})]})]})};var ou=function(){return Object(g.jsxs)("dl",{children:[Object(g.jsx)("dt",{children:"Default Pill (normal)"}),Object(g.jsx)("dd",{children:Object(g.jsx)(Tt,{children:"Example Pill"})}),Object(g.jsx)("dt",{children:"Normal Pill"}),Object(g.jsx)("dd",{children:Object(g.jsx)(Tt,{type:"normal",children:"Normal Pill"})}),Object(g.jsx)("dt",{children:"Success Pill"}),Object(g.jsx)("dd",{children:Object(g.jsx)(Tt,{type:"success",children:"Success Pill"})}),Object(g.jsx)("dt",{children:"Warning Pill"}),Object(g.jsx)("dd",{children:Object(g.jsx)(Tt,{type:"warning",children:"Warning Pill"})}),Object(g.jsx)("dt",{children:"Danger Pill"}),Object(g.jsx)("dd",{children:Object(g.jsx)(Tt,{type:"danger",children:"Danger Pill"})})]})},lu=n(270),uu=n.n(lu);var du=function(){return Object(g.jsx)("div",{className:uu.a.root,children:Object(g.jsx)(Rt,{children:"Long text beyond 4 lines should be clamped. Short text should not be clamped. This element is responsive to line number changes due to window resizing. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis dapibus leo ornare sem mollis viverra. Sed metus tortor, luctus vitae tempus a, consectetur eu enim. Vivamus euismod ante sed augue aliquam, at venenatis risus varius. Duis laoreet, tellus at euismod consequat, nulla neque vestibulum sapien, at placerat erat nibh at ligula. Interdum et malesuada fames ac ante ipsum primis in faucibus. Vestibulum mattis elit non enim gravida tempus. Quisque et nisi ligula. Quisque sagittis vel ex sed rhoncus. In lacus purus, elementum vel ullamcorper at, accumsan congue sem. Morbi eu mattis magna. Donec arcu ligula, mollis ac leo ut, pretium euismod turpis. Maecenas quis elit id dui vehicula sagittis semper aliquet enim."})})},ju=n(71),bu=n.n(ju);var mu=function(){return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:bu.a.items,children:[Object(g.jsxs)("div",{className:bu.a["grid-item"],children:[Object(g.jsx)("h6",{children:"Message & Notification"}),Object(g.jsx)(nu,{})]}),Object(g.jsxs)("div",{className:bu.a["grid-item"],children:[Object(g.jsx)("h6",{children:"DropdownSelector"}),Object(g.jsx)(cu,{})]})]}),Object(g.jsx)("div",{className:bu.a.items,children:Object(g.jsxs)("div",{className:bu.a["grid-item"],children:[Object(g.jsx)("h6",{children:"DescriptionList"}),Object(g.jsx)(au,{})]})}),Object(g.jsx)("div",{className:bu.a.items,children:Object(g.jsxs)("div",{className:bu.a["grid-item"],children:[Object(g.jsx)("h6",{children:"Pills"}),Object(g.jsx)(ou,{})]})}),Object(g.jsx)("div",{className:bu.a.items,children:Object(g.jsxs)("div",{className:bu.a["grid-item"],children:[Object(g.jsx)("h6",{children:"Read More"}),Object(g.jsx)(du,{})]})})]})},pu=function(){var e=is().logout;return Object(g.jsxs)(Ht.d,{children:[Object(g.jsx)(Ht.b,{exact:!0,path:"/",children:Object(g.jsx)(Fc,{})}),Object(g.jsx)(Ht.b,{path:"/login",children:Object(g.jsx)(kc,{})}),Object(g.jsx)(Ht.b,{path:"/oauth2",children:Object(g.jsx)(Ic,{})}),Object(g.jsx)(Ht.b,{path:"/logout",render:function(){return e(),Object(g.jsx)(Ht.a,{to:"/login"})}}),Object(g.jsx)(Wt,{path:"/systems",children:Object(g.jsx)(Jo,{})}),Object(g.jsx)(Wt,{path:"/apps",children:Object(g.jsx)(Nc,{})}),Object(g.jsx)(Wt,{path:"/jobs",children:Object(g.jsx)(Jc,{})}),Object(g.jsx)(Wt,{path:"/files",children:Object(g.jsx)(Wl,{})}),Object(g.jsxs)(Ht.b,{path:"/uipatterns",children:[Object(g.jsx)(we,{children:"UI Patterns"}),Object(g.jsx)(mu,{})]})]})},hu=(n(981),n(1055)),fu=n(1056),vu=n(1057),Ou=n(1044),xu=function(){var e=O().claims,t=Object(Ht.g)(),n=Object(r.useState)(!1),i=Object(l.a)(n,2),s=i[0],a=i[1],c=Object(g.jsxs)("div",{className:"tapis-ui__header",children:[Object(g.jsx)(o.b,{to:"/",style:{color:"black",textDecoration:"none"},children:Object(g.jsxs)("div",{children:[Object(g.jsx)("img",{src:"https://raw.githubusercontent.com/jaeestee/scoped-tapis-ui/main/public/SCOPED_Logo.ico",alt:"SCOPED Logo"})," ","SCOPED"]})}),Object(g.jsx)("div",{children:e.sub&&Object(g.jsxs)(hu.a,{size:"sm",isOpen:s,toggle:function(){return a(!s)},className:"dropdown-button",children:[Object(g.jsx)(fu.a,{caret:!0,children:e.sub}),Object(g.jsx)(vu.a,{style:{maxHeight:"50vh",overflowY:"scroll"},children:Object(g.jsx)(Ou.a,{onClick:function(){return t.push("/logout")},children:"Logout"})})]})})]}),u=Object(g.jsx)("div",{className:"workbench-content",children:Object(g.jsx)(pu,{})});return Object(g.jsx)(zl,{children:Object(g.jsx)("div",{style:{display:"flex",flexGrow:1,height:"100vh"},children:Object(g.jsx)(kr,{top:c,left:Object(g.jsx)(es,{}),right:u})})})},yu=(n(995),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1059)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),s(e),a(e)}))});c.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(_,{basePath:"https://scoped.tapis.io",children:Object(g.jsx)(o.a,{children:Object(g.jsx)(xu,{})})})}),document.getElementById("react-root")),yu()}},[[996,1,2]]]);
//# sourceMappingURL=main.9723fbda.chunk.js.map